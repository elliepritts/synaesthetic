!function(e,t){"object"==typeof module&&"object"==typeof module.exports?module.exports=e.document?t(e,!0):function(e){if(!e.document)throw new Error("jQuery requires a window with a document");return t(e)}:t(e)}("undefined"!=typeof window?window:this,function(e,t){function n(e){var t=e.length,n=et.type(e);return"function"===n||et.isWindow(e)?!1:1===e.nodeType&&t?!0:"array"===n||0===t||"number"==typeof t&&t>0&&t-1 in e}function i(e,t,n){if(et.isFunction(t))return et.grep(e,function(e,i){return!!t.call(e,i,e)!==n});if(t.nodeType)return et.grep(e,function(e){return e===t!==n});if("string"==typeof t){if(ot.test(t))return et.filter(t,e,n);t=et.filter(t,e)}return et.grep(e,function(e){return V.call(t,e)>=0!==n})}function r(e,t){for(;(e=e[t])&&1!==e.nodeType;);return e}function s(e){var t=dt[e]={};return et.each(e.match(pt)||[],function(e,n){t[n]=!0}),t}function a(){Z.removeEventListener("DOMContentLoaded",a,!1),e.removeEventListener("load",a,!1),et.ready()}function o(){Object.defineProperty(this.cache={},0,{get:function(){return{}}}),this.expando=et.expando+Math.random()}function u(e,t,n){var i;if(void 0===n&&1===e.nodeType)if(i="data-"+t.replace(_t,"-$1").toLowerCase(),n=e.getAttribute(i),"string"==typeof n){try{n="true"===n?!0:"false"===n?!1:"null"===n?null:+n+""===n?+n:bt.test(n)?et.parseJSON(n):n}catch(r){}yt.set(e,t,n)}else n=void 0;return n}function l(){return!0}function c(){return!1}function h(){try{return Z.activeElement}catch(e){}}function f(e,t){return et.nodeName(e,"table")&&et.nodeName(11!==t.nodeType?t:t.firstChild,"tr")?e.getElementsByTagName("tbody")[0]||e.appendChild(e.ownerDocument.createElement("tbody")):e}function p(e){return e.type=(null!==e.getAttribute("type"))+"/"+e.type,e}function d(e){var t=Et.exec(e.type);return t?e.type=t[1]:e.removeAttribute("type"),e}function m(e,t){for(var n=0,i=e.length;i>n;n++)gt.set(e[n],"globalEval",!t||gt.get(t[n],"globalEval"))}function v(e,t){var n,i,r,s,a,o,u,l;if(1===t.nodeType){if(gt.hasData(e)&&(s=gt.access(e),a=gt.set(t,s),l=s.events)){delete a.handle,a.events={};for(r in l)for(n=0,i=l[r].length;i>n;n++)et.event.add(t,r,l[r][n])}yt.hasData(e)&&(o=yt.access(e),u=et.extend({},o),yt.set(t,u))}}function g(e,t){var n=e.getElementsByTagName?e.getElementsByTagName(t||"*"):e.querySelectorAll?e.querySelectorAll(t||"*"):[];return void 0===t||t&&et.nodeName(e,t)?et.merge([e],n):n}function y(e,t){var n=t.nodeName.toLowerCase();"input"===n&&Tt.test(e.type)?t.checked=e.checked:("input"===n||"textarea"===n)&&(t.defaultValue=e.defaultValue)}function b(t,n){var i=et(n.createElement(t)).appendTo(n.body),r=e.getDefaultComputedStyle?e.getDefaultComputedStyle(i[0]).display:et.css(i[0],"display");return i.detach(),r}function _(e){var t=Z,n=$t[e];return n||(n=b(e,t),"none"!==n&&n||(qt=(qt||et("<iframe frameborder='0' width='0' height='0'/>")).appendTo(t.documentElement),t=qt[0].contentDocument,t.write(),t.close(),n=b(e,t),qt.detach()),$t[e]=n),n}function x(e,t,n){var i,r,s,a,o=e.style;return n=n||Wt(e),n&&(a=n.getPropertyValue(t)||n[t]),n&&(""!==a||et.contains(e.ownerDocument,e)||(a=et.style(e,t)),zt.test(a)&&Bt.test(t)&&(i=o.width,r=o.minWidth,s=o.maxWidth,o.minWidth=o.maxWidth=o.width=a,a=n.width,o.width=i,o.minWidth=r,o.maxWidth=s)),void 0!==a?a+"":a}function w(e,t){return{get:function(){return e()?void delete this.get:(this.get=t).apply(this,arguments)}}}function k(e,t){if(t in e)return t;for(var n=t[0].toUpperCase()+t.slice(1),i=t,r=Yt.length;r--;)if(t=Yt[r]+n,t in e)return t;return i}function T(e,t,n){var i=Gt.exec(t);return i?Math.max(0,i[1]-(n||0))+(i[2]||"px"):t}function S(e,t,n,i,r){for(var s=n===(i?"border":"content")?4:"width"===t?1:0,a=0;4>s;s+=2)"margin"===n&&(a+=et.css(e,n+wt[s],!0,r)),i?("content"===n&&(a-=et.css(e,"padding"+wt[s],!0,r)),"margin"!==n&&(a-=et.css(e,"border"+wt[s]+"Width",!0,r))):(a+=et.css(e,"padding"+wt[s],!0,r),"padding"!==n&&(a+=et.css(e,"border"+wt[s]+"Width",!0,r)));return a}function A(e,t,n){var i=!0,r="width"===t?e.offsetWidth:e.offsetHeight,s=Wt(e),a="border-box"===et.css(e,"boxSizing",!1,s);if(0>=r||null==r){if(r=x(e,t,s),(0>r||null==r)&&(r=e.style[t]),zt.test(r))return r;i=a&&(Q.boxSizingReliable()||r===e.style[t]),r=parseFloat(r)||0}return r+S(e,t,n||(a?"border":"content"),i,s)+"px"}function I(e,t){for(var n,i,r,s=[],a=0,o=e.length;o>a;a++)i=e[a],i.style&&(s[a]=gt.get(i,"olddisplay"),n=i.style.display,t?(s[a]||"none"!==n||(i.style.display=""),""===i.style.display&&kt(i)&&(s[a]=gt.access(i,"olddisplay",_(i.nodeName)))):s[a]||(r=kt(i),(n&&"none"!==n||!r)&&gt.set(i,"olddisplay",r?n:et.css(i,"display"))));for(a=0;o>a;a++)i=e[a],i.style&&(t&&"none"!==i.style.display&&""!==i.style.display||(i.style.display=t?s[a]||"":"none"));return e}function D(e,t,n,i,r){return new D.prototype.init(e,t,n,i,r)}function R(){return setTimeout(function(){Xt=void 0}),Xt=et.now()}function C(e,t){var n,i=0,r={height:e};for(t=t?1:0;4>i;i+=2-t)n=wt[i],r["margin"+n]=r["padding"+n]=e;return t&&(r.opacity=r.width=e),r}function O(e,t,n){for(var i,r=(nn[t]||[]).concat(nn["*"]),s=0,a=r.length;a>s;s++)if(i=r[s].call(n,t,e))return i}function j(e,t,n){var i,r,s,a,o,u,l,c=this,h={},f=e.style,p=e.nodeType&&kt(e),d=gt.get(e,"fxshow");n.queue||(o=et._queueHooks(e,"fx"),null==o.unqueued&&(o.unqueued=0,u=o.empty.fire,o.empty.fire=function(){o.unqueued||u()}),o.unqueued++,c.always(function(){c.always(function(){o.unqueued--,et.queue(e,"fx").length||o.empty.fire()})})),1===e.nodeType&&("height"in t||"width"in t)&&(n.overflow=[f.overflow,f.overflowX,f.overflowY],l=et.css(e,"display"),"none"===l&&(l=_(e.nodeName)),"inline"===l&&"none"===et.css(e,"float")&&(f.display="inline-block")),n.overflow&&(f.overflow="hidden",c.always(function(){f.overflow=n.overflow[0],f.overflowX=n.overflow[1],f.overflowY=n.overflow[2]}));for(i in t)if(r=t[i],Zt.exec(r)){if(delete t[i],s=s||"toggle"===r,r===(p?"hide":"show")){if("show"!==r||!d||void 0===d[i])continue;p=!0}h[i]=d&&d[i]||et.style(e,i)}if(!et.isEmptyObject(h)){d?"hidden"in d&&(p=d.hidden):d=gt.access(e,"fxshow",{}),s&&(d.hidden=!p),p?et(e).show():c.done(function(){et(e).hide()}),c.done(function(){var t;gt.remove(e,"fxshow");for(t in h)et.style(e,t,h[t])});for(i in h)a=O(p?d[i]:0,i,c),i in d||(d[i]=a.start,p&&(a.end=a.start,a.start="width"===i||"height"===i?1:0))}}function L(e,t){var n,i,r,s,a;for(n in e)if(i=et.camelCase(n),r=t[i],s=e[n],et.isArray(s)&&(r=s[1],s=e[n]=s[0]),n!==i&&(e[i]=s,delete e[n]),a=et.cssHooks[i],a&&"expand"in a){s=a.expand(s),delete e[i];for(n in s)n in e||(e[n]=s[n],t[n]=r)}else t[i]=r}function M(e,t,n){var i,r,s=0,a=tn.length,o=et.Deferred().always(function(){delete u.elem}),u=function(){if(r)return!1;for(var t=Xt||R(),n=Math.max(0,l.startTime+l.duration-t),i=n/l.duration||0,s=1-i,a=0,u=l.tweens.length;u>a;a++)l.tweens[a].run(s);return o.notifyWith(e,[l,s,n]),1>s&&u?n:(o.resolveWith(e,[l]),!1)},l=o.promise({elem:e,props:et.extend({},t),opts:et.extend(!0,{specialEasing:{}},n),originalProperties:t,originalOptions:n,startTime:Xt||R(),duration:n.duration,tweens:[],createTween:function(t,n){var i=et.Tween(e,l.opts,t,n,l.opts.specialEasing[t]||l.opts.easing);return l.tweens.push(i),i},stop:function(t){var n=0,i=t?l.tweens.length:0;if(r)return this;for(r=!0;i>n;n++)l.tweens[n].run(1);return t?o.resolveWith(e,[l,t]):o.rejectWith(e,[l,t]),this}}),c=l.props;for(L(c,l.opts.specialEasing);a>s;s++)if(i=tn[s].call(l,e,c,l.opts))return i;return et.map(c,O,l),et.isFunction(l.opts.start)&&l.opts.start.call(e,l),et.fx.timer(et.extend(u,{elem:e,anim:l,queue:l.opts.queue})),l.progress(l.opts.progress).done(l.opts.done,l.opts.complete).fail(l.opts.fail).always(l.opts.always)}function N(e){return function(t,n){"string"!=typeof t&&(n=t,t="*");var i,r=0,s=t.toLowerCase().match(pt)||[];if(et.isFunction(n))for(;i=s[r++];)"+"===i[0]?(i=i.slice(1)||"*",(e[i]=e[i]||[]).unshift(n)):(e[i]=e[i]||[]).push(n)}}function E(e,t,n,i){function r(o){var u;return s[o]=!0,et.each(e[o]||[],function(e,o){var l=o(t,n,i);return"string"!=typeof l||a||s[l]?a?!(u=l):void 0:(t.dataTypes.unshift(l),r(l),!1)}),u}var s={},a=e===wn;return r(t.dataTypes[0])||!s["*"]&&r("*")}function P(e,t){var n,i,r=et.ajaxSettings.flatOptions||{};for(n in t)void 0!==t[n]&&((r[n]?e:i||(i={}))[n]=t[n]);return i&&et.extend(!0,e,i),e}function F(e,t,n){for(var i,r,s,a,o=e.contents,u=e.dataTypes;"*"===u[0];)u.shift(),void 0===i&&(i=e.mimeType||t.getResponseHeader("Content-Type"));if(i)for(r in o)if(o[r]&&o[r].test(i)){u.unshift(r);break}if(u[0]in n)s=u[0];else{for(r in n){if(!u[0]||e.converters[r+" "+u[0]]){s=r;break}a||(a=r)}s=s||a}return s?(s!==u[0]&&u.unshift(s),n[s]):void 0}function q(e,t,n,i){var r,s,a,o,u,l={},c=e.dataTypes.slice();if(c[1])for(a in e.converters)l[a.toLowerCase()]=e.converters[a];for(s=c.shift();s;)if(e.responseFields[s]&&(n[e.responseFields[s]]=t),!u&&i&&e.dataFilter&&(t=e.dataFilter(t,e.dataType)),u=s,s=c.shift())if("*"===s)s=u;else if("*"!==u&&u!==s){if(a=l[u+" "+s]||l["* "+s],!a)for(r in l)if(o=r.split(" "),o[1]===s&&(a=l[u+" "+o[0]]||l["* "+o[0]])){a===!0?a=l[r]:l[r]!==!0&&(s=o[0],c.unshift(o[1]));break}if(a!==!0)if(a&&e["throws"])t=a(t);else try{t=a(t)}catch(h){return{state:"parsererror",error:a?h:"No conversion from "+u+" to "+s}}}return{state:"success",data:t}}function $(e,t,n,i){var r;if(et.isArray(t))et.each(t,function(t,r){n||An.test(e)?i(e,r):$(e+"["+("object"==typeof r?t:"")+"]",r,n,i)});else if(n||"object"!==et.type(t))i(e,t);else for(r in t)$(e+"["+r+"]",t[r],n,i)}function B(e){return et.isWindow(e)?e:9===e.nodeType&&e.defaultView}var z=[],W=z.slice,H=z.concat,G=z.push,V=z.indexOf,K={},U=K.toString,Y=K.hasOwnProperty,X="".trim,Q={},Z=e.document,J="2.1.0",et=function(e,t){return new et.fn.init(e,t)},tt=/^-ms-/,nt=/-([\da-z])/gi,it=function(e,t){return t.toUpperCase()};et.fn=et.prototype={jquery:J,constructor:et,selector:"",length:0,toArray:function(){return W.call(this)},get:function(e){return null!=e?0>e?this[e+this.length]:this[e]:W.call(this)},pushStack:function(e){var t=et.merge(this.constructor(),e);return t.prevObject=this,t.context=this.context,t},each:function(e,t){return et.each(this,e,t)},map:function(e){return this.pushStack(et.map(this,function(t,n){return e.call(t,n,t)}))},slice:function(){return this.pushStack(W.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},eq:function(e){var t=this.length,n=+e+(0>e?t:0);return this.pushStack(n>=0&&t>n?[this[n]]:[])},end:function(){return this.prevObject||this.constructor(null)},push:G,sort:z.sort,splice:z.splice},et.extend=et.fn.extend=function(){var e,t,n,i,r,s,a=arguments[0]||{},o=1,u=arguments.length,l=!1;for("boolean"==typeof a&&(l=a,a=arguments[o]||{},o++),"object"==typeof a||et.isFunction(a)||(a={}),o===u&&(a=this,o--);u>o;o++)if(null!=(e=arguments[o]))for(t in e)n=a[t],i=e[t],a!==i&&(l&&i&&(et.isPlainObject(i)||(r=et.isArray(i)))?(r?(r=!1,s=n&&et.isArray(n)?n:[]):s=n&&et.isPlainObject(n)?n:{},a[t]=et.extend(l,s,i)):void 0!==i&&(a[t]=i));return a},et.extend({expando:"jQuery"+(J+Math.random()).replace(/\D/g,""),isReady:!0,error:function(e){throw new Error(e)},noop:function(){},isFunction:function(e){return"function"===et.type(e)},isArray:Array.isArray,isWindow:function(e){return null!=e&&e===e.window},isNumeric:function(e){return e-parseFloat(e)>=0},isPlainObject:function(e){if("object"!==et.type(e)||e.nodeType||et.isWindow(e))return!1;try{if(e.constructor&&!Y.call(e.constructor.prototype,"isPrototypeOf"))return!1}catch(t){return!1}return!0},isEmptyObject:function(e){var t;for(t in e)return!1;return!0},type:function(e){return null==e?e+"":"object"==typeof e||"function"==typeof e?K[U.call(e)]||"object":typeof e},globalEval:function(e){var t,n=eval;e=et.trim(e),e&&(1===e.indexOf("use strict")?(t=Z.createElement("script"),t.text=e,Z.head.appendChild(t).parentNode.removeChild(t)):n(e))},camelCase:function(e){return e.replace(tt,"ms-").replace(nt,it)},nodeName:function(e,t){return e.nodeName&&e.nodeName.toLowerCase()===t.toLowerCase()},each:function(e,t,i){var r,s=0,a=e.length,o=n(e);if(i){if(o)for(;a>s&&(r=t.apply(e[s],i),r!==!1);s++);else for(s in e)if(r=t.apply(e[s],i),r===!1)break}else if(o)for(;a>s&&(r=t.call(e[s],s,e[s]),r!==!1);s++);else for(s in e)if(r=t.call(e[s],s,e[s]),r===!1)break;return e},trim:function(e){return null==e?"":X.call(e)},makeArray:function(e,t){var i=t||[];return null!=e&&(n(Object(e))?et.merge(i,"string"==typeof e?[e]:e):G.call(i,e)),i},inArray:function(e,t,n){return null==t?-1:V.call(t,e,n)},merge:function(e,t){for(var n=+t.length,i=0,r=e.length;n>i;i++)e[r++]=t[i];return e.length=r,e},grep:function(e,t,n){for(var i,r=[],s=0,a=e.length,o=!n;a>s;s++)i=!t(e[s],s),i!==o&&r.push(e[s]);return r},map:function(e,t,i){var r,s=0,a=e.length,o=n(e),u=[];if(o)for(;a>s;s++)r=t(e[s],s,i),null!=r&&u.push(r);else for(s in e)r=t(e[s],s,i),null!=r&&u.push(r);return H.apply([],u)},guid:1,proxy:function(e,t){var n,i,r;return"string"==typeof t&&(n=e[t],t=e,e=n),et.isFunction(e)?(i=W.call(arguments,2),r=function(){return e.apply(t||this,i.concat(W.call(arguments)))},r.guid=e.guid=e.guid||et.guid++,r):void 0},now:Date.now,support:Q}),et.each("Boolean Number String Function Array Date RegExp Object Error".split(" "),function(e,t){K["[object "+t+"]"]=t.toLowerCase()});var rt=function(e){function t(e,t,n,i){var r,s,a,o,u,l,h,d,m,v;if((t?t.ownerDocument||t:$)!==j&&O(t),t=t||j,n=n||[],!e||"string"!=typeof e)return n;if(1!==(o=t.nodeType)&&9!==o)return[];if(M&&!i){if(r=yt.exec(e))if(a=r[1]){if(9===o){if(s=t.getElementById(a),!s||!s.parentNode)return n;if(s.id===a)return n.push(s),n}else if(t.ownerDocument&&(s=t.ownerDocument.getElementById(a))&&F(t,s)&&s.id===a)return n.push(s),n}else{if(r[2])return J.apply(n,t.getElementsByTagName(e)),n;if((a=r[3])&&k.getElementsByClassName&&t.getElementsByClassName)return J.apply(n,t.getElementsByClassName(a)),n}if(k.qsa&&(!N||!N.test(e))){if(d=h=q,m=t,v=9===o&&e,1===o&&"object"!==t.nodeName.toLowerCase()){for(l=f(e),(h=t.getAttribute("id"))?d=h.replace(_t,"\\$&"):t.setAttribute("id",d),d="[id='"+d+"'] ",u=l.length;u--;)l[u]=d+p(l[u]);m=bt.test(e)&&c(t.parentNode)||t,v=l.join(",")}if(v)try{return J.apply(n,m.querySelectorAll(v)),n}catch(g){}finally{h||t.removeAttribute("id")}}}return x(e.replace(ut,"$1"),t,n,i)}function n(){function e(n,i){return t.push(n+" ")>T.cacheLength&&delete e[t.shift()],e[n+" "]=i}var t=[];return e}function i(e){return e[q]=!0,e}function r(e){var t=j.createElement("div");try{return!!e(t)}catch(n){return!1}finally{t.parentNode&&t.parentNode.removeChild(t),t=null}}function s(e,t){for(var n=e.split("|"),i=e.length;i--;)T.attrHandle[n[i]]=t}function a(e,t){var n=t&&e,i=n&&1===e.nodeType&&1===t.nodeType&&(~t.sourceIndex||U)-(~e.sourceIndex||U);if(i)return i;if(n)for(;n=n.nextSibling;)if(n===t)return-1;return e?1:-1}function o(e){return function(t){var n=t.nodeName.toLowerCase();return"input"===n&&t.type===e}}function u(e){return function(t){var n=t.nodeName.toLowerCase();return("input"===n||"button"===n)&&t.type===e}}function l(e){return i(function(t){return t=+t,i(function(n,i){for(var r,s=e([],n.length,t),a=s.length;a--;)n[r=s[a]]&&(n[r]=!(i[r]=n[r]))})})}function c(e){return e&&typeof e.getElementsByTagName!==K&&e}function h(){}function f(e,n){var i,r,s,a,o,u,l,c=H[e+" "];if(c)return n?0:c.slice(0);for(o=e,u=[],l=T.preFilter;o;){(!i||(r=lt.exec(o)))&&(r&&(o=o.slice(r[0].length)||o),u.push(s=[])),i=!1,(r=ct.exec(o))&&(i=r.shift(),s.push({value:i,type:r[0].replace(ut," ")}),o=o.slice(i.length));for(a in T.filter)!(r=dt[a].exec(o))||l[a]&&!(r=l[a](r))||(i=r.shift(),s.push({value:i,type:a,matches:r}),o=o.slice(i.length));if(!i)break}return n?o.length:o?t.error(e):H(e,u).slice(0)}function p(e){for(var t=0,n=e.length,i="";n>t;t++)i+=e[t].value;return i}function d(e,t,n){var i=t.dir,r=n&&"parentNode"===i,s=z++;return t.first?function(t,n,s){for(;t=t[i];)if(1===t.nodeType||r)return e(t,n,s)}:function(t,n,a){var o,u,l=[B,s];if(a){for(;t=t[i];)if((1===t.nodeType||r)&&e(t,n,a))return!0}else for(;t=t[i];)if(1===t.nodeType||r){if(u=t[q]||(t[q]={}),(o=u[i])&&o[0]===B&&o[1]===s)return l[2]=o[2];if(u[i]=l,l[2]=e(t,n,a))return!0}}}function m(e){return e.length>1?function(t,n,i){for(var r=e.length;r--;)if(!e[r](t,n,i))return!1;return!0}:e[0]}function v(e,t,n,i,r){for(var s,a=[],o=0,u=e.length,l=null!=t;u>o;o++)(s=e[o])&&(!n||n(s,i,r))&&(a.push(s),l&&t.push(o));return a}function g(e,t,n,r,s,a){return r&&!r[q]&&(r=g(r)),s&&!s[q]&&(s=g(s,a)),i(function(i,a,o,u){var l,c,h,f=[],p=[],d=a.length,m=i||_(t||"*",o.nodeType?[o]:o,[]),g=!e||!i&&t?m:v(m,f,e,o,u),y=n?s||(i?e:d||r)?[]:a:g;if(n&&n(g,y,o,u),r)for(l=v(y,p),r(l,[],o,u),c=l.length;c--;)(h=l[c])&&(y[p[c]]=!(g[p[c]]=h));if(i){if(s||e){if(s){for(l=[],c=y.length;c--;)(h=y[c])&&l.push(g[c]=h);s(null,y=[],l,u)}for(c=y.length;c--;)(h=y[c])&&(l=s?tt.call(i,h):f[c])>-1&&(i[l]=!(a[l]=h))}}else y=v(y===a?y.splice(d,y.length):y),s?s(null,a,y,u):J.apply(a,y)})}function y(e){for(var t,n,i,r=e.length,s=T.relative[e[0].type],a=s||T.relative[" "],o=s?1:0,u=d(function(e){return e===t},a,!0),l=d(function(e){return tt.call(t,e)>-1},a,!0),c=[function(e,n,i){return!s&&(i||n!==D)||((t=n).nodeType?u(e,n,i):l(e,n,i))}];r>o;o++)if(n=T.relative[e[o].type])c=[d(m(c),n)];else{if(n=T.filter[e[o].type].apply(null,e[o].matches),n[q]){for(i=++o;r>i&&!T.relative[e[i].type];i++);return g(o>1&&m(c),o>1&&p(e.slice(0,o-1).concat({value:" "===e[o-2].type?"*":""})).replace(ut,"$1"),n,i>o&&y(e.slice(o,i)),r>i&&y(e=e.slice(i)),r>i&&p(e))}c.push(n)}return m(c)}function b(e,n){var r=n.length>0,s=e.length>0,a=function(i,a,o,u,l){var c,h,f,p=0,d="0",m=i&&[],g=[],y=D,b=i||s&&T.find.TAG("*",l),_=B+=null==y?1:Math.random()||.1,x=b.length;for(l&&(D=a!==j&&a);d!==x&&null!=(c=b[d]);d++){if(s&&c){for(h=0;f=e[h++];)if(f(c,a,o)){u.push(c);break}l&&(B=_)}r&&((c=!f&&c)&&p--,i&&m.push(c))}if(p+=d,r&&d!==p){for(h=0;f=n[h++];)f(m,g,a,o);if(i){if(p>0)for(;d--;)m[d]||g[d]||(g[d]=Q.call(u));g=v(g)}J.apply(u,g),l&&!i&&g.length>0&&p+n.length>1&&t.uniqueSort(u)}return l&&(B=_,D=y),m};return r?i(a):a}function _(e,n,i){for(var r=0,s=n.length;s>r;r++)t(e,n[r],i);return i}function x(e,t,n,i){var r,s,a,o,u,l=f(e);if(!i&&1===l.length){if(s=l[0]=l[0].slice(0),s.length>2&&"ID"===(a=s[0]).type&&k.getById&&9===t.nodeType&&M&&T.relative[s[1].type]){if(t=(T.find.ID(a.matches[0].replace(xt,wt),t)||[])[0],!t)return n;e=e.slice(s.shift().value.length)}for(r=dt.needsContext.test(e)?0:s.length;r--&&(a=s[r],!T.relative[o=a.type]);)if((u=T.find[o])&&(i=u(a.matches[0].replace(xt,wt),bt.test(s[0].type)&&c(t.parentNode)||t))){if(s.splice(r,1),e=i.length&&p(s),!e)return J.apply(n,i),n;break}}return I(e,l)(i,t,!M,n,bt.test(e)&&c(t.parentNode)||t),n}var w,k,T,S,A,I,D,R,C,O,j,L,M,N,E,P,F,q="sizzle"+-new Date,$=e.document,B=0,z=0,W=n(),H=n(),G=n(),V=function(e,t){return e===t&&(C=!0),0},K="undefined",U=1<<31,Y={}.hasOwnProperty,X=[],Q=X.pop,Z=X.push,J=X.push,et=X.slice,tt=X.indexOf||function(e){for(var t=0,n=this.length;n>t;t++)if(this[t]===e)return t;return-1},nt="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",it="[\\x20\\t\\r\\n\\f]",rt="(?:\\\\.|[\\w-]|[^\\x00-\\xa0])+",st=rt.replace("w","w#"),at="\\["+it+"*("+rt+")"+it+"*(?:([*^$|!~]?=)"+it+"*(?:(['\"])((?:\\\\.|[^\\\\])*?)\\3|("+st+")|)|)"+it+"*\\]",ot=":("+rt+")(?:\\(((['\"])((?:\\\\.|[^\\\\])*?)\\3|((?:\\\\.|[^\\\\()[\\]]|"+at.replace(3,8)+")*)|.*)\\)|)",ut=new RegExp("^"+it+"+|((?:^|[^\\\\])(?:\\\\.)*)"+it+"+$","g"),lt=new RegExp("^"+it+"*,"+it+"*"),ct=new RegExp("^"+it+"*([>+~]|"+it+")"+it+"*"),ht=new RegExp("="+it+"*([^\\]'\"]*?)"+it+"*\\]","g"),ft=new RegExp(ot),pt=new RegExp("^"+st+"$"),dt={ID:new RegExp("^#("+rt+")"),CLASS:new RegExp("^\\.("+rt+")"),TAG:new RegExp("^("+rt.replace("w","w*")+")"),ATTR:new RegExp("^"+at),PSEUDO:new RegExp("^"+ot),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+it+"*(even|odd|(([+-]|)(\\d*)n|)"+it+"*(?:([+-]|)"+it+"*(\\d+)|))"+it+"*\\)|)","i"),bool:new RegExp("^(?:"+nt+")$","i"),needsContext:new RegExp("^"+it+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+it+"*((?:-\\d)?\\d*)"+it+"*\\)|)(?=[^-]|$)","i")},mt=/^(?:input|select|textarea|button)$/i,vt=/^h\d$/i,gt=/^[^{]+\{\s*\[native \w/,yt=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,bt=/[+~]/,_t=/'|\\/g,xt=new RegExp("\\\\([\\da-f]{1,6}"+it+"?|("+it+")|.)","ig"),wt=function(e,t,n){var i="0x"+t-65536;return i!==i||n?t:0>i?String.fromCharCode(i+65536):String.fromCharCode(i>>10|55296,1023&i|56320)};try{J.apply(X=et.call($.childNodes),$.childNodes),X[$.childNodes.length].nodeType}catch(kt){J={apply:X.length?function(e,t){Z.apply(e,et.call(t))}:function(e,t){for(var n=e.length,i=0;e[n++]=t[i++];);e.length=n-1}}}k=t.support={},A=t.isXML=function(e){var t=e&&(e.ownerDocument||e).documentElement;return t?"HTML"!==t.nodeName:!1},O=t.setDocument=function(e){var t,n=e?e.ownerDocument||e:$,i=n.defaultView;return n!==j&&9===n.nodeType&&n.documentElement?(j=n,L=n.documentElement,M=!A(n),i&&i!==i.top&&(i.addEventListener?i.addEventListener("unload",function(){O()},!1):i.attachEvent&&i.attachEvent("onunload",function(){O()})),k.attributes=r(function(e){return e.className="i",!e.getAttribute("className")}),k.getElementsByTagName=r(function(e){return e.appendChild(n.createComment("")),!e.getElementsByTagName("*").length}),k.getElementsByClassName=gt.test(n.getElementsByClassName)&&r(function(e){return e.innerHTML="<div class='a'></div><div class='a i'></div>",e.firstChild.className="i",2===e.getElementsByClassName("i").length}),k.getById=r(function(e){return L.appendChild(e).id=q,!n.getElementsByName||!n.getElementsByName(q).length}),k.getById?(T.find.ID=function(e,t){if(typeof t.getElementById!==K&&M){var n=t.getElementById(e);return n&&n.parentNode?[n]:[]}},T.filter.ID=function(e){var t=e.replace(xt,wt);return function(e){return e.getAttribute("id")===t}}):(delete T.find.ID,T.filter.ID=function(e){var t=e.replace(xt,wt);return function(e){var n=typeof e.getAttributeNode!==K&&e.getAttributeNode("id");return n&&n.value===t}}),T.find.TAG=k.getElementsByTagName?function(e,t){return typeof t.getElementsByTagName!==K?t.getElementsByTagName(e):void 0}:function(e,t){var n,i=[],r=0,s=t.getElementsByTagName(e);if("*"===e){for(;n=s[r++];)1===n.nodeType&&i.push(n);return i}return s},T.find.CLASS=k.getElementsByClassName&&function(e,t){return typeof t.getElementsByClassName!==K&&M?t.getElementsByClassName(e):void 0},E=[],N=[],(k.qsa=gt.test(n.querySelectorAll))&&(r(function(e){e.innerHTML="<select t=''><option selected=''></option></select>",e.querySelectorAll("[t^='']").length&&N.push("[*^$]="+it+"*(?:''|\"\")"),e.querySelectorAll("[selected]").length||N.push("\\["+it+"*(?:value|"+nt+")"),e.querySelectorAll(":checked").length||N.push(":checked")}),r(function(e){var t=n.createElement("input");t.setAttribute("type","hidden"),e.appendChild(t).setAttribute("name","D"),e.querySelectorAll("[name=d]").length&&N.push("name"+it+"*[*^$|!~]?="),e.querySelectorAll(":enabled").length||N.push(":enabled",":disabled"),e.querySelectorAll("*,:x"),N.push(",.*:")})),(k.matchesSelector=gt.test(P=L.webkitMatchesSelector||L.mozMatchesSelector||L.oMatchesSelector||L.msMatchesSelector))&&r(function(e){k.disconnectedMatch=P.call(e,"div"),P.call(e,"[s!='']:x"),E.push("!=",ot)}),N=N.length&&new RegExp(N.join("|")),E=E.length&&new RegExp(E.join("|")),t=gt.test(L.compareDocumentPosition),F=t||gt.test(L.contains)?function(e,t){var n=9===e.nodeType?e.documentElement:e,i=t&&t.parentNode;return e===i||!(!i||1!==i.nodeType||!(n.contains?n.contains(i):e.compareDocumentPosition&&16&e.compareDocumentPosition(i)))}:function(e,t){if(t)for(;t=t.parentNode;)if(t===e)return!0;return!1},V=t?function(e,t){if(e===t)return C=!0,0;var i=!e.compareDocumentPosition-!t.compareDocumentPosition;return i?i:(i=(e.ownerDocument||e)===(t.ownerDocument||t)?e.compareDocumentPosition(t):1,1&i||!k.sortDetached&&t.compareDocumentPosition(e)===i?e===n||e.ownerDocument===$&&F($,e)?-1:t===n||t.ownerDocument===$&&F($,t)?1:R?tt.call(R,e)-tt.call(R,t):0:4&i?-1:1)}:function(e,t){if(e===t)return C=!0,0;var i,r=0,s=e.parentNode,o=t.parentNode,u=[e],l=[t];if(!s||!o)return e===n?-1:t===n?1:s?-1:o?1:R?tt.call(R,e)-tt.call(R,t):0;if(s===o)return a(e,t);for(i=e;i=i.parentNode;)u.unshift(i);for(i=t;i=i.parentNode;)l.unshift(i);for(;u[r]===l[r];)r++;return r?a(u[r],l[r]):u[r]===$?-1:l[r]===$?1:0},n):j},t.matches=function(e,n){return t(e,null,null,n)},t.matchesSelector=function(e,n){if((e.ownerDocument||e)!==j&&O(e),n=n.replace(ht,"='$1']"),!(!k.matchesSelector||!M||E&&E.test(n)||N&&N.test(n)))try{var i=P.call(e,n);if(i||k.disconnectedMatch||e.document&&11!==e.document.nodeType)return i}catch(r){}return t(n,j,null,[e]).length>0},t.contains=function(e,t){return(e.ownerDocument||e)!==j&&O(e),F(e,t)},t.attr=function(e,t){(e.ownerDocument||e)!==j&&O(e);var n=T.attrHandle[t.toLowerCase()],i=n&&Y.call(T.attrHandle,t.toLowerCase())?n(e,t,!M):void 0;return void 0!==i?i:k.attributes||!M?e.getAttribute(t):(i=e.getAttributeNode(t))&&i.specified?i.value:null},t.error=function(e){throw new Error("Syntax error, unrecognized expression: "+e)},t.uniqueSort=function(e){var t,n=[],i=0,r=0;if(C=!k.detectDuplicates,R=!k.sortStable&&e.slice(0),e.sort(V),C){for(;t=e[r++];)t===e[r]&&(i=n.push(r));for(;i--;)e.splice(n[i],1)}return R=null,e},S=t.getText=function(e){var t,n="",i=0,r=e.nodeType;if(r){if(1===r||9===r||11===r){if("string"==typeof e.textContent)return e.textContent;for(e=e.firstChild;e;e=e.nextSibling)n+=S(e)}else if(3===r||4===r)return e.nodeValue}else for(;t=e[i++];)n+=S(t);return n},T=t.selectors={cacheLength:50,createPseudo:i,match:dt,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(e){return e[1]=e[1].replace(xt,wt),e[3]=(e[4]||e[5]||"").replace(xt,wt),"~="===e[2]&&(e[3]=" "+e[3]+" "),e.slice(0,4)},CHILD:function(e){return e[1]=e[1].toLowerCase(),"nth"===e[1].slice(0,3)?(e[3]||t.error(e[0]),e[4]=+(e[4]?e[5]+(e[6]||1):2*("even"===e[3]||"odd"===e[3])),e[5]=+(e[7]+e[8]||"odd"===e[3])):e[3]&&t.error(e[0]),e},PSEUDO:function(e){var t,n=!e[5]&&e[2];return dt.CHILD.test(e[0])?null:(e[3]&&void 0!==e[4]?e[2]=e[4]:n&&ft.test(n)&&(t=f(n,!0))&&(t=n.indexOf(")",n.length-t)-n.length)&&(e[0]=e[0].slice(0,t),e[2]=n.slice(0,t)),e.slice(0,3))}},filter:{TAG:function(e){var t=e.replace(xt,wt).toLowerCase();return"*"===e?function(){return!0}:function(e){return e.nodeName&&e.nodeName.toLowerCase()===t}},CLASS:function(e){var t=W[e+" "];return t||(t=new RegExp("(^|"+it+")"+e+"("+it+"|$)"))&&W(e,function(e){return t.test("string"==typeof e.className&&e.className||typeof e.getAttribute!==K&&e.getAttribute("class")||"")})},ATTR:function(e,n,i){return function(r){var s=t.attr(r,e);return null==s?"!="===n:n?(s+="","="===n?s===i:"!="===n?s!==i:"^="===n?i&&0===s.indexOf(i):"*="===n?i&&s.indexOf(i)>-1:"$="===n?i&&s.slice(-i.length)===i:"~="===n?(" "+s+" ").indexOf(i)>-1:"|="===n?s===i||s.slice(0,i.length+1)===i+"-":!1):!0}},CHILD:function(e,t,n,i,r){var s="nth"!==e.slice(0,3),a="last"!==e.slice(-4),o="of-type"===t;return 1===i&&0===r?function(e){return!!e.parentNode}:function(t,n,u){var l,c,h,f,p,d,m=s!==a?"nextSibling":"previousSibling",v=t.parentNode,g=o&&t.nodeName.toLowerCase(),y=!u&&!o;if(v){if(s){for(;m;){for(h=t;h=h[m];)if(o?h.nodeName.toLowerCase()===g:1===h.nodeType)return!1;d=m="only"===e&&!d&&"nextSibling"}return!0}if(d=[a?v.firstChild:v.lastChild],a&&y){for(c=v[q]||(v[q]={}),l=c[e]||[],p=l[0]===B&&l[1],f=l[0]===B&&l[2],h=p&&v.childNodes[p];h=++p&&h&&h[m]||(f=p=0)||d.pop();)if(1===h.nodeType&&++f&&h===t){c[e]=[B,p,f];break}}else if(y&&(l=(t[q]||(t[q]={}))[e])&&l[0]===B)f=l[1];else for(;(h=++p&&h&&h[m]||(f=p=0)||d.pop())&&((o?h.nodeName.toLowerCase()!==g:1!==h.nodeType)||!++f||(y&&((h[q]||(h[q]={}))[e]=[B,f]),h!==t)););return f-=r,f===i||f%i===0&&f/i>=0}}},PSEUDO:function(e,n){var r,s=T.pseudos[e]||T.setFilters[e.toLowerCase()]||t.error("unsupported pseudo: "+e);return s[q]?s(n):s.length>1?(r=[e,e,"",n],T.setFilters.hasOwnProperty(e.toLowerCase())?i(function(e,t){for(var i,r=s(e,n),a=r.length;a--;)i=tt.call(e,r[a]),e[i]=!(t[i]=r[a])}):function(e){return s(e,0,r)}):s}},pseudos:{not:i(function(e){var t=[],n=[],r=I(e.replace(ut,"$1"));return r[q]?i(function(e,t,n,i){for(var s,a=r(e,null,i,[]),o=e.length;o--;)(s=a[o])&&(e[o]=!(t[o]=s))}):function(e,i,s){return t[0]=e,r(t,null,s,n),!n.pop()}}),has:i(function(e){return function(n){return t(e,n).length>0}}),contains:i(function(e){return function(t){return(t.textContent||t.innerText||S(t)).indexOf(e)>-1}}),lang:i(function(e){return pt.test(e||"")||t.error("unsupported lang: "+e),e=e.replace(xt,wt).toLowerCase(),function(t){var n;do if(n=M?t.lang:t.getAttribute("xml:lang")||t.getAttribute("lang"))return n=n.toLowerCase(),n===e||0===n.indexOf(e+"-");while((t=t.parentNode)&&1===t.nodeType);return!1}}),target:function(t){var n=e.location&&e.location.hash;return n&&n.slice(1)===t.id},root:function(e){return e===L},focus:function(e){return e===j.activeElement&&(!j.hasFocus||j.hasFocus())&&!!(e.type||e.href||~e.tabIndex)},enabled:function(e){return e.disabled===!1},disabled:function(e){return e.disabled===!0},checked:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&!!e.checked||"option"===t&&!!e.selected},selected:function(e){return e.parentNode&&e.parentNode.selectedIndex,e.selected===!0},empty:function(e){for(e=e.firstChild;e;e=e.nextSibling)if(e.nodeType<6)return!1;return!0},parent:function(e){return!T.pseudos.empty(e)},header:function(e){return vt.test(e.nodeName)},input:function(e){return mt.test(e.nodeName)},button:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&"button"===e.type||"button"===t},text:function(e){var t;return"input"===e.nodeName.toLowerCase()&&"text"===e.type&&(null==(t=e.getAttribute("type"))||"text"===t.toLowerCase())},first:l(function(){return[0]}),last:l(function(e,t){return[t-1]}),eq:l(function(e,t,n){return[0>n?n+t:n]}),even:l(function(e,t){for(var n=0;t>n;n+=2)e.push(n);return e}),odd:l(function(e,t){for(var n=1;t>n;n+=2)e.push(n);return e}),lt:l(function(e,t,n){for(var i=0>n?n+t:n;--i>=0;)e.push(i);return e}),gt:l(function(e,t,n){for(var i=0>n?n+t:n;++i<t;)e.push(i);return e})}},T.pseudos.nth=T.pseudos.eq;for(w in{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})T.pseudos[w]=o(w);for(w in{submit:!0,reset:!0})T.pseudos[w]=u(w);return h.prototype=T.filters=T.pseudos,T.setFilters=new h,I=t.compile=function(e,t){var n,i=[],r=[],s=G[e+" "];if(!s){for(t||(t=f(e)),n=t.length;n--;)s=y(t[n]),s[q]?i.push(s):r.push(s);s=G(e,b(r,i))}return s},k.sortStable=q.split("").sort(V).join("")===q,k.detectDuplicates=!!C,O(),k.sortDetached=r(function(e){return 1&e.compareDocumentPosition(j.createElement("div"))}),r(function(e){return e.innerHTML="<a href='#'></a>","#"===e.firstChild.getAttribute("href")})||s("type|href|height|width",function(e,t,n){return n?void 0:e.getAttribute(t,"type"===t.toLowerCase()?1:2)}),k.attributes&&r(function(e){return e.innerHTML="<input/>",e.firstChild.setAttribute("value",""),""===e.firstChild.getAttribute("value")})||s("value",function(e,t,n){return n||"input"!==e.nodeName.toLowerCase()?void 0:e.defaultValue}),r(function(e){return null==e.getAttribute("disabled")})||s(nt,function(e,t,n){var i;return n?void 0:e[t]===!0?t.toLowerCase():(i=e.getAttributeNode(t))&&i.specified?i.value:null}),t}(e);et.find=rt,et.expr=rt.selectors,et.expr[":"]=et.expr.pseudos,et.unique=rt.uniqueSort,et.text=rt.getText,et.isXMLDoc=rt.isXML,et.contains=rt.contains;var st=et.expr.match.needsContext,at=/^<(\w+)\s*\/?>(?:<\/\1>|)$/,ot=/^.[^:#\[\.,]*$/;et.filter=function(e,t,n){var i=t[0];return n&&(e=":not("+e+")"),1===t.length&&1===i.nodeType?et.find.matchesSelector(i,e)?[i]:[]:et.find.matches(e,et.grep(t,function(e){return 1===e.nodeType}))},et.fn.extend({find:function(e){var t,n=this.length,i=[],r=this;if("string"!=typeof e)return this.pushStack(et(e).filter(function(){for(t=0;n>t;t++)if(et.contains(r[t],this))return!0}));for(t=0;n>t;t++)et.find(e,r[t],i);return i=this.pushStack(n>1?et.unique(i):i),i.selector=this.selector?this.selector+" "+e:e,i
},filter:function(e){return this.pushStack(i(this,e||[],!1))},not:function(e){return this.pushStack(i(this,e||[],!0))},is:function(e){return!!i(this,"string"==typeof e&&st.test(e)?et(e):e||[],!1).length}});var ut,lt=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]*))$/,ct=et.fn.init=function(e,t){var n,i;if(!e)return this;if("string"==typeof e){if(n="<"===e[0]&&">"===e[e.length-1]&&e.length>=3?[null,e,null]:lt.exec(e),!n||!n[1]&&t)return!t||t.jquery?(t||ut).find(e):this.constructor(t).find(e);if(n[1]){if(t=t instanceof et?t[0]:t,et.merge(this,et.parseHTML(n[1],t&&t.nodeType?t.ownerDocument||t:Z,!0)),at.test(n[1])&&et.isPlainObject(t))for(n in t)et.isFunction(this[n])?this[n](t[n]):this.attr(n,t[n]);return this}return i=Z.getElementById(n[2]),i&&i.parentNode&&(this.length=1,this[0]=i),this.context=Z,this.selector=e,this}return e.nodeType?(this.context=this[0]=e,this.length=1,this):et.isFunction(e)?"undefined"!=typeof ut.ready?ut.ready(e):e(et):(void 0!==e.selector&&(this.selector=e.selector,this.context=e.context),et.makeArray(e,this))};ct.prototype=et.fn,ut=et(Z);var ht=/^(?:parents|prev(?:Until|All))/,ft={children:!0,contents:!0,next:!0,prev:!0};et.extend({dir:function(e,t,n){for(var i=[],r=void 0!==n;(e=e[t])&&9!==e.nodeType;)if(1===e.nodeType){if(r&&et(e).is(n))break;i.push(e)}return i},sibling:function(e,t){for(var n=[];e;e=e.nextSibling)1===e.nodeType&&e!==t&&n.push(e);return n}}),et.fn.extend({has:function(e){var t=et(e,this),n=t.length;return this.filter(function(){for(var e=0;n>e;e++)if(et.contains(this,t[e]))return!0})},closest:function(e,t){for(var n,i=0,r=this.length,s=[],a=st.test(e)||"string"!=typeof e?et(e,t||this.context):0;r>i;i++)for(n=this[i];n&&n!==t;n=n.parentNode)if(n.nodeType<11&&(a?a.index(n)>-1:1===n.nodeType&&et.find.matchesSelector(n,e))){s.push(n);break}return this.pushStack(s.length>1?et.unique(s):s)},index:function(e){return e?"string"==typeof e?V.call(et(e),this[0]):V.call(this,e.jquery?e[0]:e):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(e,t){return this.pushStack(et.unique(et.merge(this.get(),et(e,t))))},addBack:function(e){return this.add(null==e?this.prevObject:this.prevObject.filter(e))}}),et.each({parent:function(e){var t=e.parentNode;return t&&11!==t.nodeType?t:null},parents:function(e){return et.dir(e,"parentNode")},parentsUntil:function(e,t,n){return et.dir(e,"parentNode",n)},next:function(e){return r(e,"nextSibling")},prev:function(e){return r(e,"previousSibling")},nextAll:function(e){return et.dir(e,"nextSibling")},prevAll:function(e){return et.dir(e,"previousSibling")},nextUntil:function(e,t,n){return et.dir(e,"nextSibling",n)},prevUntil:function(e,t,n){return et.dir(e,"previousSibling",n)},siblings:function(e){return et.sibling((e.parentNode||{}).firstChild,e)},children:function(e){return et.sibling(e.firstChild)},contents:function(e){return e.contentDocument||et.merge([],e.childNodes)}},function(e,t){et.fn[e]=function(n,i){var r=et.map(this,t,n);return"Until"!==e.slice(-5)&&(i=n),i&&"string"==typeof i&&(r=et.filter(i,r)),this.length>1&&(ft[e]||et.unique(r),ht.test(e)&&r.reverse()),this.pushStack(r)}});var pt=/\S+/g,dt={};et.Callbacks=function(e){e="string"==typeof e?dt[e]||s(e):et.extend({},e);var t,n,i,r,a,o,u=[],l=!e.once&&[],c=function(s){for(t=e.memory&&s,n=!0,o=r||0,r=0,a=u.length,i=!0;u&&a>o;o++)if(u[o].apply(s[0],s[1])===!1&&e.stopOnFalse){t=!1;break}i=!1,u&&(l?l.length&&c(l.shift()):t?u=[]:h.disable())},h={add:function(){if(u){var n=u.length;!function s(t){et.each(t,function(t,n){var i=et.type(n);"function"===i?e.unique&&h.has(n)||u.push(n):n&&n.length&&"string"!==i&&s(n)})}(arguments),i?a=u.length:t&&(r=n,c(t))}return this},remove:function(){return u&&et.each(arguments,function(e,t){for(var n;(n=et.inArray(t,u,n))>-1;)u.splice(n,1),i&&(a>=n&&a--,o>=n&&o--)}),this},has:function(e){return e?et.inArray(e,u)>-1:!(!u||!u.length)},empty:function(){return u=[],a=0,this},disable:function(){return u=l=t=void 0,this},disabled:function(){return!u},lock:function(){return l=void 0,t||h.disable(),this},locked:function(){return!l},fireWith:function(e,t){return!u||n&&!l||(t=t||[],t=[e,t.slice?t.slice():t],i?l.push(t):c(t)),this},fire:function(){return h.fireWith(this,arguments),this},fired:function(){return!!n}};return h},et.extend({Deferred:function(e){var t=[["resolve","done",et.Callbacks("once memory"),"resolved"],["reject","fail",et.Callbacks("once memory"),"rejected"],["notify","progress",et.Callbacks("memory")]],n="pending",i={state:function(){return n},always:function(){return r.done(arguments).fail(arguments),this},then:function(){var e=arguments;return et.Deferred(function(n){et.each(t,function(t,s){var a=et.isFunction(e[t])&&e[t];r[s[1]](function(){var e=a&&a.apply(this,arguments);e&&et.isFunction(e.promise)?e.promise().done(n.resolve).fail(n.reject).progress(n.notify):n[s[0]+"With"](this===i?n.promise():this,a?[e]:arguments)})}),e=null}).promise()},promise:function(e){return null!=e?et.extend(e,i):i}},r={};return i.pipe=i.then,et.each(t,function(e,s){var a=s[2],o=s[3];i[s[1]]=a.add,o&&a.add(function(){n=o},t[1^e][2].disable,t[2][2].lock),r[s[0]]=function(){return r[s[0]+"With"](this===r?i:this,arguments),this},r[s[0]+"With"]=a.fireWith}),i.promise(r),e&&e.call(r,r),r},when:function(e){var t,n,i,r=0,s=W.call(arguments),a=s.length,o=1!==a||e&&et.isFunction(e.promise)?a:0,u=1===o?e:et.Deferred(),l=function(e,n,i){return function(r){n[e]=this,i[e]=arguments.length>1?W.call(arguments):r,i===t?u.notifyWith(n,i):--o||u.resolveWith(n,i)}};if(a>1)for(t=new Array(a),n=new Array(a),i=new Array(a);a>r;r++)s[r]&&et.isFunction(s[r].promise)?s[r].promise().done(l(r,i,s)).fail(u.reject).progress(l(r,n,t)):--o;return o||u.resolveWith(i,s),u.promise()}});var mt;et.fn.ready=function(e){return et.ready.promise().done(e),this},et.extend({isReady:!1,readyWait:1,holdReady:function(e){e?et.readyWait++:et.ready(!0)},ready:function(e){(e===!0?--et.readyWait:et.isReady)||(et.isReady=!0,e!==!0&&--et.readyWait>0||(mt.resolveWith(Z,[et]),et.fn.trigger&&et(Z).trigger("ready").off("ready")))}}),et.ready.promise=function(t){return mt||(mt=et.Deferred(),"complete"===Z.readyState?setTimeout(et.ready):(Z.addEventListener("DOMContentLoaded",a,!1),e.addEventListener("load",a,!1))),mt.promise(t)},et.ready.promise();var vt=et.access=function(e,t,n,i,r,s,a){var o=0,u=e.length,l=null==n;if("object"===et.type(n)){r=!0;for(o in n)et.access(e,t,o,n[o],!0,s,a)}else if(void 0!==i&&(r=!0,et.isFunction(i)||(a=!0),l&&(a?(t.call(e,i),t=null):(l=t,t=function(e,t,n){return l.call(et(e),n)})),t))for(;u>o;o++)t(e[o],n,a?i:i.call(e[o],o,t(e[o],n)));return r?e:l?t.call(e):u?t(e[0],n):s};et.acceptData=function(e){return 1===e.nodeType||9===e.nodeType||!+e.nodeType},o.uid=1,o.accepts=et.acceptData,o.prototype={key:function(e){if(!o.accepts(e))return 0;var t={},n=e[this.expando];if(!n){n=o.uid++;try{t[this.expando]={value:n},Object.defineProperties(e,t)}catch(i){t[this.expando]=n,et.extend(e,t)}}return this.cache[n]||(this.cache[n]={}),n},set:function(e,t,n){var i,r=this.key(e),s=this.cache[r];if("string"==typeof t)s[t]=n;else if(et.isEmptyObject(s))et.extend(this.cache[r],t);else for(i in t)s[i]=t[i];return s},get:function(e,t){var n=this.cache[this.key(e)];return void 0===t?n:n[t]},access:function(e,t,n){var i;return void 0===t||t&&"string"==typeof t&&void 0===n?(i=this.get(e,t),void 0!==i?i:this.get(e,et.camelCase(t))):(this.set(e,t,n),void 0!==n?n:t)},remove:function(e,t){var n,i,r,s=this.key(e),a=this.cache[s];if(void 0===t)this.cache[s]={};else{et.isArray(t)?i=t.concat(t.map(et.camelCase)):(r=et.camelCase(t),t in a?i=[t,r]:(i=r,i=i in a?[i]:i.match(pt)||[])),n=i.length;for(;n--;)delete a[i[n]]}},hasData:function(e){return!et.isEmptyObject(this.cache[e[this.expando]]||{})},discard:function(e){e[this.expando]&&delete this.cache[e[this.expando]]}};var gt=new o,yt=new o,bt=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,_t=/([A-Z])/g;et.extend({hasData:function(e){return yt.hasData(e)||gt.hasData(e)},data:function(e,t,n){return yt.access(e,t,n)},removeData:function(e,t){yt.remove(e,t)},_data:function(e,t,n){return gt.access(e,t,n)},_removeData:function(e,t){gt.remove(e,t)}}),et.fn.extend({data:function(e,t){var n,i,r,s=this[0],a=s&&s.attributes;if(void 0===e){if(this.length&&(r=yt.get(s),1===s.nodeType&&!gt.get(s,"hasDataAttrs"))){for(n=a.length;n--;)i=a[n].name,0===i.indexOf("data-")&&(i=et.camelCase(i.slice(5)),u(s,i,r[i]));gt.set(s,"hasDataAttrs",!0)}return r}return"object"==typeof e?this.each(function(){yt.set(this,e)}):vt(this,function(t){var n,i=et.camelCase(e);if(s&&void 0===t){if(n=yt.get(s,e),void 0!==n)return n;if(n=yt.get(s,i),void 0!==n)return n;if(n=u(s,i,void 0),void 0!==n)return n}else this.each(function(){var n=yt.get(this,i);yt.set(this,i,t),-1!==e.indexOf("-")&&void 0!==n&&yt.set(this,e,t)})},null,t,arguments.length>1,null,!0)},removeData:function(e){return this.each(function(){yt.remove(this,e)})}}),et.extend({queue:function(e,t,n){var i;return e?(t=(t||"fx")+"queue",i=gt.get(e,t),n&&(!i||et.isArray(n)?i=gt.access(e,t,et.makeArray(n)):i.push(n)),i||[]):void 0},dequeue:function(e,t){t=t||"fx";var n=et.queue(e,t),i=n.length,r=n.shift(),s=et._queueHooks(e,t),a=function(){et.dequeue(e,t)};"inprogress"===r&&(r=n.shift(),i--),r&&("fx"===t&&n.unshift("inprogress"),delete s.stop,r.call(e,a,s)),!i&&s&&s.empty.fire()},_queueHooks:function(e,t){var n=t+"queueHooks";return gt.get(e,n)||gt.access(e,n,{empty:et.Callbacks("once memory").add(function(){gt.remove(e,[t+"queue",n])})})}}),et.fn.extend({queue:function(e,t){var n=2;return"string"!=typeof e&&(t=e,e="fx",n--),arguments.length<n?et.queue(this[0],e):void 0===t?this:this.each(function(){var n=et.queue(this,e,t);et._queueHooks(this,e),"fx"===e&&"inprogress"!==n[0]&&et.dequeue(this,e)})},dequeue:function(e){return this.each(function(){et.dequeue(this,e)})},clearQueue:function(e){return this.queue(e||"fx",[])},promise:function(e,t){var n,i=1,r=et.Deferred(),s=this,a=this.length,o=function(){--i||r.resolveWith(s,[s])};for("string"!=typeof e&&(t=e,e=void 0),e=e||"fx";a--;)n=gt.get(s[a],e+"queueHooks"),n&&n.empty&&(i++,n.empty.add(o));return o(),r.promise(t)}});var xt=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,wt=["Top","Right","Bottom","Left"],kt=function(e,t){return e=t||e,"none"===et.css(e,"display")||!et.contains(e.ownerDocument,e)},Tt=/^(?:checkbox|radio)$/i;!function(){var e=Z.createDocumentFragment(),t=e.appendChild(Z.createElement("div"));t.innerHTML="<input type='radio' checked='checked' name='t'/>",Q.checkClone=t.cloneNode(!0).cloneNode(!0).lastChild.checked,t.innerHTML="<textarea>x</textarea>",Q.noCloneChecked=!!t.cloneNode(!0).lastChild.defaultValue}();var St="undefined";Q.focusinBubbles="onfocusin"in e;var At=/^key/,It=/^(?:mouse|contextmenu)|click/,Dt=/^(?:focusinfocus|focusoutblur)$/,Rt=/^([^.]*)(?:\.(.+)|)$/;et.event={global:{},add:function(e,t,n,i,r){var s,a,o,u,l,c,h,f,p,d,m,v=gt.get(e);if(v)for(n.handler&&(s=n,n=s.handler,r=s.selector),n.guid||(n.guid=et.guid++),(u=v.events)||(u=v.events={}),(a=v.handle)||(a=v.handle=function(t){return typeof et!==St&&et.event.triggered!==t.type?et.event.dispatch.apply(e,arguments):void 0}),t=(t||"").match(pt)||[""],l=t.length;l--;)o=Rt.exec(t[l])||[],p=m=o[1],d=(o[2]||"").split(".").sort(),p&&(h=et.event.special[p]||{},p=(r?h.delegateType:h.bindType)||p,h=et.event.special[p]||{},c=et.extend({type:p,origType:m,data:i,handler:n,guid:n.guid,selector:r,needsContext:r&&et.expr.match.needsContext.test(r),namespace:d.join(".")},s),(f=u[p])||(f=u[p]=[],f.delegateCount=0,h.setup&&h.setup.call(e,i,d,a)!==!1||e.addEventListener&&e.addEventListener(p,a,!1)),h.add&&(h.add.call(e,c),c.handler.guid||(c.handler.guid=n.guid)),r?f.splice(f.delegateCount++,0,c):f.push(c),et.event.global[p]=!0)},remove:function(e,t,n,i,r){var s,a,o,u,l,c,h,f,p,d,m,v=gt.hasData(e)&&gt.get(e);if(v&&(u=v.events)){for(t=(t||"").match(pt)||[""],l=t.length;l--;)if(o=Rt.exec(t[l])||[],p=m=o[1],d=(o[2]||"").split(".").sort(),p){for(h=et.event.special[p]||{},p=(i?h.delegateType:h.bindType)||p,f=u[p]||[],o=o[2]&&new RegExp("(^|\\.)"+d.join("\\.(?:.*\\.|)")+"(\\.|$)"),a=s=f.length;s--;)c=f[s],!r&&m!==c.origType||n&&n.guid!==c.guid||o&&!o.test(c.namespace)||i&&i!==c.selector&&("**"!==i||!c.selector)||(f.splice(s,1),c.selector&&f.delegateCount--,h.remove&&h.remove.call(e,c));a&&!f.length&&(h.teardown&&h.teardown.call(e,d,v.handle)!==!1||et.removeEvent(e,p,v.handle),delete u[p])}else for(p in u)et.event.remove(e,p+t[l],n,i,!0);et.isEmptyObject(u)&&(delete v.handle,gt.remove(e,"events"))}},trigger:function(t,n,i,r){var s,a,o,u,l,c,h,f=[i||Z],p=Y.call(t,"type")?t.type:t,d=Y.call(t,"namespace")?t.namespace.split("."):[];if(a=o=i=i||Z,3!==i.nodeType&&8!==i.nodeType&&!Dt.test(p+et.event.triggered)&&(p.indexOf(".")>=0&&(d=p.split("."),p=d.shift(),d.sort()),l=p.indexOf(":")<0&&"on"+p,t=t[et.expando]?t:new et.Event(p,"object"==typeof t&&t),t.isTrigger=r?2:3,t.namespace=d.join("."),t.namespace_re=t.namespace?new RegExp("(^|\\.)"+d.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,t.result=void 0,t.target||(t.target=i),n=null==n?[t]:et.makeArray(n,[t]),h=et.event.special[p]||{},r||!h.trigger||h.trigger.apply(i,n)!==!1)){if(!r&&!h.noBubble&&!et.isWindow(i)){for(u=h.delegateType||p,Dt.test(u+p)||(a=a.parentNode);a;a=a.parentNode)f.push(a),o=a;o===(i.ownerDocument||Z)&&f.push(o.defaultView||o.parentWindow||e)}for(s=0;(a=f[s++])&&!t.isPropagationStopped();)t.type=s>1?u:h.bindType||p,c=(gt.get(a,"events")||{})[t.type]&&gt.get(a,"handle"),c&&c.apply(a,n),c=l&&a[l],c&&c.apply&&et.acceptData(a)&&(t.result=c.apply(a,n),t.result===!1&&t.preventDefault());return t.type=p,r||t.isDefaultPrevented()||h._default&&h._default.apply(f.pop(),n)!==!1||!et.acceptData(i)||l&&et.isFunction(i[p])&&!et.isWindow(i)&&(o=i[l],o&&(i[l]=null),et.event.triggered=p,i[p](),et.event.triggered=void 0,o&&(i[l]=o)),t.result}},dispatch:function(e){e=et.event.fix(e);var t,n,i,r,s,a=[],o=W.call(arguments),u=(gt.get(this,"events")||{})[e.type]||[],l=et.event.special[e.type]||{};if(o[0]=e,e.delegateTarget=this,!l.preDispatch||l.preDispatch.call(this,e)!==!1){for(a=et.event.handlers.call(this,e,u),t=0;(r=a[t++])&&!e.isPropagationStopped();)for(e.currentTarget=r.elem,n=0;(s=r.handlers[n++])&&!e.isImmediatePropagationStopped();)(!e.namespace_re||e.namespace_re.test(s.namespace))&&(e.handleObj=s,e.data=s.data,i=((et.event.special[s.origType]||{}).handle||s.handler).apply(r.elem,o),void 0!==i&&(e.result=i)===!1&&(e.preventDefault(),e.stopPropagation()));return l.postDispatch&&l.postDispatch.call(this,e),e.result}},handlers:function(e,t){var n,i,r,s,a=[],o=t.delegateCount,u=e.target;if(o&&u.nodeType&&(!e.button||"click"!==e.type))for(;u!==this;u=u.parentNode||this)if(u.disabled!==!0||"click"!==e.type){for(i=[],n=0;o>n;n++)s=t[n],r=s.selector+" ",void 0===i[r]&&(i[r]=s.needsContext?et(r,this).index(u)>=0:et.find(r,this,null,[u]).length),i[r]&&i.push(s);i.length&&a.push({elem:u,handlers:i})}return o<t.length&&a.push({elem:this,handlers:t.slice(o)}),a},props:"altKey bubbles cancelable ctrlKey currentTarget eventPhase metaKey relatedTarget shiftKey target timeStamp view which".split(" "),fixHooks:{},keyHooks:{props:"char charCode key keyCode".split(" "),filter:function(e,t){return null==e.which&&(e.which=null!=t.charCode?t.charCode:t.keyCode),e}},mouseHooks:{props:"button buttons clientX clientY offsetX offsetY pageX pageY screenX screenY toElement".split(" "),filter:function(e,t){var n,i,r,s=t.button;return null==e.pageX&&null!=t.clientX&&(n=e.target.ownerDocument||Z,i=n.documentElement,r=n.body,e.pageX=t.clientX+(i&&i.scrollLeft||r&&r.scrollLeft||0)-(i&&i.clientLeft||r&&r.clientLeft||0),e.pageY=t.clientY+(i&&i.scrollTop||r&&r.scrollTop||0)-(i&&i.clientTop||r&&r.clientTop||0)),e.which||void 0===s||(e.which=1&s?1:2&s?3:4&s?2:0),e}},fix:function(e){if(e[et.expando])return e;var t,n,i,r=e.type,s=e,a=this.fixHooks[r];for(a||(this.fixHooks[r]=a=It.test(r)?this.mouseHooks:At.test(r)?this.keyHooks:{}),i=a.props?this.props.concat(a.props):this.props,e=new et.Event(s),t=i.length;t--;)n=i[t],e[n]=s[n];return e.target||(e.target=Z),3===e.target.nodeType&&(e.target=e.target.parentNode),a.filter?a.filter(e,s):e},special:{load:{noBubble:!0},focus:{trigger:function(){return this!==h()&&this.focus?(this.focus(),!1):void 0},delegateType:"focusin"},blur:{trigger:function(){return this===h()&&this.blur?(this.blur(),!1):void 0},delegateType:"focusout"},click:{trigger:function(){return"checkbox"===this.type&&this.click&&et.nodeName(this,"input")?(this.click(),!1):void 0},_default:function(e){return et.nodeName(e.target,"a")}},beforeunload:{postDispatch:function(e){void 0!==e.result&&(e.originalEvent.returnValue=e.result)}}},simulate:function(e,t,n,i){var r=et.extend(new et.Event,n,{type:e,isSimulated:!0,originalEvent:{}});i?et.event.trigger(r,null,t):et.event.dispatch.call(t,r),r.isDefaultPrevented()&&n.preventDefault()}},et.removeEvent=function(e,t,n){e.removeEventListener&&e.removeEventListener(t,n,!1)},et.Event=function(e,t){return this instanceof et.Event?(e&&e.type?(this.originalEvent=e,this.type=e.type,this.isDefaultPrevented=e.defaultPrevented||void 0===e.defaultPrevented&&e.getPreventDefault&&e.getPreventDefault()?l:c):this.type=e,t&&et.extend(this,t),this.timeStamp=e&&e.timeStamp||et.now(),void(this[et.expando]=!0)):new et.Event(e,t)},et.Event.prototype={isDefaultPrevented:c,isPropagationStopped:c,isImmediatePropagationStopped:c,preventDefault:function(){var e=this.originalEvent;this.isDefaultPrevented=l,e&&e.preventDefault&&e.preventDefault()},stopPropagation:function(){var e=this.originalEvent;this.isPropagationStopped=l,e&&e.stopPropagation&&e.stopPropagation()},stopImmediatePropagation:function(){this.isImmediatePropagationStopped=l,this.stopPropagation()}},et.each({mouseenter:"mouseover",mouseleave:"mouseout"},function(e,t){et.event.special[e]={delegateType:t,bindType:t,handle:function(e){var n,i=this,r=e.relatedTarget,s=e.handleObj;return(!r||r!==i&&!et.contains(i,r))&&(e.type=s.origType,n=s.handler.apply(this,arguments),e.type=t),n}}}),Q.focusinBubbles||et.each({focus:"focusin",blur:"focusout"},function(e,t){var n=function(e){et.event.simulate(t,e.target,et.event.fix(e),!0)};et.event.special[t]={setup:function(){var i=this.ownerDocument||this,r=gt.access(i,t);r||i.addEventListener(e,n,!0),gt.access(i,t,(r||0)+1)},teardown:function(){var i=this.ownerDocument||this,r=gt.access(i,t)-1;r?gt.access(i,t,r):(i.removeEventListener(e,n,!0),gt.remove(i,t))}}}),et.fn.extend({on:function(e,t,n,i,r){var s,a;if("object"==typeof e){"string"!=typeof t&&(n=n||t,t=void 0);for(a in e)this.on(a,t,n,e[a],r);return this}if(null==n&&null==i?(i=t,n=t=void 0):null==i&&("string"==typeof t?(i=n,n=void 0):(i=n,n=t,t=void 0)),i===!1)i=c;else if(!i)return this;return 1===r&&(s=i,i=function(e){return et().off(e),s.apply(this,arguments)},i.guid=s.guid||(s.guid=et.guid++)),this.each(function(){et.event.add(this,e,i,n,t)})},one:function(e,t,n,i){return this.on(e,t,n,i,1)},off:function(e,t,n){var i,r;if(e&&e.preventDefault&&e.handleObj)return i=e.handleObj,et(e.delegateTarget).off(i.namespace?i.origType+"."+i.namespace:i.origType,i.selector,i.handler),this;if("object"==typeof e){for(r in e)this.off(r,t,e[r]);return this}return(t===!1||"function"==typeof t)&&(n=t,t=void 0),n===!1&&(n=c),this.each(function(){et.event.remove(this,e,n,t)})},trigger:function(e,t){return this.each(function(){et.event.trigger(e,t,this)})},triggerHandler:function(e,t){var n=this[0];return n?et.event.trigger(e,t,n,!0):void 0}});var Ct=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/gi,Ot=/<([\w:]+)/,jt=/<|&#?\w+;/,Lt=/<(?:script|style|link)/i,Mt=/checked\s*(?:[^=]|=\s*.checked.)/i,Nt=/^$|\/(?:java|ecma)script/i,Et=/^true\/(.*)/,Pt=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g,Ft={option:[1,"<select multiple='multiple'>","</select>"],thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};Ft.optgroup=Ft.option,Ft.tbody=Ft.tfoot=Ft.colgroup=Ft.caption=Ft.thead,Ft.th=Ft.td,et.extend({clone:function(e,t,n){var i,r,s,a,o=e.cloneNode(!0),u=et.contains(e.ownerDocument,e);if(!(Q.noCloneChecked||1!==e.nodeType&&11!==e.nodeType||et.isXMLDoc(e)))for(a=g(o),s=g(e),i=0,r=s.length;r>i;i++)y(s[i],a[i]);if(t)if(n)for(s=s||g(e),a=a||g(o),i=0,r=s.length;r>i;i++)v(s[i],a[i]);else v(e,o);return a=g(o,"script"),a.length>0&&m(a,!u&&g(e,"script")),o},buildFragment:function(e,t,n,i){for(var r,s,a,o,u,l,c=t.createDocumentFragment(),h=[],f=0,p=e.length;p>f;f++)if(r=e[f],r||0===r)if("object"===et.type(r))et.merge(h,r.nodeType?[r]:r);else if(jt.test(r)){for(s=s||c.appendChild(t.createElement("div")),a=(Ot.exec(r)||["",""])[1].toLowerCase(),o=Ft[a]||Ft._default,s.innerHTML=o[1]+r.replace(Ct,"<$1></$2>")+o[2],l=o[0];l--;)s=s.lastChild;et.merge(h,s.childNodes),s=c.firstChild,s.textContent=""}else h.push(t.createTextNode(r));for(c.textContent="",f=0;r=h[f++];)if((!i||-1===et.inArray(r,i))&&(u=et.contains(r.ownerDocument,r),s=g(c.appendChild(r),"script"),u&&m(s),n))for(l=0;r=s[l++];)Nt.test(r.type||"")&&n.push(r);return c},cleanData:function(e){for(var t,n,i,r,s,a,o=et.event.special,u=0;void 0!==(n=e[u]);u++){if(et.acceptData(n)&&(s=n[gt.expando],s&&(t=gt.cache[s]))){if(i=Object.keys(t.events||{}),i.length)for(a=0;void 0!==(r=i[a]);a++)o[r]?et.event.remove(n,r):et.removeEvent(n,r,t.handle);gt.cache[s]&&delete gt.cache[s]}delete yt.cache[n[yt.expando]]}}}),et.fn.extend({text:function(e){return vt(this,function(e){return void 0===e?et.text(this):this.empty().each(function(){(1===this.nodeType||11===this.nodeType||9===this.nodeType)&&(this.textContent=e)})},null,e,arguments.length)},append:function(){return this.domManip(arguments,function(e){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var t=f(this,e);t.appendChild(e)}})},prepend:function(){return this.domManip(arguments,function(e){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var t=f(this,e);t.insertBefore(e,t.firstChild)}})},before:function(){return this.domManip(arguments,function(e){this.parentNode&&this.parentNode.insertBefore(e,this)})},after:function(){return this.domManip(arguments,function(e){this.parentNode&&this.parentNode.insertBefore(e,this.nextSibling)})},remove:function(e,t){for(var n,i=e?et.filter(e,this):this,r=0;null!=(n=i[r]);r++)t||1!==n.nodeType||et.cleanData(g(n)),n.parentNode&&(t&&et.contains(n.ownerDocument,n)&&m(g(n,"script")),n.parentNode.removeChild(n));return this},empty:function(){for(var e,t=0;null!=(e=this[t]);t++)1===e.nodeType&&(et.cleanData(g(e,!1)),e.textContent="");return this},clone:function(e,t){return e=null==e?!1:e,t=null==t?e:t,this.map(function(){return et.clone(this,e,t)})},html:function(e){return vt(this,function(e){var t=this[0]||{},n=0,i=this.length;if(void 0===e&&1===t.nodeType)return t.innerHTML;if("string"==typeof e&&!Lt.test(e)&&!Ft[(Ot.exec(e)||["",""])[1].toLowerCase()]){e=e.replace(Ct,"<$1></$2>");try{for(;i>n;n++)t=this[n]||{},1===t.nodeType&&(et.cleanData(g(t,!1)),t.innerHTML=e);t=0}catch(r){}}t&&this.empty().append(e)},null,e,arguments.length)},replaceWith:function(){var e=arguments[0];return this.domManip(arguments,function(t){e=this.parentNode,et.cleanData(g(this)),e&&e.replaceChild(t,this)}),e&&(e.length||e.nodeType)?this:this.remove()},detach:function(e){return this.remove(e,!0)},domManip:function(e,t){e=H.apply([],e);var n,i,r,s,a,o,u=0,l=this.length,c=this,h=l-1,f=e[0],m=et.isFunction(f);if(m||l>1&&"string"==typeof f&&!Q.checkClone&&Mt.test(f))return this.each(function(n){var i=c.eq(n);m&&(e[0]=f.call(this,n,i.html())),i.domManip(e,t)});if(l&&(n=et.buildFragment(e,this[0].ownerDocument,!1,this),i=n.firstChild,1===n.childNodes.length&&(n=i),i)){for(r=et.map(g(n,"script"),p),s=r.length;l>u;u++)a=n,u!==h&&(a=et.clone(a,!0,!0),s&&et.merge(r,g(a,"script"))),t.call(this[u],a,u);if(s)for(o=r[r.length-1].ownerDocument,et.map(r,d),u=0;s>u;u++)a=r[u],Nt.test(a.type||"")&&!gt.access(a,"globalEval")&&et.contains(o,a)&&(a.src?et._evalUrl&&et._evalUrl(a.src):et.globalEval(a.textContent.replace(Pt,"")))}return this}}),et.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(e,t){et.fn[e]=function(e){for(var n,i=[],r=et(e),s=r.length-1,a=0;s>=a;a++)n=a===s?this:this.clone(!0),et(r[a])[t](n),G.apply(i,n.get());return this.pushStack(i)}});var qt,$t={},Bt=/^margin/,zt=new RegExp("^("+xt+")(?!px)[a-z%]+$","i"),Wt=function(e){return e.ownerDocument.defaultView.getComputedStyle(e,null)};!function(){function t(){o.style.cssText="-webkit-box-sizing:border-box;-moz-box-sizing:border-box;box-sizing:border-box;padding:1px;border:1px;display:block;width:4px;margin-top:1%;position:absolute;top:1%",s.appendChild(a);var t=e.getComputedStyle(o,null);n="1%"!==t.top,i="4px"===t.width,s.removeChild(a)}var n,i,r="padding:0;margin:0;border:0;display:block;-webkit-box-sizing:content-box;-moz-box-sizing:content-box;box-sizing:content-box",s=Z.documentElement,a=Z.createElement("div"),o=Z.createElement("div");o.style.backgroundClip="content-box",o.cloneNode(!0).style.backgroundClip="",Q.clearCloneStyle="content-box"===o.style.backgroundClip,a.style.cssText="border:0;width:0;height:0;position:absolute;top:0;left:-9999px;margin-top:1px",a.appendChild(o),e.getComputedStyle&&et.extend(Q,{pixelPosition:function(){return t(),n},boxSizingReliable:function(){return null==i&&t(),i},reliableMarginRight:function(){var t,n=o.appendChild(Z.createElement("div"));return n.style.cssText=o.style.cssText=r,n.style.marginRight=n.style.width="0",o.style.width="1px",s.appendChild(a),t=!parseFloat(e.getComputedStyle(n,null).marginRight),s.removeChild(a),o.innerHTML="",t}})}(),et.swap=function(e,t,n,i){var r,s,a={};for(s in t)a[s]=e.style[s],e.style[s]=t[s];r=n.apply(e,i||[]);for(s in t)e.style[s]=a[s];return r};var Ht=/^(none|table(?!-c[ea]).+)/,Gt=new RegExp("^("+xt+")(.*)$","i"),Vt=new RegExp("^([+-])=("+xt+")","i"),Kt={position:"absolute",visibility:"hidden",display:"block"},Ut={letterSpacing:0,fontWeight:400},Yt=["Webkit","O","Moz","ms"];et.extend({cssHooks:{opacity:{get:function(e,t){if(t){var n=x(e,"opacity");return""===n?"1":n}}}},cssNumber:{columnCount:!0,fillOpacity:!0,fontWeight:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{"float":"cssFloat"},style:function(e,t,n,i){if(e&&3!==e.nodeType&&8!==e.nodeType&&e.style){var r,s,a,o=et.camelCase(t),u=e.style;return t=et.cssProps[o]||(et.cssProps[o]=k(u,o)),a=et.cssHooks[t]||et.cssHooks[o],void 0===n?a&&"get"in a&&void 0!==(r=a.get(e,!1,i))?r:u[t]:(s=typeof n,"string"===s&&(r=Vt.exec(n))&&(n=(r[1]+1)*r[2]+parseFloat(et.css(e,t)),s="number"),void(null!=n&&n===n&&("number"!==s||et.cssNumber[o]||(n+="px"),Q.clearCloneStyle||""!==n||0!==t.indexOf("background")||(u[t]="inherit"),a&&"set"in a&&void 0===(n=a.set(e,n,i))||(u[t]="",u[t]=n))))}},css:function(e,t,n,i){var r,s,a,o=et.camelCase(t);return t=et.cssProps[o]||(et.cssProps[o]=k(e.style,o)),a=et.cssHooks[t]||et.cssHooks[o],a&&"get"in a&&(r=a.get(e,!0,n)),void 0===r&&(r=x(e,t,i)),"normal"===r&&t in Ut&&(r=Ut[t]),""===n||n?(s=parseFloat(r),n===!0||et.isNumeric(s)?s||0:r):r}}),et.each(["height","width"],function(e,t){et.cssHooks[t]={get:function(e,n,i){return n?0===e.offsetWidth&&Ht.test(et.css(e,"display"))?et.swap(e,Kt,function(){return A(e,t,i)}):A(e,t,i):void 0},set:function(e,n,i){var r=i&&Wt(e);return T(e,n,i?S(e,t,i,"border-box"===et.css(e,"boxSizing",!1,r),r):0)}}}),et.cssHooks.marginRight=w(Q.reliableMarginRight,function(e,t){return t?et.swap(e,{display:"inline-block"},x,[e,"marginRight"]):void 0}),et.each({margin:"",padding:"",border:"Width"},function(e,t){et.cssHooks[e+t]={expand:function(n){for(var i=0,r={},s="string"==typeof n?n.split(" "):[n];4>i;i++)r[e+wt[i]+t]=s[i]||s[i-2]||s[0];return r}},Bt.test(e)||(et.cssHooks[e+t].set=T)}),et.fn.extend({css:function(e,t){return vt(this,function(e,t,n){var i,r,s={},a=0;if(et.isArray(t)){for(i=Wt(e),r=t.length;r>a;a++)s[t[a]]=et.css(e,t[a],!1,i);return s}return void 0!==n?et.style(e,t,n):et.css(e,t)},e,t,arguments.length>1)},show:function(){return I(this,!0)},hide:function(){return I(this)},toggle:function(e){return"boolean"==typeof e?e?this.show():this.hide():this.each(function(){kt(this)?et(this).show():et(this).hide()})}}),et.Tween=D,D.prototype={constructor:D,init:function(e,t,n,i,r,s){this.elem=e,this.prop=n,this.easing=r||"swing",this.options=t,this.start=this.now=this.cur(),this.end=i,this.unit=s||(et.cssNumber[n]?"":"px")},cur:function(){var e=D.propHooks[this.prop];return e&&e.get?e.get(this):D.propHooks._default.get(this)},run:function(e){var t,n=D.propHooks[this.prop];return this.pos=t=this.options.duration?et.easing[this.easing](e,this.options.duration*e,0,1,this.options.duration):e,this.now=(this.end-this.start)*t+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),n&&n.set?n.set(this):D.propHooks._default.set(this),this}},D.prototype.init.prototype=D.prototype,D.propHooks={_default:{get:function(e){var t;return null==e.elem[e.prop]||e.elem.style&&null!=e.elem.style[e.prop]?(t=et.css(e.elem,e.prop,""),t&&"auto"!==t?t:0):e.elem[e.prop]},set:function(e){et.fx.step[e.prop]?et.fx.step[e.prop](e):e.elem.style&&(null!=e.elem.style[et.cssProps[e.prop]]||et.cssHooks[e.prop])?et.style(e.elem,e.prop,e.now+e.unit):e.elem[e.prop]=e.now}}},D.propHooks.scrollTop=D.propHooks.scrollLeft={set:function(e){e.elem.nodeType&&e.elem.parentNode&&(e.elem[e.prop]=e.now)}},et.easing={linear:function(e){return e},swing:function(e){return.5-Math.cos(e*Math.PI)/2}},et.fx=D.prototype.init,et.fx.step={};var Xt,Qt,Zt=/^(?:toggle|show|hide)$/,Jt=new RegExp("^(?:([+-])=|)("+xt+")([a-z%]*)$","i"),en=/queueHooks$/,tn=[j],nn={"*":[function(e,t){var n=this.createTween(e,t),i=n.cur(),r=Jt.exec(t),s=r&&r[3]||(et.cssNumber[e]?"":"px"),a=(et.cssNumber[e]||"px"!==s&&+i)&&Jt.exec(et.css(n.elem,e)),o=1,u=20;if(a&&a[3]!==s){s=s||a[3],r=r||[],a=+i||1;do o=o||".5",a/=o,et.style(n.elem,e,a+s);while(o!==(o=n.cur()/i)&&1!==o&&--u)}return r&&(a=n.start=+a||+i||0,n.unit=s,n.end=r[1]?a+(r[1]+1)*r[2]:+r[2]),n}]};et.Animation=et.extend(M,{tweener:function(e,t){et.isFunction(e)?(t=e,e=["*"]):e=e.split(" ");for(var n,i=0,r=e.length;r>i;i++)n=e[i],nn[n]=nn[n]||[],nn[n].unshift(t)},prefilter:function(e,t){t?tn.unshift(e):tn.push(e)}}),et.speed=function(e,t,n){var i=e&&"object"==typeof e?et.extend({},e):{complete:n||!n&&t||et.isFunction(e)&&e,duration:e,easing:n&&t||t&&!et.isFunction(t)&&t};return i.duration=et.fx.off?0:"number"==typeof i.duration?i.duration:i.duration in et.fx.speeds?et.fx.speeds[i.duration]:et.fx.speeds._default,(null==i.queue||i.queue===!0)&&(i.queue="fx"),i.old=i.complete,i.complete=function(){et.isFunction(i.old)&&i.old.call(this),i.queue&&et.dequeue(this,i.queue)},i},et.fn.extend({fadeTo:function(e,t,n,i){return this.filter(kt).css("opacity",0).show().end().animate({opacity:t},e,n,i)},animate:function(e,t,n,i){var r=et.isEmptyObject(e),s=et.speed(t,n,i),a=function(){var t=M(this,et.extend({},e),s);(r||gt.get(this,"finish"))&&t.stop(!0)};return a.finish=a,r||s.queue===!1?this.each(a):this.queue(s.queue,a)},stop:function(e,t,n){var i=function(e){var t=e.stop;delete e.stop,t(n)};return"string"!=typeof e&&(n=t,t=e,e=void 0),t&&e!==!1&&this.queue(e||"fx",[]),this.each(function(){var t=!0,r=null!=e&&e+"queueHooks",s=et.timers,a=gt.get(this);if(r)a[r]&&a[r].stop&&i(a[r]);else for(r in a)a[r]&&a[r].stop&&en.test(r)&&i(a[r]);for(r=s.length;r--;)s[r].elem!==this||null!=e&&s[r].queue!==e||(s[r].anim.stop(n),t=!1,s.splice(r,1));(t||!n)&&et.dequeue(this,e)})},finish:function(e){return e!==!1&&(e=e||"fx"),this.each(function(){var t,n=gt.get(this),i=n[e+"queue"],r=n[e+"queueHooks"],s=et.timers,a=i?i.length:0;for(n.finish=!0,et.queue(this,e,[]),r&&r.stop&&r.stop.call(this,!0),t=s.length;t--;)s[t].elem===this&&s[t].queue===e&&(s[t].anim.stop(!0),s.splice(t,1));for(t=0;a>t;t++)i[t]&&i[t].finish&&i[t].finish.call(this);delete n.finish})}}),et.each(["toggle","show","hide"],function(e,t){var n=et.fn[t];et.fn[t]=function(e,i,r){return null==e||"boolean"==typeof e?n.apply(this,arguments):this.animate(C(t,!0),e,i,r)
}}),et.each({slideDown:C("show"),slideUp:C("hide"),slideToggle:C("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(e,t){et.fn[e]=function(e,n,i){return this.animate(t,e,n,i)}}),et.timers=[],et.fx.tick=function(){var e,t=0,n=et.timers;for(Xt=et.now();t<n.length;t++)e=n[t],e()||n[t]!==e||n.splice(t--,1);n.length||et.fx.stop(),Xt=void 0},et.fx.timer=function(e){et.timers.push(e),e()?et.fx.start():et.timers.pop()},et.fx.interval=13,et.fx.start=function(){Qt||(Qt=setInterval(et.fx.tick,et.fx.interval))},et.fx.stop=function(){clearInterval(Qt),Qt=null},et.fx.speeds={slow:600,fast:200,_default:400},et.fn.delay=function(e,t){return e=et.fx?et.fx.speeds[e]||e:e,t=t||"fx",this.queue(t,function(t,n){var i=setTimeout(t,e);n.stop=function(){clearTimeout(i)}})},function(){var e=Z.createElement("input"),t=Z.createElement("select"),n=t.appendChild(Z.createElement("option"));e.type="checkbox",Q.checkOn=""!==e.value,Q.optSelected=n.selected,t.disabled=!0,Q.optDisabled=!n.disabled,e=Z.createElement("input"),e.value="t",e.type="radio",Q.radioValue="t"===e.value}();var rn,sn,an=et.expr.attrHandle;et.fn.extend({attr:function(e,t){return vt(this,et.attr,e,t,arguments.length>1)},removeAttr:function(e){return this.each(function(){et.removeAttr(this,e)})}}),et.extend({attr:function(e,t,n){var i,r,s=e.nodeType;return e&&3!==s&&8!==s&&2!==s?typeof e.getAttribute===St?et.prop(e,t,n):(1===s&&et.isXMLDoc(e)||(t=t.toLowerCase(),i=et.attrHooks[t]||(et.expr.match.bool.test(t)?sn:rn)),void 0===n?i&&"get"in i&&null!==(r=i.get(e,t))?r:(r=et.find.attr(e,t),null==r?void 0:r):null!==n?i&&"set"in i&&void 0!==(r=i.set(e,n,t))?r:(e.setAttribute(t,n+""),n):void et.removeAttr(e,t)):void 0},removeAttr:function(e,t){var n,i,r=0,s=t&&t.match(pt);if(s&&1===e.nodeType)for(;n=s[r++];)i=et.propFix[n]||n,et.expr.match.bool.test(n)&&(e[i]=!1),e.removeAttribute(n)},attrHooks:{type:{set:function(e,t){if(!Q.radioValue&&"radio"===t&&et.nodeName(e,"input")){var n=e.value;return e.setAttribute("type",t),n&&(e.value=n),t}}}}}),sn={set:function(e,t,n){return t===!1?et.removeAttr(e,n):e.setAttribute(n,n),n}},et.each(et.expr.match.bool.source.match(/\w+/g),function(e,t){var n=an[t]||et.find.attr;an[t]=function(e,t,i){var r,s;return i||(s=an[t],an[t]=r,r=null!=n(e,t,i)?t.toLowerCase():null,an[t]=s),r}});var on=/^(?:input|select|textarea|button)$/i;et.fn.extend({prop:function(e,t){return vt(this,et.prop,e,t,arguments.length>1)},removeProp:function(e){return this.each(function(){delete this[et.propFix[e]||e]})}}),et.extend({propFix:{"for":"htmlFor","class":"className"},prop:function(e,t,n){var i,r,s,a=e.nodeType;return e&&3!==a&&8!==a&&2!==a?(s=1!==a||!et.isXMLDoc(e),s&&(t=et.propFix[t]||t,r=et.propHooks[t]),void 0!==n?r&&"set"in r&&void 0!==(i=r.set(e,n,t))?i:e[t]=n:r&&"get"in r&&null!==(i=r.get(e,t))?i:e[t]):void 0},propHooks:{tabIndex:{get:function(e){return e.hasAttribute("tabindex")||on.test(e.nodeName)||e.href?e.tabIndex:-1}}}}),Q.optSelected||(et.propHooks.selected={get:function(e){var t=e.parentNode;return t&&t.parentNode&&t.parentNode.selectedIndex,null}}),et.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){et.propFix[this.toLowerCase()]=this});var un=/[\t\r\n\f]/g;et.fn.extend({addClass:function(e){var t,n,i,r,s,a,o="string"==typeof e&&e,u=0,l=this.length;if(et.isFunction(e))return this.each(function(t){et(this).addClass(e.call(this,t,this.className))});if(o)for(t=(e||"").match(pt)||[];l>u;u++)if(n=this[u],i=1===n.nodeType&&(n.className?(" "+n.className+" ").replace(un," "):" ")){for(s=0;r=t[s++];)i.indexOf(" "+r+" ")<0&&(i+=r+" ");a=et.trim(i),n.className!==a&&(n.className=a)}return this},removeClass:function(e){var t,n,i,r,s,a,o=0===arguments.length||"string"==typeof e&&e,u=0,l=this.length;if(et.isFunction(e))return this.each(function(t){et(this).removeClass(e.call(this,t,this.className))});if(o)for(t=(e||"").match(pt)||[];l>u;u++)if(n=this[u],i=1===n.nodeType&&(n.className?(" "+n.className+" ").replace(un," "):"")){for(s=0;r=t[s++];)for(;i.indexOf(" "+r+" ")>=0;)i=i.replace(" "+r+" "," ");a=e?et.trim(i):"",n.className!==a&&(n.className=a)}return this},toggleClass:function(e,t){var n=typeof e;return"boolean"==typeof t&&"string"===n?t?this.addClass(e):this.removeClass(e):this.each(et.isFunction(e)?function(n){et(this).toggleClass(e.call(this,n,this.className,t),t)}:function(){if("string"===n)for(var t,i=0,r=et(this),s=e.match(pt)||[];t=s[i++];)r.hasClass(t)?r.removeClass(t):r.addClass(t);else(n===St||"boolean"===n)&&(this.className&&gt.set(this,"__className__",this.className),this.className=this.className||e===!1?"":gt.get(this,"__className__")||"")})},hasClass:function(e){for(var t=" "+e+" ",n=0,i=this.length;i>n;n++)if(1===this[n].nodeType&&(" "+this[n].className+" ").replace(un," ").indexOf(t)>=0)return!0;return!1}});var ln=/\r/g;et.fn.extend({val:function(e){var t,n,i,r=this[0];return arguments.length?(i=et.isFunction(e),this.each(function(n){var r;1===this.nodeType&&(r=i?e.call(this,n,et(this).val()):e,null==r?r="":"number"==typeof r?r+="":et.isArray(r)&&(r=et.map(r,function(e){return null==e?"":e+""})),t=et.valHooks[this.type]||et.valHooks[this.nodeName.toLowerCase()],t&&"set"in t&&void 0!==t.set(this,r,"value")||(this.value=r))})):r?(t=et.valHooks[r.type]||et.valHooks[r.nodeName.toLowerCase()],t&&"get"in t&&void 0!==(n=t.get(r,"value"))?n:(n=r.value,"string"==typeof n?n.replace(ln,""):null==n?"":n)):void 0}}),et.extend({valHooks:{select:{get:function(e){for(var t,n,i=e.options,r=e.selectedIndex,s="select-one"===e.type||0>r,a=s?null:[],o=s?r+1:i.length,u=0>r?o:s?r:0;o>u;u++)if(n=i[u],!(!n.selected&&u!==r||(Q.optDisabled?n.disabled:null!==n.getAttribute("disabled"))||n.parentNode.disabled&&et.nodeName(n.parentNode,"optgroup"))){if(t=et(n).val(),s)return t;a.push(t)}return a},set:function(e,t){for(var n,i,r=e.options,s=et.makeArray(t),a=r.length;a--;)i=r[a],(i.selected=et.inArray(et(i).val(),s)>=0)&&(n=!0);return n||(e.selectedIndex=-1),s}}}}),et.each(["radio","checkbox"],function(){et.valHooks[this]={set:function(e,t){return et.isArray(t)?e.checked=et.inArray(et(e).val(),t)>=0:void 0}},Q.checkOn||(et.valHooks[this].get=function(e){return null===e.getAttribute("value")?"on":e.value})}),et.each("blur focus focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup error contextmenu".split(" "),function(e,t){et.fn[t]=function(e,n){return arguments.length>0?this.on(t,null,e,n):this.trigger(t)}}),et.fn.extend({hover:function(e,t){return this.mouseenter(e).mouseleave(t||e)},bind:function(e,t,n){return this.on(e,null,t,n)},unbind:function(e,t){return this.off(e,null,t)},delegate:function(e,t,n,i){return this.on(t,e,n,i)},undelegate:function(e,t,n){return 1===arguments.length?this.off(e,"**"):this.off(t,e||"**",n)}});var cn=et.now(),hn=/\?/;et.parseJSON=function(e){return JSON.parse(e+"")},et.parseXML=function(e){var t,n;if(!e||"string"!=typeof e)return null;try{n=new DOMParser,t=n.parseFromString(e,"text/xml")}catch(i){t=void 0}return(!t||t.getElementsByTagName("parsererror").length)&&et.error("Invalid XML: "+e),t};var fn,pn,dn=/#.*$/,mn=/([?&])_=[^&]*/,vn=/^(.*?):[ \t]*([^\r\n]*)$/gm,gn=/^(?:about|app|app-storage|.+-extension|file|res|widget):$/,yn=/^(?:GET|HEAD)$/,bn=/^\/\//,_n=/^([\w.+-]+:)(?:\/\/(?:[^\/?#]*@|)([^\/?#:]*)(?::(\d+)|)|)/,xn={},wn={},kn="*/".concat("*");try{pn=location.href}catch(Tn){pn=Z.createElement("a"),pn.href="",pn=pn.href}fn=_n.exec(pn.toLowerCase())||[],et.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:pn,type:"GET",isLocal:gn.test(fn[1]),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":kn,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/xml/,html:/html/,json:/json/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":et.parseJSON,"text xml":et.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(e,t){return t?P(P(e,et.ajaxSettings),t):P(et.ajaxSettings,e)},ajaxPrefilter:N(xn),ajaxTransport:N(wn),ajax:function(e,t){function n(e,t,n,a){var u,c,g,y,_,w=t;2!==b&&(b=2,o&&clearTimeout(o),i=void 0,s=a||"",x.readyState=e>0?4:0,u=e>=200&&300>e||304===e,n&&(y=F(h,x,n)),y=q(h,y,x,u),u?(h.ifModified&&(_=x.getResponseHeader("Last-Modified"),_&&(et.lastModified[r]=_),_=x.getResponseHeader("etag"),_&&(et.etag[r]=_)),204===e||"HEAD"===h.type?w="nocontent":304===e?w="notmodified":(w=y.state,c=y.data,g=y.error,u=!g)):(g=w,(e||!w)&&(w="error",0>e&&(e=0))),x.status=e,x.statusText=(t||w)+"",u?d.resolveWith(f,[c,w,x]):d.rejectWith(f,[x,w,g]),x.statusCode(v),v=void 0,l&&p.trigger(u?"ajaxSuccess":"ajaxError",[x,h,u?c:g]),m.fireWith(f,[x,w]),l&&(p.trigger("ajaxComplete",[x,h]),--et.active||et.event.trigger("ajaxStop")))}"object"==typeof e&&(t=e,e=void 0),t=t||{};var i,r,s,a,o,u,l,c,h=et.ajaxSetup({},t),f=h.context||h,p=h.context&&(f.nodeType||f.jquery)?et(f):et.event,d=et.Deferred(),m=et.Callbacks("once memory"),v=h.statusCode||{},g={},y={},b=0,_="canceled",x={readyState:0,getResponseHeader:function(e){var t;if(2===b){if(!a)for(a={};t=vn.exec(s);)a[t[1].toLowerCase()]=t[2];t=a[e.toLowerCase()]}return null==t?null:t},getAllResponseHeaders:function(){return 2===b?s:null},setRequestHeader:function(e,t){var n=e.toLowerCase();return b||(e=y[n]=y[n]||e,g[e]=t),this},overrideMimeType:function(e){return b||(h.mimeType=e),this},statusCode:function(e){var t;if(e)if(2>b)for(t in e)v[t]=[v[t],e[t]];else x.always(e[x.status]);return this},abort:function(e){var t=e||_;return i&&i.abort(t),n(0,t),this}};if(d.promise(x).complete=m.add,x.success=x.done,x.error=x.fail,h.url=((e||h.url||pn)+"").replace(dn,"").replace(bn,fn[1]+"//"),h.type=t.method||t.type||h.method||h.type,h.dataTypes=et.trim(h.dataType||"*").toLowerCase().match(pt)||[""],null==h.crossDomain&&(u=_n.exec(h.url.toLowerCase()),h.crossDomain=!(!u||u[1]===fn[1]&&u[2]===fn[2]&&(u[3]||("http:"===u[1]?"80":"443"))===(fn[3]||("http:"===fn[1]?"80":"443")))),h.data&&h.processData&&"string"!=typeof h.data&&(h.data=et.param(h.data,h.traditional)),E(xn,h,t,x),2===b)return x;l=h.global,l&&0===et.active++&&et.event.trigger("ajaxStart"),h.type=h.type.toUpperCase(),h.hasContent=!yn.test(h.type),r=h.url,h.hasContent||(h.data&&(r=h.url+=(hn.test(r)?"&":"?")+h.data,delete h.data),h.cache===!1&&(h.url=mn.test(r)?r.replace(mn,"$1_="+cn++):r+(hn.test(r)?"&":"?")+"_="+cn++)),h.ifModified&&(et.lastModified[r]&&x.setRequestHeader("If-Modified-Since",et.lastModified[r]),et.etag[r]&&x.setRequestHeader("If-None-Match",et.etag[r])),(h.data&&h.hasContent&&h.contentType!==!1||t.contentType)&&x.setRequestHeader("Content-Type",h.contentType),x.setRequestHeader("Accept",h.dataTypes[0]&&h.accepts[h.dataTypes[0]]?h.accepts[h.dataTypes[0]]+("*"!==h.dataTypes[0]?", "+kn+"; q=0.01":""):h.accepts["*"]);for(c in h.headers)x.setRequestHeader(c,h.headers[c]);if(h.beforeSend&&(h.beforeSend.call(f,x,h)===!1||2===b))return x.abort();_="abort";for(c in{success:1,error:1,complete:1})x[c](h[c]);if(i=E(wn,h,t,x)){x.readyState=1,l&&p.trigger("ajaxSend",[x,h]),h.async&&h.timeout>0&&(o=setTimeout(function(){x.abort("timeout")},h.timeout));try{b=1,i.send(g,n)}catch(w){if(!(2>b))throw w;n(-1,w)}}else n(-1,"No Transport");return x},getJSON:function(e,t,n){return et.get(e,t,n,"json")},getScript:function(e,t){return et.get(e,void 0,t,"script")}}),et.each(["get","post"],function(e,t){et[t]=function(e,n,i,r){return et.isFunction(n)&&(r=r||i,i=n,n=void 0),et.ajax({url:e,type:t,dataType:r,data:n,success:i})}}),et.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(e,t){et.fn[t]=function(e){return this.on(t,e)}}),et._evalUrl=function(e){return et.ajax({url:e,type:"GET",dataType:"script",async:!1,global:!1,"throws":!0})},et.fn.extend({wrapAll:function(e){var t;return et.isFunction(e)?this.each(function(t){et(this).wrapAll(e.call(this,t))}):(this[0]&&(t=et(e,this[0].ownerDocument).eq(0).clone(!0),this[0].parentNode&&t.insertBefore(this[0]),t.map(function(){for(var e=this;e.firstElementChild;)e=e.firstElementChild;return e}).append(this)),this)},wrapInner:function(e){return this.each(et.isFunction(e)?function(t){et(this).wrapInner(e.call(this,t))}:function(){var t=et(this),n=t.contents();n.length?n.wrapAll(e):t.append(e)})},wrap:function(e){var t=et.isFunction(e);return this.each(function(n){et(this).wrapAll(t?e.call(this,n):e)})},unwrap:function(){return this.parent().each(function(){et.nodeName(this,"body")||et(this).replaceWith(this.childNodes)}).end()}}),et.expr.filters.hidden=function(e){return e.offsetWidth<=0&&e.offsetHeight<=0},et.expr.filters.visible=function(e){return!et.expr.filters.hidden(e)};var Sn=/%20/g,An=/\[\]$/,In=/\r?\n/g,Dn=/^(?:submit|button|image|reset|file)$/i,Rn=/^(?:input|select|textarea|keygen)/i;et.param=function(e,t){var n,i=[],r=function(e,t){t=et.isFunction(t)?t():null==t?"":t,i[i.length]=encodeURIComponent(e)+"="+encodeURIComponent(t)};if(void 0===t&&(t=et.ajaxSettings&&et.ajaxSettings.traditional),et.isArray(e)||e.jquery&&!et.isPlainObject(e))et.each(e,function(){r(this.name,this.value)});else for(n in e)$(n,e[n],t,r);return i.join("&").replace(Sn,"+")},et.fn.extend({serialize:function(){return et.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var e=et.prop(this,"elements");return e?et.makeArray(e):this}).filter(function(){var e=this.type;return this.name&&!et(this).is(":disabled")&&Rn.test(this.nodeName)&&!Dn.test(e)&&(this.checked||!Tt.test(e))}).map(function(e,t){var n=et(this).val();return null==n?null:et.isArray(n)?et.map(n,function(e){return{name:t.name,value:e.replace(In,"\r\n")}}):{name:t.name,value:n.replace(In,"\r\n")}}).get()}}),et.ajaxSettings.xhr=function(){try{return new XMLHttpRequest}catch(e){}};var Cn=0,On={},jn={0:200,1223:204},Ln=et.ajaxSettings.xhr();e.ActiveXObject&&et(e).on("unload",function(){for(var e in On)On[e]()}),Q.cors=!!Ln&&"withCredentials"in Ln,Q.ajax=Ln=!!Ln,et.ajaxTransport(function(e){var t;return Q.cors||Ln&&!e.crossDomain?{send:function(n,i){var r,s=e.xhr(),a=++Cn;if(s.open(e.type,e.url,e.async,e.username,e.password),e.xhrFields)for(r in e.xhrFields)s[r]=e.xhrFields[r];e.mimeType&&s.overrideMimeType&&s.overrideMimeType(e.mimeType),e.crossDomain||n["X-Requested-With"]||(n["X-Requested-With"]="XMLHttpRequest");for(r in n)s.setRequestHeader(r,n[r]);t=function(e){return function(){t&&(delete On[a],t=s.onload=s.onerror=null,"abort"===e?s.abort():"error"===e?i(s.status,s.statusText):i(jn[s.status]||s.status,s.statusText,"string"==typeof s.responseText?{text:s.responseText}:void 0,s.getAllResponseHeaders()))}},s.onload=t(),s.onerror=t("error"),t=On[a]=t("abort"),s.send(e.hasContent&&e.data||null)},abort:function(){t&&t()}}:void 0}),et.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/(?:java|ecma)script/},converters:{"text script":function(e){return et.globalEval(e),e}}}),et.ajaxPrefilter("script",function(e){void 0===e.cache&&(e.cache=!1),e.crossDomain&&(e.type="GET")}),et.ajaxTransport("script",function(e){if(e.crossDomain){var t,n;return{send:function(i,r){t=et("<script>").prop({async:!0,charset:e.scriptCharset,src:e.url}).on("load error",n=function(e){t.remove(),n=null,e&&r("error"===e.type?404:200,e.type)}),Z.head.appendChild(t[0])},abort:function(){n&&n()}}}});var Mn=[],Nn=/(=)\?(?=&|$)|\?\?/;et.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var e=Mn.pop()||et.expando+"_"+cn++;return this[e]=!0,e}}),et.ajaxPrefilter("json jsonp",function(t,n,i){var r,s,a,o=t.jsonp!==!1&&(Nn.test(t.url)?"url":"string"==typeof t.data&&!(t.contentType||"").indexOf("application/x-www-form-urlencoded")&&Nn.test(t.data)&&"data");return o||"jsonp"===t.dataTypes[0]?(r=t.jsonpCallback=et.isFunction(t.jsonpCallback)?t.jsonpCallback():t.jsonpCallback,o?t[o]=t[o].replace(Nn,"$1"+r):t.jsonp!==!1&&(t.url+=(hn.test(t.url)?"&":"?")+t.jsonp+"="+r),t.converters["script json"]=function(){return a||et.error(r+" was not called"),a[0]},t.dataTypes[0]="json",s=e[r],e[r]=function(){a=arguments},i.always(function(){e[r]=s,t[r]&&(t.jsonpCallback=n.jsonpCallback,Mn.push(r)),a&&et.isFunction(s)&&s(a[0]),a=s=void 0}),"script"):void 0}),et.parseHTML=function(e,t,n){if(!e||"string"!=typeof e)return null;"boolean"==typeof t&&(n=t,t=!1),t=t||Z;var i=at.exec(e),r=!n&&[];return i?[t.createElement(i[1])]:(i=et.buildFragment([e],t,r),r&&r.length&&et(r).remove(),et.merge([],i.childNodes))};var En=et.fn.load;et.fn.load=function(e,t,n){if("string"!=typeof e&&En)return En.apply(this,arguments);var i,r,s,a=this,o=e.indexOf(" ");return o>=0&&(i=e.slice(o),e=e.slice(0,o)),et.isFunction(t)?(n=t,t=void 0):t&&"object"==typeof t&&(r="POST"),a.length>0&&et.ajax({url:e,type:r,dataType:"html",data:t}).done(function(e){s=arguments,a.html(i?et("<div>").append(et.parseHTML(e)).find(i):e)}).complete(n&&function(e,t){a.each(n,s||[e.responseText,t,e])}),this},et.expr.filters.animated=function(e){return et.grep(et.timers,function(t){return e===t.elem}).length};var Pn=e.document.documentElement;et.offset={setOffset:function(e,t,n){var i,r,s,a,o,u,l,c=et.css(e,"position"),h=et(e),f={};"static"===c&&(e.style.position="relative"),o=h.offset(),s=et.css(e,"top"),u=et.css(e,"left"),l=("absolute"===c||"fixed"===c)&&(s+u).indexOf("auto")>-1,l?(i=h.position(),a=i.top,r=i.left):(a=parseFloat(s)||0,r=parseFloat(u)||0),et.isFunction(t)&&(t=t.call(e,n,o)),null!=t.top&&(f.top=t.top-o.top+a),null!=t.left&&(f.left=t.left-o.left+r),"using"in t?t.using.call(e,f):h.css(f)}},et.fn.extend({offset:function(e){if(arguments.length)return void 0===e?this:this.each(function(t){et.offset.setOffset(this,e,t)});var t,n,i=this[0],r={top:0,left:0},s=i&&i.ownerDocument;return s?(t=s.documentElement,et.contains(t,i)?(typeof i.getBoundingClientRect!==St&&(r=i.getBoundingClientRect()),n=B(s),{top:r.top+n.pageYOffset-t.clientTop,left:r.left+n.pageXOffset-t.clientLeft}):r):void 0},position:function(){if(this[0]){var e,t,n=this[0],i={top:0,left:0};return"fixed"===et.css(n,"position")?t=n.getBoundingClientRect():(e=this.offsetParent(),t=this.offset(),et.nodeName(e[0],"html")||(i=e.offset()),i.top+=et.css(e[0],"borderTopWidth",!0),i.left+=et.css(e[0],"borderLeftWidth",!0)),{top:t.top-i.top-et.css(n,"marginTop",!0),left:t.left-i.left-et.css(n,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){for(var e=this.offsetParent||Pn;e&&!et.nodeName(e,"html")&&"static"===et.css(e,"position");)e=e.offsetParent;return e||Pn})}}),et.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(t,n){var i="pageYOffset"===n;et.fn[t]=function(r){return vt(this,function(t,r,s){var a=B(t);return void 0===s?a?a[n]:t[r]:void(a?a.scrollTo(i?e.pageXOffset:s,i?s:e.pageYOffset):t[r]=s)},t,r,arguments.length,null)}}),et.each(["top","left"],function(e,t){et.cssHooks[t]=w(Q.pixelPosition,function(e,n){return n?(n=x(e,t),zt.test(n)?et(e).position()[t]+"px":n):void 0})}),et.each({Height:"height",Width:"width"},function(e,t){et.each({padding:"inner"+e,content:t,"":"outer"+e},function(n,i){et.fn[i]=function(i,r){var s=arguments.length&&(n||"boolean"!=typeof i),a=n||(i===!0||r===!0?"margin":"border");return vt(this,function(t,n,i){var r;return et.isWindow(t)?t.document.documentElement["client"+e]:9===t.nodeType?(r=t.documentElement,Math.max(t.body["scroll"+e],r["scroll"+e],t.body["offset"+e],r["offset"+e],r["client"+e])):void 0===i?et.css(t,n,a):et.style(t,n,i,a)},t,s?i:void 0,s,null)}})}),et.fn.size=function(){return this.length},et.fn.andSelf=et.fn.addBack,"function"==typeof define&&define.amd&&define("jquery",[],function(){return et});var Fn=e.jQuery,qn=e.$;return et.noConflict=function(t){return e.$===et&&(e.$=qn),t&&e.jQuery===et&&(e.jQuery=Fn),et},typeof t===St&&(e.jQuery=e.$=et),et}),function(e){"use strict";var t=function(){return g.apply(null,arguments)},n=Array.prototype.slice,i=0,r=1,s=2,a=3,o=[8e3,11025,12e3,16e3,22050,24e3,32e3,44100,48e3],u=[32,64,128,256],l="14.05.15",c=null,h={},f={},p="undefined"!=typeof module&&module.exports?"node":"undefined"!=typeof window?"browser":"unknown",d="browser"===p&&/(iPhone|iPad|iPod|Android)/i.test(navigator.userAgent),m=!1,v=120,g=function(){var t,i,r=n.call(arguments),s=r[0];switch(typeof s){case"string":h[s]?t=new h[s](r.slice(1)):f[s]?t=f[s](r.slice(1)):(i=/^(.+?)(?:\.(ar|kr))?$/.exec(s),i&&(s=i[1],h[s]?t=new h[s](r.slice(1)):f[s]&&(t=f[s](r.slice(1))),t&&i[2]&&t[i[2]]()));break;case"number":t=new D(r);break;case"boolean":t=new R(r);break;case"function":t=new C(r);break;case"object":if(null!==s){if(s instanceof S)return s;if(s.context instanceof S)return s.context;x(s)?t=new j(r):_(s)&&(t=new O(r))}}t===e&&void(t=new I(r.slice(1)));var a=t._;return a.originkey=s,a.meta=y(t),a.emit("init"),t},y=function(e){for(var t,n,i=e._.meta,r=e;null!==r&&r.constructor!==Object;){t=Object.getOwnPropertyNames(r);for(var s=0,a=t.length;a>s;++s)i[t[s]]||(/^(constructor$|process$|_)/.test(t[s])?i[t[s]]="ignore":(n=Object.getOwnPropertyDescriptor(r,t[s]),"function"==typeof n.value?i[t[s]]="function":(n.get||n.set)&&(i[t[s]]="property")));r=Object.getPrototypeOf(r)}return i};Object.defineProperties(t,{version:{value:l},envtype:{value:p},envmobile:{value:d},env:{get:function(){return c.impl.env}},samplerate:{get:function(){return c.samplerate}},channels:{get:function(){return c.channels}},cellsize:{get:function(){return c.cellsize}},currentTime:{get:function(){return c.currentTime}},isPlaying:{get:function(){return c.status===r}},isRecording:{get:function(){return c.status===a}},amp:{set:function(e){"number"==typeof e&&(c.amp=e)},get:function(){return c.amp}},bpm:{set:function(e){"number"==typeof e&&e>=5&&300>=e&&(v=e)},get:function(){return v}}}),t.bind=function(e,n){return c.bind(e,n),t},t.setup=function(e){return c.setup(e),t},t.play=function(){return c.play(),t},t.pause=function(){return c.pause(),t},t.reset=function(){return c.reset(),c.events.emit("reset"),t},t.on=t.addListener=function(e,n){return c.on(e,n),t},t.once=function(e,n){return c.once(e,n),t},t.off=t.removeListener=function(e,n){return c.off(e,n),t},t.removeAllListeners=function(e){return c.removeAllListeners(e),t},t.listeners=function(e){return c.listeners(e)},t.rec=function(){return c.rec.apply(c,arguments)},t.timevalue=function(){var e=function(e){var t,n=v;return(t=/^bpm(\d+(?:\.\d+)?)/i.exec(e))&&(n=Math.max(5,Math.min(300,+(t[1]||0)))),n};return function(n){var i,r,s;if(i=/^(\d+(?:\.\d+)?)Hz$/i.exec(n))return 0===+i[1]?0:1e3/+i[1];if(i=/L(\d+)?(\.*)$/i.exec(n))return r=6e4/e(n)*(4/(i[1]||4)),r*=[1,1.5,1.75,1.875][(i[2]||"").length]||1;if(i=/^(\d+(?:\.\d+)?|\.(?:\d+))(min|sec|m)s?$/i.exec(n))switch(i[2]){case"min":return 6e4*+(i[1]||0);case"sec":return 1e3*+(i[1]||0);case"m":return+(i[1]||0)}return(i=/^(?:([0-5]?[0-9]):)?(?:([0-5]?[0-9]):)(?:([0-5]?[0-9]))(?:\.([0-9]{1,3}))?$/.exec(n))?(s=3600*(i[1]||0)+60*(i[2]||0)+(i[3]||0),s=1e3*s+(0|((i[4]||"")+"00").substr(0,3))):(i=/(\d+)\.(\d+)\.(\d+)$/i.exec(n))?(s=480*(4*i[1]+ +i[2])+ +i[3],6e4/e(n)*(s/480)):(i=/(\d+)ticks$/i.exec(n))?6e4/e(n)*(i[1]/480):(i=/^(\d+)samples(?:\/(\d+)Hz)?$/i.exec(n))?1e3*i[1]/(i[2]||t.samplerate):0}}();var b=t.fn={SignalArray:Float32Array,currentTimeIncr:0,emptycell:null,FINISHED_STATE:i,PLAYING_STATE:r,UNSCHEDULED_STATE:s,SCHEDULED_STATE:a},_=b.isArray=Array.isArray,x=b.isDictionary=function(e){return"object"==typeof e&&e.constructor===Object};b.nop=function(){return this},b.isSignalArray=function(e){return e instanceof b.SignalArray?!0:Array.isArray(e)&&e.__klass&&2===e.__klass.type?!0:!1},b.extend=function(e,t){function n(){this.constructor=e}t=t||S;for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i]);return n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype,e},b.constructorof=function(e,t){for(var n=e&&e.prototype;n;){if(n===t.prototype)return!0;n=Object.getPrototypeOf(n)}return!1},b.register=function(e,t){b.constructorof(t,S)?h[e]=t:f[e]=t},b.alias=function(e,t){h[t]?h[e]=h[t]:f[t]&&(f[e]=f[t])},b.getClass=function(e){return h[e]},b.pointer=function(e,t,n){return t=e.byteOffset+t*e.constructor.BYTES_PER_ELEMENT,"number"==typeof n?new e.constructor(e.buffer,t,n):new e.constructor(e.buffer,t)},b.nextTick=function(e){return c.nextTick(e),t},b.fixAR=function(e){e._.ar=!0,e._.aronly=!0},b.fixKR=function(e){e._.ar=!1,e._.kronly=!0},b.changeWithValue=function(){var e=this._,t=e.value*e.mul+e.add;isNaN(t)&&(t=0);for(var n=this.cells[0],i=0,r=n.length;r>i;++i)n[i]=t},b.changeWithValue.unremovable=!0,b.clone=function(e){var t=new e.constructor([]);return t._.ar=e._.ar,t._.mul=e._.mul,t._.add=e._.add,t._.bypassed=e._.bypassed,t},b.timer=function(){var e=function(e){return function(){-1===c.timers.indexOf(e)&&(c.timers.push(e),c.events.emit("addObject"),e._.emit("start"),b.buddies_start(e))}},t=function(e){return function(){var t=c.timers.indexOf(e);-1!==t&&(c.timers.splice(t,1),e._.emit("stop"),c.events.emit("removeObject"),b.buddies_stop(e))}};return function(n){var i=e(n),r=t(n);return n.nodeType=S.TIMER,n.start=function(){return c.nextTick(i),n},n.stop=function(){return c.nextTick(r),n},n}}(),b.listener=function(){var e=function(e){return function(){-1===c.listeners.indexOf(e)&&(c.listeners.push(e),c.events.emit("addObject"),e._.emit("listen"),b.buddies_start(e))}},t=function(e){return function(){var t=c.listeners.indexOf(e);-1!==t&&(c.listeners.splice(t,1),e._.emit("unlisten"),c.events.emit("removeObject"),b.buddies_stop(e))}};return function(n){var i=e(n),r=t(n);return n.nodeType=S.LISTENER,n.listen=function(){return arguments.length&&n.append.apply(n,arguments),n.nodes.length&&c.nextTick(i),n},n.unlisten=function(){return arguments.length&&n.remove.apply(n,arguments),n.nodes.length||c.nextTick(r),n},n}}(),b.make_onended=function(e,t){return function(){if(e.playbackState=i,"number"==typeof t)for(var n=e.cells[0],r=e.cells[1],s=e.cells[2],a=0,o=r.length;o>a;++a)n[0]=r[a]=s[a]=t;e._.emit("ended")}},b.inputSignalAR=function(e){var t,n,i,s,a,o,u=e.cells[0],l=e.cells[1],c=e.cells[2],h=e.nodes,f=h.length,p=u.length,d=e.tickID;if(2===e.numChannels){if(i=!0,0!==f){for(t=0;f>t;++t)if(h[t].playbackState===r){h[t].process(d),l.set(h[t].cells[1]),c.set(h[t].cells[2]),i=!1,++t;break}for(;f>t;++t)if(h[t].playbackState===r)for(h[t].process(d),a=h[t].cells[1],o=h[t].cells[2],n=p;n;)n-=8,l[n]+=a[n],c[n]+=o[n],l[n+1]+=a[n+1],c[n+1]+=o[n+1],l[n+2]+=a[n+2],c[n+2]+=o[n+2],l[n+3]+=a[n+3],c[n+3]+=o[n+3],l[n+4]+=a[n+4],c[n+4]+=o[n+4],l[n+5]+=a[n+5],c[n+5]+=o[n+5],l[n+6]+=a[n+6],c[n+6]+=o[n+6],l[n+7]+=a[n+7],c[n+7]+=o[n+7]}i&&(l.set(b.emptycell),c.set(b.emptycell))}else{if(i=!0,0!==f){for(t=0;f>t;++t)if(h[t].playbackState===r){h[t].process(d),u.set(h[t].cells[0]),i=!1,++t;break}for(;f>t;++t)if(h[t].playbackState===r)for(s=h[t].process(d).cells[0],n=p;n;)n-=8,u[n]+=s[n],u[n+1]+=s[n+1],u[n+2]+=s[n+2],u[n+3]+=s[n+3],u[n+4]+=s[n+4],u[n+5]+=s[n+5],u[n+6]+=s[n+6],u[n+7]+=s[n+7]}i&&u.set(b.emptycell)}},b.inputSignalKR=function(e){var t,n=e.nodes,i=n.length,s=e.tickID,a=0;for(t=0;i>t;++t)n[t].playbackState===r&&(a+=n[t].process(s).cells[0][0]);return a},b.outputSignalAR=function(e){var t,n=e.cells[0],i=e.cells[1],r=e.cells[2],s=e._.mul,a=e._.add;if(2===e.numChannels)for(t=n.length;t;)t-=8,i[t]=i[t]*s+a,r[t]=r[t]*s+a,i[t+1]=i[t+1]*s+a,r[t+1]=r[t+1]*s+a,i[t+2]=i[t+2]*s+a,r[t+2]=r[t+2]*s+a,i[t+3]=i[t+3]*s+a,r[t+3]=r[t+3]*s+a,i[t+4]=i[t+4]*s+a,r[t+4]=r[t+4]*s+a,i[t+5]=i[t+5]*s+a,r[t+5]=r[t+5]*s+a,i[t+6]=i[t+6]*s+a,r[t+6]=r[t+6]*s+a,i[t+7]=i[t+7]*s+a,r[t+7]=r[t+7]*s+a,n[t]=.5*(i[t]+r[t]),n[t+1]=.5*(i[t+1]+r[t+1]),n[t+2]=.5*(i[t+2]+r[t+2]),n[t+3]=.5*(i[t+3]+r[t+3]),n[t+4]=.5*(i[t+4]+r[t+4]),n[t+5]=.5*(i[t+5]+r[t+5]),n[t+6]=.5*(i[t+6]+r[t+6]),n[t+7]=.5*(i[t+7]+r[t+7]);else if(1!==s||0!==a)for(t=n.length;t;)t-=8,n[t]=n[t]*s+a,n[t+1]=n[t+1]*s+a,n[t+2]=n[t+2]*s+a,n[t+3]=n[t+3]*s+a,n[t+4]=n[t+4]*s+a,n[t+5]=n[t+5]*s+a,n[t+6]=n[t+6]*s+a,n[t+7]=n[t+7]*s+a},b.outputSignalKR=function(e){var t,n=e.cells[0],i=e.cells[1],r=e.cells[2],s=e._.mul,a=e._.add,o=n[0]*s+a;if(2===e.numChannels)for(t=n.length;t;)t-=8,n[t]=n[t+1]=n[t+2]=n[t+3]=n[t+4]=n[t+5]=n[t+6]=n[t+7]=i[t]=i[t+1]=i[t+2]=i[t+3]=i[t+4]=i[t+5]=i[t+6]=i[t+7]=r[t]=r[t+1]=r[t+2]=r[t+3]=r[t+4]=r[t+5]=r[t+6]=r[t+7]=o;else for(t=n.length;t;)t-=8,n[t]=n[t+1]=n[t+2]=n[t+3]=n[t+4]=n[t+5]=n[t+6]=n[t+7]=o},b.buddies_start=function(e){var t,n,i,r=e._.buddies;for(n=0,i=r.length;i>n;++n)switch(t=r[n],t.nodeType){case S.DSP:t.play();break;case S.TIMER:t.start();break;case S.LISTENER:t.listen()}},b.buddies_stop=function(e){var t,n,i,r=e._.buddies;for(n=0,i=r.length;i>n;++n)switch(t=r[n],t.nodeType){case S.DSP:t.pause();break;case S.TIMER:t.stop();break;case S.LISTENER:t.unlisten()}},b.fix_iOS6_1_problem=function(e){c.fix_iOS6_1_problem(e)};var w=t.modules={},k=w.EventEmitter=function(){function t(e){this.context=e,this.events={}}var i=t.prototype;return i.emit=function(t){var i=this.events[t];if(!i)return!1;var r;if("function"==typeof i){switch(arguments.length){case 1:i.call(this.context);break;case 2:i.call(this.context,arguments[1]);break;case 3:i.call(this.context,arguments[1],arguments[2]);break;default:r=n.call(arguments,1),i.apply(this.context,r)}return!0}if(_(i)){r=n.call(arguments,1);for(var s=i.slice(),a=0,o=s.length;o>a;++a)s[a]instanceof S?s[a].bang.apply(s[a],r):s[a].apply(this.context,r);return!0}return i instanceof S?(r=n.call(arguments,1),i.bang.apply(i,r),e):!1},i.on=function(e,t){if("function"!=typeof t&&!(t instanceof S))throw Error("addListener takes instances of Function or timbre.Object");var n=this.events;return n[e]?_(n[e])?n[e].push(t):n[e]=[n[e],t]:n[e]=t,this},i.once=function(e,t){var n,i=this;if("function"==typeof t)n=function(){i.off(e,n),t.apply(i.context,arguments)};else{if(!(t instanceof S))throw Error("once takes instances of Function or timbre.Object");n=function(){i.off(e,n),t.bang.apply(t,arguments)}}return n.listener=t,i.on(e,n),this},i.off=function(e,t){if("function"!=typeof t&&!(t instanceof S))throw Error("removeListener takes instances of Function or timbre.Object");var n=this.events;if(!n[e])return this;var i=n[e];if(_(i)){for(var r=-1,s=0,a=i.length;a>s;++s)if(i[s]===t||i[s].listener&&i[s].listener===t){r=s;break}if(0>r)return this;i.splice(r,1),0===i.length&&(n[e]=null)}else(i===t||i.listener&&i.listener===t)&&(n[e]=null);return this},i.removeAllListeners=function(e){var t=this.events,n=!1,i=t[e];if(_(i))for(var r=i.length;r--;){var s=i[r];s.unremovable?n=!0:this.off(e,s)}else i&&(i.unremovable?n=!0:this.off(e,i));return n||(t[e]=null),this},i.listeners=function(e){var t,n=this.events;if(!n[e])return[];if(n=n[e],!_(n))return n.unremovable?[]:[n];n=n.slice(),t=[];for(var i=0,r=n.length;r>i;++i)n[i].unremovable||t.push(n[i]);return t},t}(),T=w.Deferred=function(){function e(e){this.context=e||this,this._state="pending",this._doneList=[],this._failList=[],this._promise=new t(this)}function t(e){this.context=e.context,this.then=e.then,this.done=function(){return e.done.apply(e,arguments),this},this.fail=function(){return e.fail.apply(e,arguments),this},this.pipe=function(){return e.pipe.apply(e,arguments)},this.always=function(){return e.always.apply(e,arguments),this},this.promise=function(){return this},this.isResolved=function(){return e.isResolved()},this.isRejected=function(){return e.isRejected()}}var i=e.prototype,r=function(e,t,n,i){if("pending"===this._state){this._state=e;for(var r=0,s=t.length;s>r;++r)t[r].apply(n,i);this._doneList=this._failList=null}},s=function(e){return e&&"function"==typeof e.promise};return i.resolve=function(){var e=n.call(arguments,0);return r.call(this,"resolved",this._doneList,this.context||this,e),this},i.resolveWith=function(e){var t=n.call(arguments,1);return r.call(this,"resolved",this._doneList,e,t),this},i.reject=function(){var e=n.call(arguments,0);return r.call(this,"rejected",this._failList,this.context||this,e),this
},i.rejectWith=function(e){var t=n.call(arguments,1);return r.call(this,"rejected",this._failList,e,t),this},i.promise=function(){return this._promise},i.done=function(){for(var e=n.call(arguments),t="resolved"===this._state,i="pending"===this._state,r=this._doneList,s=0,a=e.length;a>s;++s)"function"==typeof e[s]&&(t?e[s]():i&&r.push(e[s]));return this},i.fail=function(){for(var e=n.call(arguments),t="rejected"===this._state,i="pending"===this._state,r=this._failList,s=0,a=e.length;a>s;++s)"function"==typeof e[s]&&(t?e[s]():i&&r.push(e[s]));return this},i.always=function(){return this.done.apply(this,arguments),this.fail.apply(this,arguments),this},i.then=function(e,t){return this.done(e).fail(t)},i.pipe=function(t,i){var r=this,a=new e(this.context);return this.done(function(){var e=t.apply(r.context,arguments);s(e)?e.then(function(){var t=n.call(arguments);a.resolveWith.apply(a,[e].concat(t))}):a.resolveWith(r,e)}),this.fail(function(){if("function"==typeof i){var e=i.apply(r.context,arguments);s(e)&&e.fail(function(){var t=n.call(arguments);a.rejectWith.apply(a,[e].concat(t))})}else a.reject.apply(a,arguments)}),a.promise()},i.isResolved=function(){return"resolved"===this._state},i.isRejected=function(){return"rejected"===this._state},i.state=function(){return this._state},e.when=function(t){var i=0,r=n.call(arguments),a=r.length,o=a;1!==a||s(t)||(o=0);var u=1===o?t:new e,l=function(e,t){return function(i){t[e]=arguments.length>1?n.call(arguments):i,--o||u.resolve.apply(u,t)}};if(a>1)for(var c=Array(a),h=function(){u.reject()};a>i;++i)r[i]&&s(r[i])?r[i].promise().done(l(i,c)).fail(h):(c[i]=r[i],--o);return o||u.resolve.apply(u,r),u.promise()},e}(),S=t.Object=function(){function i(e,n){this._={};var s=this._.events=new k(this);if(this._.emit=function(){return s.emit.apply(s,arguments)},x(n[0])){var a=n.shift(),o=a["in"];this.once("init",function(){this.set(a),o&&(_(o)?this.append.apply(this,o):o instanceof i&&this.append(o))})}switch(this.tickID=-1,this.nodes=n.map(t),this.cells=[],this.numChannels=e,e){case 0:this.L=this.R=new A(null),this.cells[0]=this.cells[1]=this.cells[2]=this.L.cell;break;case 1:this.L=this.R=new A(this),this.cells[0]=this.cells[1]=this.cells[2]=this.L.cell;break;case 2:this.L=new A(this),this.R=new A(this),this.cells[0]=new b.SignalArray(c.cellsize),this.cells[1]=this.L.cell,this.cells[2]=this.R.cell}this.playbackState=r,this.nodeType=i.DSP,this._.ar=!0,this._.mul=1,this._.add=0,this._.dac=null,this._.bypassed=!1,this._.meta={},this._.samplerate=c.samplerate,this._.cellsize=c.cellsize,this._.buddies=[]}i.DSP=1,i.TIMER=2,i.LISTENER=3;var s=i.prototype;return Object.defineProperties(s,{isAr:{get:function(){return this._.ar}},isKr:{get:function(){return!this._.ar}},isBypassed:{get:function(){return this._.bypassed}},isEnded:{get:function(){return!(1&this.playbackState)}},mul:{set:function(e){"number"==typeof e&&(this._.mul=e,this._.emit("setMul",e))},get:function(){return this._.mul}},add:{set:function(e){"number"==typeof e&&(this._.add=e,this._.emit("setAdd",e))},get:function(){return this._.add}},buddies:{set:function(e){_(e)||(e=[e]),this._.buddies=e.filter(function(e){return e instanceof i})},get:function(){return this._.buddies}}}),s.toString=function(){return this.constructor.name},s.valueOf=function(){return c.tickID!==this.tickID&&this.process(c.tickID),this.cells[0][0]},s.append=function(){if(arguments.length>0){var e=n.call(arguments).map(t);this.nodes=this.nodes.concat(e),this._.emit("append",e)}return this},s.appendTo=function(e){return e.append(this),this},s.remove=function(){if(arguments.length>0){for(var e,t=this.nodes,n=[],i=0,r=arguments.length;r>i;++i)-1!==(e=t.indexOf(arguments[i]))&&(n.push(t[e]),t.splice(e,1));n.length>0&&this._.emit("remove",n)}return this},s.removeFrom=function(e){return e.remove(this),this},s.removeAll=function(){var e=this.nodes.slice();return this.nodes=[],e.length>0&&this._.emit("remove",e),this},s.removeAtIndex=function(e){var t=this.nodes[e];return t&&(this.nodes.splice(e,1),this._.emit("remove",[t])),this},s.postMessage=function(e){return this._.emit("message",e),this},s.to=function(e){if(e instanceof i)e.append(this);else{var t=n.call(arguments);x(t[1])?t.splice(2,0,this):t.splice(1,0,this),e=g.apply(null,t)}return e},s.splice=function(e,t,n){var r;return t?t instanceof i&&(r=t.nodes.indexOf(n),-1!==r&&t.nodes.splice(r,1),e instanceof i?(e.nodes.push(this),t.nodes.push(e)):t.nodes.push(this)):this._.dac&&(e instanceof i?n instanceof i?n._.dac&&(n._.dac._.node=e,e._.dac=n._.dac,n._.dac=null,e.nodes.push(this)):this._.dac&&(this._.dac._.node=e,e._.dac=this._.dac,this._.dac=null,e.nodes.push(this)):n instanceof i&&n._.dac&&(n._.dac._.node=this,this._.dac=n._.dac,n._.dac=null)),this},s.on=s.addListener=function(e,t){return this._.events.on(e,t),this},s.once=function(e,t){return this._.events.once(e,t),this},s.off=s.removeListener=function(e,t){return this._.events.off(e,t),this},s.removeAllListeners=function(e){return this._.events.removeAllListeners(e),this},s.listeners=function(e){return this._.events.listeners(e)},s.set=function(e,t){var n,i,r=this._.meta;switch(typeof e){case"string":switch(r[e]){case"property":this[e]=t;break;case"function":this[e](t);break;default:for(n=this;null!==n;)i=Object.getOwnPropertyDescriptor(n,e),i&&("function"==typeof i.value?(r[e]="function",this[e](t)):(i.get||i.set)&&(r[e]="property",this[e]=t)),n=Object.getPrototypeOf(n)}break;case"object":for(n in e)this.set(n,e[n])}return this},s.get=function(t){return"property"===this._.meta[t]?this[t]:e},s.bang=function(){return this._.emit.apply(this,["bang"].concat(n.call(arguments))),this},s.process=b.nop,s.bypass=function(){return this._.bypassed=0===arguments.length?!0:!!arguments[0],this},s.play=function(){var e=this._.dac;return null===e&&(e=this._.dac=new L(this)),e.play()&&this._.emit.apply(this,["play"].concat(n.call(arguments))),b.buddies_start(this),this},s.pause=function(){var e=this._.dac;return e&&e.playbackState===r&&(e.pause(),this._.dac=null,this._.emit("pause")),b.buddies_stop(this),this},s.start=s.stop=s.listen=s.unlisten=function(){return this},s.ar=function(){return(0===arguments.length?0:!arguments[0])?this.kr(!0):this._.kronly||(this._.ar=!0,this._.emit("ar",!0)),this},s.kr=function(){return(0===arguments.length?0:!arguments[0])?this.ar(!0):this._.aronly||(this._.ar=!1,this._.emit("ar",!1)),this},s.plot="browser"===p?function(t){var n=this._,i=t.target;if(!i)return this;var r,s=t.width||i.width||320,a=t.height||i.height||240,o=(t.x||0)+.5,u=t.y||0,l=i.getContext("2d");r=t.foreground!==e?t.foreground:n.plotForeground||"rgb(  0, 128, 255)";var c;c=t.background!==e?t.background:n.plotBackground||"rgb(255, 255, 255)";var h,f,p,d,m,v=t.lineWidth||n.plotLineWidth||1,g=!!n.plotCyclic,y=n.plotData||this.cells[0],b=t.range||n.plotRange||[-1.2,1.2],_=b[0],x=a/(b[1]-_),w=s/y.length,k=y.length;if(l.save(),l.rect(o,u,s,a),null!==c&&(l.fillStyle=c,l.fillRect(o,u,s,a)),n.plotBefore&&n.plotBefore.call(this,l,o,u,s,a),n.plotBarStyle)for(l.fillStyle=r,h=0,m=0;k>m;++m)p=(y[m]-_)*x,f=a-p,l.fillRect(h+o,f+u,w,p),h+=w;else{for(l.strokeStyle=r,l.lineWidth=v,l.beginPath(),h=0,d=a-(y[0]-_)*x,l.moveTo(h+o,d+u),m=1;k>m;++m)h+=w,f=a-(y[m]-_)*x,l.lineTo(h+o,f+u);g?l.lineTo(h+w+o,d+u):l.lineTo(h+w+o,f+u),l.stroke()}n.plotAfter&&n.plotAfter.call(this,l,o,u,s,a);var T=t.border||n.plotBorder;return T&&(l.strokeStyle="string"==typeof T?T:"#000",l.lineWidth=1,l.strokeRect(o,u,s,a)),l.restore(),this}:b.nop,i}(),A=t.ChannelObject=function(){function e(e){t.Object.call(this,-1,[]),b.fixAR(this),this._.parent=e,this.cell=new b.SignalArray(c.cellsize),this.L=this.R=this,this.cells[0]=this.cells[1]=this.cells[2]=this.cell,this.numChannels=1}return b.extend(e),e.prototype.process=function(e){return this.tickID!==e&&(this.tickID=e,this._.parent&&this._.parent.process(e)),this},e}(),I=function(){function e(e){S.call(this,2,e)}return b.extend(e),e.prototype.process=function(e){var t=this._;return this.tickID!==e&&(this.tickID=e,t.ar?(b.inputSignalAR(this),b.outputSignalAR(this)):(this.cells[0][0]=b.inputSignalKR(this),b.outputSignalKR(this))),this},b.register("+",e),e}(),D=function(){function e(e){if(S.call(this,1,[]),b.fixKR(this),this.value=e[0],x(e[1])){var t=e[1];this.once("init",function(){this.set(t)})}this.on("setAdd",b.changeWithValue),this.on("setMul",b.changeWithValue)}b.extend(e);var t=e.prototype;return Object.defineProperties(t,{value:{set:function(e){"number"==typeof e&&(this._.value=isNaN(e)?0:e,b.changeWithValue.call(this))},get:function(){return this._.value}}}),e}(),R=function(){function e(e){if(S.call(this,1,[]),b.fixKR(this),this.value=e[0],x(e[1])){var t=e[1];this.once("init",function(){this.set(t)})}this.on("setAdd",b.changeWithValue),this.on("setMul",b.changeWithValue)}b.extend(e);var t=e.prototype;return Object.defineProperties(t,{value:{set:function(e){this._.value=e?1:0,b.changeWithValue.call(this)},get:function(){return!!this._.value}}}),e}(),C=function(){function e(e){if(S.call(this,1,[]),b.fixKR(this),this.func=e[0],this._.value=0,x(e[1])){var t=e[1];this.once("init",function(){this.set(t)})}this.on("setAdd",b.changeWithValue),this.on("setMul",b.changeWithValue)}b.extend(e);var t=e.prototype;return Object.defineProperties(t,{func:{set:function(e){"function"==typeof e&&(this._.func=e)},get:function(){return this._.func}},args:{set:function(e){this._.args=_(e)?e:[e]},get:function(){return this._.args}}}),t.bang=function(){var e=this._,t=n.call(arguments).concat(e.args),i=e.func.apply(this,t);return"number"==typeof i&&(e.value=i,b.changeWithValue.call(this)),this._.emit("bang"),this},e}(),O=function(){function e(e){S.call(this,1,[]);var t,n;for(t=0,n=e[0].length;n>t;++t)this.append(e[0][t]);if(x(e[1])){var i=e[1];this.once("init",function(){this.set(i)})}}b.extend(e);var t=e.prototype;return Object.defineProperties(t,{}),t.bang=function(){var e,t,i=["bang"].concat(n.call(arguments)),r=this.nodes;for(e=0,t=r.length;t>e;++e)r[e].bang.apply(r[e],i);return this},t.postMessage=function(e){var t,n,i=this.nodes;for(t=0,n=i.length;n>t;++t)i[t].postMessage(e);return this},t.process=function(e){var t=this._;return this.tickID!==e&&(this.tickID=e,t.ar?(b.inputSignalAR(this),b.outputSignalAR(this)):(this.cells[0][0]=b.inputSignalKR(this),b.outputSignalKR(this))),this},e}(),j=function(){function e(e){if(S.call(this,1,[]),b.fixKR(this),x(e[1])){var t=e[1];this.once("init",function(){this.set(t)})}}b.extend(e);var t=e.prototype;return Object.defineProperties(t,{}),e}(),L=function(){function e(e){S.call(this,2,[]),this.playbackState=i;var r=this._;r.node=e,r.onplay=t(this),r.onpause=n(this)}b.extend(e);var t=function(e){return function(){-1===c.inlets.indexOf(e)&&(c.inlets.push(e),c.events.emit("addObject"),e.playbackState=r,e._.emit("play"))}},n=function(e){return function(){var t=c.inlets.indexOf(e);-1!==t&&(c.inlets.splice(t,1),e.playbackState=i,e._.emit("pause"),c.events.emit("removeObject"))}},s=e.prototype;return s.play=function(){return c.nextTick(this._.onplay),-1===c.inlets.indexOf(this)},s.pause=function(){c.nextTick(this._.onpause)},s.process=function(e){var t=this._.node;1&t.playbackState?(t.process(e),this.cells[1].set(t.cells[1]),this.cells[2].set(t.cells[2])):(this.cells[1].set(b.emptycell),this.cells[2].set(b.emptycell))},e}(),M=function(){function t(){this.context=this,this.tickID=0,this.impl=null,this.amp=.8,this.status=i,this.samplerate=44100,this.channels=2,this.cellsize=64,this.streammsec=20,this.streamsize=0,this.currentTime=0,this.nextTicks=[],this.inlets=[],this.timers=[],this.listeners=[],this.deferred=null,this.recStart=0,this.recBuffers=null,this.delayProcess=s(this),this.events=null,b.currentTimeIncr=1e3*this.cellsize/this.samplerate,b.emptycell=new b.SignalArray(this.cellsize),this.reset(!0)}var s=function(e){return function(){e.recStart=Date.now(),e.process()}},l=t.prototype;l.bind=function(e,t){if("function"==typeof e){var n=new e(this,t);this.impl=n,this.impl.defaultSamplerate&&(this.samplerate=this.impl.defaultSamplerate)}return this},l.setup=function(t){return"object"==typeof t&&(-1!==o.indexOf(t.samplerate)&&(this.samplerate=t.samplerate<=this.impl.maxSamplerate?t.samplerate:this.impl.maxSamplerate),-1!==u.indexOf(t.cellsize)&&(this.cellsize=t.cellsize),"undefined"!=typeof Float64Array&&t.f64!==e&&(m=!!t.f64,b.SignalArray=m?Float64Array:Float32Array)),b.currentTimeIncr=1e3*this.cellsize/this.samplerate,b.emptycell=new b.SignalArray(this.cellsize),this},l.getAdjustSamples=function(e){var t,n;return e=e||this.samplerate,t=this.streammsec/1e3*e,n=Math.ceil(Math.log(t)*Math.LOG2E),n=8>n?8:n>14?14:n,1<<n},l.play=function(){return this.status===i&&(this.status=r,this.streamsize=this.getAdjustSamples(),this.strmL=new b.SignalArray(this.streamsize),this.strmR=new b.SignalArray(this.streamsize),this.impl.play(),this.events.emit("play")),this},l.pause=function(){return this.status===r&&(this.status=i,this.impl.pause(),this.events.emit("pause")),this},l.reset=function(e){return e&&(this.events=new k(this).on("addObject",function(){this.status===i&&this.play()}).on("removeObject",function(){this.status===r&&0===this.inlets.length+this.timers.length+this.listeners.length&&this.pause()})),this.currentTime=0,this.nextTicks=[],this.inlets=[],this.timers=[],this.listeners=[],this},l.process=function(){var e,t,n,i,r,s,o,u,l=this.tickID,c=this.strmL,h=this.strmR,f=this.amp,p=this.streamsize,d=0,m=this.cellsize,v=this.streamsize/this.cellsize,g=this.timers,y=this.inlets,_=this.listeners,x=b.currentTimeIncr;for(i=0;p>i;++i)c[i]=h[i]=0;for(;v--;){for(++l,r=0,s=g.length;s>r;++r)1&g[r].playbackState&&g[r].process(l);for(r=0,s=y.length;s>r;++r)if(e=y[r],e.process(l),1&e.playbackState)for(t=e.cells[1],n=e.cells[2],o=0,i=d;m>o;++o,++i)c[i]+=t[o],h[i]+=n[o];for(d+=m,r=0,s=_.length;s>r;++r)1&_[r].playbackState&&_[r].process(l);for(this.currentTime+=x,u=this.nextTicks.splice(0),r=0,s=u.length;s>r;++r)u[r]()}for(i=0;p>i;++i)e=c[i]*f,-1>e?e=-1:e>1&&(e=1),c[i]=e,e=h[i]*f,-1>e?e=-1:e>1&&(e=1),h[i]=e;this.tickID=l;var w=this.currentTime;if(this.status===a){if(2===this.recCh)this.recBuffers.push(new b.SignalArray(c)),this.recBuffers.push(new b.SignalArray(h));else{var k=new b.SignalArray(c.length);for(i=0,p=k.length;p>i;++i)k[i]=.5*(c[i]+h[i]);this.recBuffers.push(k)}if(w>=this.maxDuration)this.deferred.sub.reject();else if(w>=this.recDuration)this.deferred.sub.resolve();else{var T=Date.now();T-this.recStart>20?setTimeout(this.delayProcess,10):this.process()}}},l.nextTick=function(e){this.status===i?e():this.nextTicks.push(e)},l.rec=function(){b.fix_iOS6_1_problem(!0);var e=new T(this);if(this.deferred)return e.reject().promise();if(this.status!==i)return e.reject().promise();var t=0,r=arguments,s=x(r[t])?r[t++]:{},o=r[t];if("function"!=typeof o)return e.reject().promise();this.deferred=e,this.status=a,this.reset();var u=new g("+"),l=new T(this),h={done:function(){l.resolve.apply(l,n.call(arguments))},send:function(){u.append.apply(u,arguments)}},f=this;return l.then(c,function(){b.fix_iOS6_1_problem(!1),c.call(f,!0)}),this.deferred.sub=l,this.savedSamplerate=this.samplerate,this.samplerate=s.samplerate||this.samplerate,this.recDuration=s.recDuration||1/0,this.maxDuration=s.maxDuration||6e5,this.recCh=s.ch||1,2!==this.recCh&&(this.recCh=1),this.recBuffers=[],this.streamsize=this.getAdjustSamples(),this.strmL=new b.SignalArray(this.streamsize),this.strmR=new b.SignalArray(this.streamsize),this.inlets.push(u),o(h),setTimeout(this.delayProcess,10),e.promise()};var c=function(){this.status=i,this.reset();var e,t=this.recBuffers,n=this.samplerate,r=this.streamsize;this.samplerate=this.savedSamplerate,e=1/0!==this.recDuration?0|.001*this.recDuration*n:(t.length>>this.recCh-1)*r;var s,a,o=0|e/r,u=0,l=0,c=e;if(2===this.recCh){var h=new b.SignalArray(e),f=new b.SignalArray(e),p=new b.SignalArray(e);for(a=0;o>a;++a)if(h.set(t[u++],l),f.set(t[u++],l),l+=r,c-=r,c>0&&r>c){h.set(t[u++].subarray(0,c),l),f.set(t[u++].subarray(0,c),l);break}for(a=0,o=e;o>a;++a)p[a]=.5*(h[a]+f[a]);s={samplerate:n,channels:2,buffer:[p,h,f]}}else{var d=new b.SignalArray(e);for(a=0;o>a;++a)if(d.set(t[u++],l),l+=r,c-=r,c>0&&r>c){d.set(t[u++].subarray(0,c),l);break}s={samplerate:n,channels:1,buffer:[d]}}var m=[].concat.apply([s],arguments);this.deferred.resolve.apply(this.deferred,m),this.deferred=null};return l.on=function(e,t){this.events.on(e,t)},l.once=function(e,t){this.events.once(e,t)},l.off=function(e,t){this.events.off(e,t)},l.removeAllListeners=function(e){this.events.removeListeners(e)},l.listeners=function(e){return this.events.listeners(e)},l.fix_iOS6_1_problem=function(e){this.impl.fix_iOS6_1_problem&&this.impl.fix_iOS6_1_problem(e)},t}(),N=null,E=null;"undefined"!=typeof window&&(E=window.AudioContext||window.webkitAudioContext),N=E!==e?function(e){var t,n=new E;b._audioContext=n,this.maxSamplerate=n.sampleRate,this.defaultSamplerate=n.sampleRate,this.env="webkit";var i=navigator.userAgent;if(i.match(/linux/i)?e.streammsec*=8:i.match(/win(dows)?\s*(nt 5\.1|xp)/i)&&(e.streammsec*=4),this.play=function(){var i,r,s,a=e.getAdjustSamples(n.sampleRate),o=e.streamsize;e.samplerate===n.sampleRate?i=function(t){var n=t.outputBuffer;e.process(),n.getChannelData(0).set(e.strmL),n.getChannelData(1).set(e.strmR)}:2*e.samplerate===n.sampleRate?i=function(t){var n,i,r=e.strmL,s=e.strmR,a=t.outputBuffer,o=a.getChannelData(0),u=a.getChannelData(1),l=a.length;for(e.process(),n=i=0;l>n;n+=2,++i)o[n]=o[n+1]=r[i],u[n]=u[n+1]=s[i]}:(r=o,s=e.samplerate/n.sampleRate,i=function(t){var n,i=e.strmL,a=e.strmR,u=t.outputBuffer,l=u.getChannelData(0),c=u.getChannelData(1),h=u.length;for(n=0;h>n;++n)r>=o&&(e.process(),r-=o),l[n]=i[0|r],c[n]=a[0|r],r+=s}),t=n.createScriptProcessor(a,2,e.channels),t.onaudioprocess=i,t.connect(n.destination)},this.pause=function(){t.disconnect()},d){var r=0,s=n.createBufferSource();this.fix_iOS6_1_problem=function(e){r+=e?1:-1,1===r?(s.noteOn(0),s.connect(n.destination)):0===r&&s.disconnect()}}}:function(){this.maxSamplerate=48e3,this.defaultSamplerate=44100,this.env="nop",this.play=function(){},this.pause=function(){}},c=(new M).bind(N);var P=t;"node"===p?module.exports=global.timbre=P:"browser"===p&&(P.noConflict=function(){var e=window.timbre,t=window.T;return function(n){return window.T===P&&(window.T=t),n&&window.timbre===P&&(window.timbre=e),P}}(),window.timbre=window.T=P),function(){function e(e){try{return t.plugins&&t.mimeTypes&&t.mimeTypes.length?t.plugins["Shockwave Flash"].description.match(/([0-9]+)/)[e]:new ActiveXObject("ShockwaveFlash.ShockwaveFlash").GetVariable("$version").match(/([0-9]+)/)[e]}catch(n){return-1}}if("nop"===c.impl.env&&"browser"===p&&!d){var t=navigator;if(!(10>e(0))){var n,i="TimbreFlashPlayerDiv",r=function(){var e=document.getElementsByTagName("script");if(e&&e.length)for(var t,n=0,i=e.length;i>n;++n)if(t=/^(.*\/)timbre(?:\.dev)?\.js$/i.exec(e[n].src))return t[1]+"timbre.swf"}();window.timbrejs_flashfallback_init=function(){function e(e){var t=0;this.maxSamplerate=44100,this.defaultSamplerate=44100,this.env="flash",this.play=function(){var i,r=Array(e.streamsize*e.channels),s=e.streammsec,a=0,o=1e3*(e.streamsize/e.samplerate),u=Date.now();i=function(){if(!(a>Date.now()-u)){var t=e.strmL,i=e.strmR,s=r.length,l=t.length;for(e.process();l--;)r[--s]=0|32768*i[l],r[--s]=0|32768*t[l];n.writeAudio(r.join(" ")),a+=o}},n.setup?(n.setup(e.channels,e.samplerate),t=setInterval(i,s)):void 0},this.pause=function(){0!==t&&(n.cancel(),clearInterval(t),t=0)}}c.bind(e),delete window.timbrejs_flashfallback_init};var s,a,o=r,u=o+"?"+ +new Date,l="TimbreFlashPlayer",h=document.createElement("div");h.id=i,h.style.display="inline",h.width=h.height=1,t.plugins&&t.mimeTypes&&t.mimeTypes.length?(s=document.createElement("object"),s.id=l,s.classid="clsid:D27CDB6E-AE6D-11cf-96B8-444553540000",s.width=s.height=1,s.setAttribute("data",u),s.setAttribute("type","application/x-shockwave-flash"),a=document.createElement("param"),a.setAttribute("name","allowScriptAccess"),a.setAttribute("value","always"),s.appendChild(a),h.appendChild(s)):h.innerHTML='<object id="'+l+'" classid="clsid:D27CDB6E-AE6D-11cf-96B8-444553540000" width="1" height="1"><param name="movie" value="'+u+'" /><param name="bgcolor" value="#FFFFFF" /><param name="quality" value="high" /><param name="allowScriptAccess" value="always" /></object>',window.addEventListener("load",function(){document.body.appendChild(h),n=document[l]})}}}()}(),function(e){"use strict";function t(e){this.samplerate=e,this.frequency=340,this.Q=1,this.gain=0,this.x1L=this.x2L=this.y1L=this.y2L=0,this.x1R=this.x2R=this.y1R=this.y2R=0,this.b0=this.b1=this.b2=this.a1=this.a2=0,this.setType("lpf")}var n=t.prototype;n.process=function(e,t){var n,i,r,s,a,o,u=this.x1L,l=this.x2L,c=this.y1L,h=this.y2L,f=this.x1R,p=this.x2R,d=this.y1R,m=this.y2R,v=this.b0,g=this.b1,y=this.b2,b=this.a1,_=this.a2;for(a=0,o=e.length;o>a;++a)n=e[a],r=v*n+g*u+y*l-b*c-_*h,l=u,u=n,h=c,c=r,i=t[a],s=v*i+g*f+y*p-b*d-_*m,p=f,f=i,m=d,d=s,e[a]=r,t[a]=s;this.x1L=u,this.x2L=l,this.y1L=c,this.y2L=h,this.x1R=f,this.x2R=p,this.y1R=d,this.y2R=m},n.setType=function(e){var t;(t=i[e])&&(this.type=e,t.call(this,this.frequency,this.Q,this.gain))},n.setParams=function(e,t,n){this.frequency=e,this.Q=t,this.gain=n;var r=i[this.type];return r&&r.call(this,e,t,n),this};var i={lowpass:function(e,t){if(e/=.5*this.samplerate,e>=1)this.b0=1,this.b1=this.b2=this.a1=this.a2=0;else if(0>=e)this.b0=this.b1=this.b2=this.a1=this.a2=0;else{t=0>t?0:t;var n=Math.pow(10,.05*t),i=Math.sqrt(.5*(4-Math.sqrt(16-16/(n*n)))),r=Math.PI*e,s=.5*i*Math.sin(r),a=.5*(1-s)/(1+s),o=(.5+a)*Math.cos(r),u=.25*(.5+a-o);this.b0=2*u,this.b1=4*u,this.b2=this.b0,this.a1=2*-o,this.a2=2*a}},highpass:function(e,t){if(e/=.5*this.samplerate,e>=1)this.b0=this.b1=this.b2=this.a1=this.a2=0;else if(0>=e)this.b0=1,this.b1=this.b2=this.a1=this.a2=0;else{t=0>t?0:t;var n=Math.pow(10,.05*t),i=Math.sqrt((4-Math.sqrt(16-16/(n*n)))/2),r=Math.PI*e,s=.5*i*Math.sin(r),a=.5*(1-s)/(1+s),o=(.5+a)*Math.cos(r),u=.25*(.5+a+o);this.b0=2*u,this.b1=-4*u,this.b2=this.b0,this.a1=2*-o,this.a2=2*a}},bandpass:function(e,t){if(e/=.5*this.samplerate,e>0&&1>e)if(t>0){var n=Math.PI*e,i=Math.sin(n)/(2*t),r=Math.cos(n),s=1/(1+i);this.b0=i*s,this.b1=0,this.b2=-i*s,this.a1=-2*r*s,this.a2=(1-i)*s}else this.b0=this.b1=this.b2=this.a1=this.a2=0;else this.b0=this.b1=this.b2=this.a1=this.a2=0},lowshelf:function(e,t,n){e/=.5*this.samplerate;var i=Math.pow(10,n/40);if(e>=1)this.b0=i*i,this.b1=this.b2=this.a1=this.a2=0;else if(0>=e)this.b0=1,this.b1=this.b2=this.a1=this.a2=0;else{var r=Math.PI*e,s=1,a=.5*Math.sin(r)*Math.sqrt((i+1/i)*(1/s-1)+2),o=Math.cos(r),u=2*Math.sqrt(i)*a,l=i+1,c=i-1,h=1/(l+c*o+u);this.b0=i*(l-c*o+u)*h,this.b1=2*i*(c-l*o)*h,this.b2=i*(l-c*o-u)*h,this.a1=-2*(c+l*o)*h,this.a2=(l+c*o-u)*h}},highshelf:function(e,t,n){e/=.5*this.samplerate;var i=Math.pow(10,n/40);if(e>=1)this.b0=1,this.b1=this.b2=this.a1=this.a2=0;else if(0>=e)this.b0=i*i,this.b1=this.b2=this.a1=this.a2=0;else{var r=Math.PI*e,s=1,a=.5*Math.sin(r)*Math.sqrt((i+1/i)*(1/s-1)+2),o=Math.cos(r),u=2*Math.sqrt(i)*a,l=i+1,c=i-1,h=1/(l-c*o+u);this.b0=i*(l+c*o+u)*h,this.b1=-2*i*(c+l*o)*h,this.b2=i*(l+c*o-u)*h,this.a1=2*(c-l*o)*h,this.a2=(l-c*o-u)*h}},peaking:function(e,t,n){if(e/=.5*this.samplerate,e>0&&1>e){var i=Math.pow(10,n/40);if(t>0){var r=Math.PI*e,s=Math.sin(r)/(2*t),a=Math.cos(r),o=1/(1+s/i);this.b0=(1+s*i)*o,this.b1=-2*a*o,this.b2=(1-s*i)*o,this.a1=this.b1,this.a2=(1-s/i)*o}else this.b0=i*i,this.b1=this.b2=this.a1=this.a2=0}else this.b0=1,this.b1=this.b2=this.a1=this.a2=0},notch:function(e,t){if(e/=.5*this.samplerate,e>0&&1>e)if(t>0){var n=Math.PI*e,i=Math.sin(n)/(2*t),r=Math.cos(n),s=1/(1+i);this.b0=s,this.b1=-2*r*s,this.b2=s,this.a1=this.b1,this.a2=(1-i)*s}else this.b0=this.b1=this.b2=this.a1=this.a2=0;else this.b0=1,this.b1=this.b2=this.a1=this.a2=0},allpass:function(e,t){if(e/=.5*this.samplerate,e>0&&1>e)if(t>0){var n=Math.PI*e,i=Math.sin(n)/(2*t),r=Math.cos(n),s=1/(1+i);this.b0=(1-i)*s,this.b1=-2*r*s,this.b2=(1+i)*s,this.a1=this.b1,this.a2=this.b0}else this.b0=-1,this.b1=this.b2=this.a1=this.a2=0;else this.b0=1,this.b1=this.b2=this.a1=this.a2=0}};i.lpf=i.lowpass,i.hpf=i.highpass,i.bpf=i.bandpass,i.bef=i.notch,i.brf=i.notch,i.apf=i.allpass,e.modules.Biquad=t}(timbre),function(e){"use strict";function t(t){this.samplerate=t;var n=Math.round(Math.log(.1*t)*Math.LOG2E);this.buffersize=1<<n,this.bufferL=new e.fn.SignalArray(this.buffersize+1),this.bufferR=new e.fn.SignalArray(this.buffersize+1),this.wave=null,this._wave=null,this.writeIndex=this.buffersize>>1,this.readIndex=0,this.delayTime=20,this.rate=4,this.depth=20,this.feedback=.2,this.wet=.5,this.phase=0,this.phaseIncr=0,this.phaseStep=4,this.setWaveType("sin"),this.setDelayTime(this.delayTime),this.setRate(this.rate)}var n=t.prototype,i=[];i[0]=function(){for(var e=new Float32Array(512),t=0;512>t;++t)e[t]=Math.sin(2*Math.PI*(t/512));return e}(),i[1]=function(){for(var e,t=new Float32Array(512),n=0;512>n;++n)e=n/512-.25,t[n]=1-4*Math.abs(Math.round(e)-e);return t}(),n.setWaveType=function(e){"sin"===e?(this.wave=e,this._wave=i[0]):"tri"===e&&(this.wave=e,this._wave=i[1])},n.setDelayTime=function(e){this.delayTime=e;for(var t=this.writeIndex-(0|.001*e*this.samplerate);0>t;)t+=this.buffersize;this.readIndex=t},n.setRate=function(e){this.rate=e,this.phaseIncr=512*this.rate/this.samplerate*this.phaseStep},n.process=function(e,t){var n,i,r,s,a,o=this.bufferL,u=this.bufferR,l=this.buffersize,c=l-1,h=this._wave,f=this.phase,p=this.phaseIncr,d=this.writeIndex,m=this.readIndex,v=this.depth,g=this.feedback,y=this.wet,b=1-y,_=e.length,x=this.phaseStep;for(s=0;_>s;){for(r=h[0|f]*v,f+=p;f>512;)f-=512;for(a=0;x>a;++a,++s)i=m+l+r&c,n=.5*(o[i]+o[i+1]),o[d]=e[s]-n*g,e[s]=e[s]*b+n*y,n=.5*(u[i]+u[i+1]),u[d]=t[s]-n*g,t[s]=t[s]*b+n*y,d=d+1&c,m=m+1&c}this.phase=f,this.writeIndex=d,this.readIndex=m},e.modules.Chorus=t}(timbre),function(e){"use strict";function t(t,i){this.samplerate=t,this.channels=i,this.lastPreDelayFrames=0,this.preDelayReadIndex=0,this.preDelayWriteIndex=r,this.ratio=-1,this.slope=-1,this.linearThreshold=-1,this.dbThreshold=-1,this.dbKnee=-1,this.kneeThreshold=-1,this.kneeThresholdDb=-1,this.ykneeThresholdDb=-1,this.K=-1,this.attackTime=.003,this.releaseTime=.25,this.preDelayTime=.006,this.dbPostGain=0,this.effectBlend=1,this.releaseZone1=.09,this.releaseZone2=.16,this.releaseZone3=.42,this.releaseZone4=.98,this.detectorAverage=0,this.compressorGain=1,this.meteringGain=1,this.delayBufferL=new e.fn.SignalArray(n),this.delayBufferR=2===i?new e.fn.SignalArray(n):this.delayBufferL,this.preDelayTime=6,this.preDelayReadIndex=0,this.preDelayWriteIndex=r,this.maxAttackCompressionDiffDb=-1,this.meteringReleaseK=1-Math.exp(-1/(.325*this.samplerate)),this.setAttackTime(this.attackTime),this.setReleaseTime(this.releaseTime),this.setPreDelayTime(this.preDelayTime),this.setParams(-24,30,12)}var n=1024,i=n-1,r=256,s=5,a=t.prototype;a.clone=function(){var e=new t(this.samplerate,this.channels);return e.setAttackTime(this.attackTime),e.setReleaseTime(this.releaseTime),e.setPreDelayTime(this.preDelayTime),e.setParams(this.dbThreshold,this.dbKnee,this.ratio),e},a.setAttackTime=function(e){this.attackTime=Math.max(.001,e),this._attackFrames=this.attackTime*this.samplerate},a.setReleaseTime=function(e){this.releaseTime=Math.max(.001,e);var t=this.releaseTime*this.samplerate,n=.0025;this._satReleaseFrames=n*this.samplerate;var i=t*this.releaseZone1,r=t*this.releaseZone2,s=t*this.releaseZone3,a=t*this.releaseZone4;this._kA=.9999999999999998*i+1.8432219684323923e-16*r-1.9373394351676423e-16*s+8.824516011816245e-18*a,this._kB=-1.5788320352845888*i+2.3305837032074286*r-.9141194204840429*s+.1623677525612032*a,this._kC=.5334142869106424*i-1.272736789213631*r+.9258856042207512*s-.18656310191776226*a,this._kD=.08783463138207234*i-.1694162967925622*r+.08588057951595272*s-.00429891410546283*a,this._kE=-.042416883008123074*i+.1115693827987602*r-.09764676325265872*s+.028494263462021576*a},a.setPreDelayTime=function(e){this.preDelayTime=e;var t=e*this.samplerate;if(t>n-1&&(t=n-1),this.lastPreDelayFrames!==t){this.lastPreDelayFrames=t;for(var i=0,r=this.delayBufferL.length;r>i;++i)this.delayBufferL[i]=this.delayBufferR[i]=0;this.preDelayReadIndex=0,this.preDelayWriteIndex=t}},a.setParams=function(e,t,n){this._k=this.updateStaticCurveParameters(e,t,n);var i=this.saturate(1,this._k),r=1/i;r=Math.pow(r,.6),this._masterLinearGain=Math.pow(10,.05*this.dbPostGain)*r},a.kneeCurve=function(e,t){return this.linearThreshold>e?e:this.linearThreshold+(1-Math.exp(-t*(e-this.linearThreshold)))/t},a.saturate=function(e,t){var n;if(this.kneeThreshold>e)n=this.kneeCurve(e,t);else{var i=e?20*Math.log(e)*Math.LOG10E:-1e3,r=this.ykneeThresholdDb+this.slope*(i-this.kneeThresholdDb);n=Math.pow(10,.05*r)}return n},a.slopeAt=function(e,t){if(this.linearThreshold>e)return 1;var n=1.001*e,i=e?20*Math.log(e)*Math.LOG10E:-1e3,r=n?20*Math.log(n)*Math.LOG10E:-1e3,s=this.kneeCurve(e,t),a=this.kneeCurve(n,t),o=s?20*Math.log(s)*Math.LOG10E:-1e3,u=a?20*Math.log(a)*Math.LOG10E:-1e3;return(u-o)/(r-i)},a.kAtSlope=function(e){for(var t=this.dbThreshold+this.dbKnee,n=Math.pow(10,.05*t),i=.1,r=1e4,s=5,a=0;15>a;++a){var o=this.slopeAt(n,s);e>o?r=s:i=s,s=Math.sqrt(i*r)}return s},a.updateStaticCurveParameters=function(e,t,n){this.dbThreshold=e,this.linearThreshold=Math.pow(10,.05*e),this.dbKnee=t,this.ratio=n,this.slope=1/this.ratio,this.kneeThresholdDb=e+t,this.kneeThreshold=Math.pow(10,.05*this.kneeThresholdDb);var i=this.kAtSlope(1/this.ratio),r=this.kneeCurve(this.kneeThreshold,i);return this.ykneeThresholdDb=r?20*Math.log(r)*Math.LOG10E:-1e3,this._k=i,this._k},a.process=function(e,t){for(var n=1-this.effectBlend,r=this.effectBlend,a=this._k,o=this._masterLinearGain,u=this._satReleaseFrames,l=this._kA,c=this._kB,h=this._kC,f=this._kD,p=this._kE,d=64,m=e.length/d,v=0,g=this.detectorAverage,y=this.compressorGain,b=this.maxAttackCompressionDiffDb,_=1/this._attackFrames,x=this.preDelayReadIndex,w=this.preDelayWriteIndex,k=this.detectorAverage,T=this.delayBufferL,S=this.delayBufferR,A=this.meteringGain,I=this.meteringReleaseK,D=0;m>D;++D){var R,C=Math.asin(g)/(.5*Math.PI),O=C>y,j=y/C,L=j?20*Math.log(j)*Math.LOG10E:-1e3;if((1/0===L||isNaN(L))&&(L=-1),O){b=-1,j=L,j=-12>j?0:j>0?3:.25*(j+12);var M=j*j,N=M*j,E=M*M,P=l+c*j+h*M+f*N+p*E,F=s/P;R=Math.pow(10,.05*F)}else{(-1===b||L>b)&&(b=L);var q=Math.max(.5,b);j=.25/q,R=1-Math.pow(j,_)}for(var $=d;$--;){var B=0,z=.5*(e[v]+t[v]);T[w]=e[v],S[w]=t[v],0>z&&(z*=-1),z>B&&(B=z);var W=B;0>W&&(W*=-1);var H=this.saturate(W,a),G=1e-4>=W?1:H/W,V=G?-20*Math.log(G)*Math.LOG10E:1e3;2>V&&(V=2);var K=V/u,U=Math.pow(10,.05*K)-1,Y=G>k,X=Y?U:1;k+=(G-k)*X,k>1&&(k=1),1>R?y+=(C-y)*R:(y*=R,y>1&&(y=1));var Q=Math.sin(.5*Math.PI*y),Z=n+r*o*Q,J=20*Math.log(Q)*Math.LOG10E;A>J?A=J:A+=(J-A)*I,e[v]=T[x]*Z,t[v]=S[x]*Z,v++,x=x+1&i,w=w+1&i}1e-6>k&&(k=1e-6),1e-6>y&&(y=1e-6)}this.preDelayReadIndex=x,this.preDelayWriteIndex=w,this.detectorAverage=k,this.compressorGain=y,this.maxAttackCompressionDiffDb=b,this.meteringGain=A},a.reset=function(){this.detectorAverage=0,this.compressorGain=1,this.meteringGain=1;for(var e=0,t=this.delayBufferL.length;t>e;++e)this.delayBufferL[e]=this.delayBufferR[e]=0;this.preDelayReadIndex=0,this.preDelayWriteIndex=r,this.maxAttackCompressionDiffDb=-1},e.modules.Compressor=t}(timbre),function(e){"use strict";function t(){}t.prototype.decode=function(e,n,i){if("string"==typeof e){if(/\.wav$/.test(e))return t.wav_decode(e,n,i);if(t.ogg_decode&&/\.ogg$/.test(e))return t.ogg_decode(e,n,i);if(t.mp3_decode&&/\.mp3$/.test(e))return t.mp3_decode(e,n,i)}else if("object"==typeof e){if("wav"===e.type)return t.wav_decode(e.data,n,i);if(t.ogg_decode&&"ogg"===e.type)return t.ogg_decode(e.data,n,i);if(t.mp3_decode&&"mp3"===e.type)return t.mp3_decode(e.data,n,i)}return t.webkit_decode?"object"==typeof e?t.webkit_decode(e.data||e,n,i):t.webkit_decode(e,n,i):t.moz_decode?t.moz_decode(e,n,i):void n(!1)},e.modules.Decoder=t,t.getBinaryWithPath="browser"===e.envtype?function(t,n){e.fn.fix_iOS6_1_problem(!0);
var i=new XMLHttpRequest;i.open("GET",t),i.responseType="arraybuffer",i.onreadystatechange=function(){4===i.readyState&&(i.response?n(new Uint8Array(i.response)):void 0!==i.responseBody&&n(new Uint8Array(VBArray(i.responseBody).toArray())),e.fn.fix_iOS6_1_problem(!1))},i.send()}:function(e,t){t("no support")};var n=function(e){for(var t,n,i,r,s,a=new Int32Array(e.length/3),o=0,u=e.length,l=0;u>o;)t=e[o++],n=e[o++],i=e[o++],r=t+(n<<8)+(i<<16),s=8388608&r?r-16777216:r,a[l++]=s;return a};t.wav_decode=function(){var e=function(e,t,i){if("RIFF"!==String.fromCharCode(e[0],e[1],e[2],e[3]))return t(!1);var r=e[4]+(e[5]<<8)+(e[6]<<16)+(e[7]<<24);if(r+8!==e.length)return t(!1);if("WAVE"!==String.fromCharCode(e[8],e[9],e[10],e[11]))return t(!1);if("fmt "!==String.fromCharCode(e[12],e[13],e[14],e[15]))return t(!1);for(var s=e[22]+(e[23]<<8),a=e[24]+(e[25]<<8)+(e[26]<<16)+(e[27]<<24),o=e[34]+(e[35]<<8),u=36;e.length>u&&"data"!==String.fromCharCode(e[u],e[u+1],e[u+2],e[u+3]);)u+=1;if(u>=e.length)return t(!1);u+=4;var l=e[u]+(e[u+1]<<8)+(e[u+2]<<16)+(e[u+3]<<24),c=(l/s>>1)/a;if(u+=4,l>e.length-u)return t(!1);var h,f,p;h=new Float32Array(0|c*a),2===s&&(f=new Float32Array(h.length),p=new Float32Array(h.length)),t({samplerate:a,channels:s,buffer:[h,f,p],duration:c}),8===o?e=new Int8Array(e.buffer,u):16===o?e=new Int16Array(e.buffer,u):32===o?e=new Int32Array(e.buffer,u):24===o&&(e=n(new Uint8Array(e.buffer,u)));var d,m,v,g=1/((1<<o-1)-1);if(2===s)for(u=m=0,d=h.length;d>u;++u)v=f[u]=e[m++]*g,v+=p[u]=e[m++]*g,h[u]=.5*v;else for(u=0,d=h.length;d>u;++u)h[u]=e[u]*g;i()};return function(n,i,r){"string"==typeof n?t.getBinaryWithPath(n,function(t){e(t,i,r)}):e(n,i,r)}}(),t.webkit_decode=function(){if(void 0!==e.fn._audioContext){var n=e.fn._audioContext,i=function(e,t,i){var r,s,a,o,u;if("string"==typeof e)return i(!1);var l;try{l=n.createBuffer(e.buffer,!1)}catch(c){return t(!1)}r=n.sampleRate,s=l.numberOfChannels,2===s?(a=l.getChannelData(0),o=l.getChannelData(1)):a=o=l.getChannelData(0),u=a.length/r;for(var h=new Float32Array(a),f=0,p=h.length;p>f;++f)h[f]=.5*(h[f]+o[f]);t({samplerate:r,channels:s,buffer:[h,a,o],duration:u}),i()};return function(e,n,r){if(e instanceof File){var s=new FileReader;s.onload=function(e){i(new Uint8Array(e.target.result),n,r)},s.readAsArrayBuffer(e)}else"string"==typeof e?t.getBinaryWithPath(e,function(e){i(e,n,r)}):i(e,n,r)}}}(),t.moz_decode=function(){return"function"==typeof Audio&&"function"==typeof(new Audio).mozSetup?function(e,t,n){var i,r,s,a,o,u,l=0,c=new Audio(e);c.volume=0,c.addEventListener("loadedmetadata",function(){i=c.mozSampleRate,r=c.mozChannels,u=c.duration,s=new Float32Array(0|c.duration*i),2===r&&(a=new Float32Array(0|c.duration*i),o=new Float32Array(0|c.duration*i)),2===r?c.addEventListener("MozAudioAvailable",function(e){for(var t,n=e.frameBuffer,i=0,r=n.length;r>i;i+=2)t=a[l]=n[i],t+=o[l]=n[i+1],s[l]=.5*t,l+=1},!1):c.addEventListener("MozAudioAvailable",function(e){for(var t=e.frameBuffer,n=0,i=t.length;i>n;++n)s[n]=t[n],l+=1},!1),c.play(),setTimeout(function(){t({samplerate:i,channels:r,buffer:[s,a,o],duration:u})},1e3)},!1),c.addEventListener("ended",function(){n()},!1),c.load()}:void 0}()}(timbre),function(e){"use strict";function t(e){this.samplerate=e||44100,this.value=i,this.status=f,this.curve="linear",this.step=1,this.releaseNode=null,this.loopNode=null,this.emit=null,this._envValue=new n(e),this._table=[],this._initValue=i,this._curveValue=0,this._defaultCurveType=s,this._index=0,this._counter=0}function n(e){this.samplerate=e,this.value=i,this.step=1,this._curveType=s,this._curveValue=0,this._grow=0,this._a2=0,this._b1=0,this._y1=0,this._y2=0}var i=t.ZERO=1e-6,r=t.CurveTypeSet=0,s=t.CurveTypeLin=1,a=t.CurveTypeExp=2,o=t.CurveTypeSin=3,u=t.CurveTypeWel=4,l=t.CurveTypeCurve=5,c=t.CurveTypeSqr=6,h=t.CurveTypeCub=7,f=t.StatusWait=0,p=t.StatusGate=1,d=t.StatusSustain=2,m=t.StatusRelease=3,v=t.StatusEnd=4,g={set:r,lin:s,linear:s,exp:a,exponential:a,sin:o,sine:o,wel:u,welch:u,sqr:c,squared:c,cub:h,cubed:h};t.CurveTypeDict=g;var y=t.prototype;y.clone=function(){var e=new t(this.samplerate);return e._table=this._table,e._initValue=this._initValue,e.setCurve(this.curve),null!==this.releaseNode&&e.setReleaseNode(this.releaseNode+1),null!==this.loopNode&&e.setLoopNode(this.loopNode+1),e.setStep(this.step),e.reset(),e},y.setTable=function(e){this._initValue=e[0],this._table=e.slice(1),this.value=this._envValue.value=this._initValue,this._index=0,this._counter=0,this.status=f},y.setCurve=function(e){"number"==typeof e?(this._defaultCurveType=l,this._curveValue=e,this.curve=e):(this._defaultCurveType=g[e]||null,this.curve=e)},y.setReleaseNode=function(e){"number"==typeof e&&e>0&&(this.releaseNode=e-1)},y.setLoopNode=function(e){"number"==typeof e&&e>0&&(this.loopNode=e-1)},y.setStep=function(e){this.step=this._envValue.step=e},y.reset=function(){this.value=this._envValue.value=this._initValue,this._index=0,this._counter=0,this.status=f},y.release=function(){null!==this.releaseNode&&(this._counter=0,this.status=m)},y.getInfo=function(e){var t,n,i=this._table,r=0,s=1/0,a=1/0,o=!1;for(t=0,n=i.length;n>t;++t){this.loopNode===t&&(s=r),this.releaseNode===t&&(e>r?r+=e:r=e,a=r);var u=i[t];Array.isArray(u)&&(r+=u[1])}return 1/0!==s&&1/0===a&&(r+=e,o=!0),{totalDuration:r,loopBeginTime:s,releaseBeginTime:a,isEndlessLoop:o}},y.calcStatus=function(){var e,t,n,i,a=this.status,o=this._table,u=this._index,c=this._counter,h=this._curveValue,g=this._defaultCurveType,y=this.loopNode,b=this.releaseNode,_=this._envValue,x=null;switch(a){case f:case v:break;case p:case m:for(;0>=c;)if(u>=o.length){if(a===p&&null!==y){u=y;continue}a=v,c=1/0,i=r,x="ended"}else if(a!==p||u!==b)e=o[u++],t=e[0],i=null===e[2]?g:e[2],i===l&&(h=e[3],.001>Math.abs(h)&&(i=s)),n=e[1],c=_.setNext(t,n,i,h);else{if(null!==y&&b>y){u=y;continue}a=d,c=1/0,i=r,x="sustained"}}return this.status=a,this.emit=x,this._index=u,this._counter=c,a},y.next=function(){return 1&this.calcStatus()&&(this.value=this._envValue.next()||i),this._counter-=1,this.value},y.process=function(e){var t,n=this._envValue,r=e.length;if(1&this.calcStatus())for(t=0;r>t;++t)e[t]=n.next()||i;else{var s=this.value||i;for(t=0;r>t;++t)e[t]=s}this.value=e[r-1],this._counter-=e.length},n.prototype.setNext=function(e,t,n,i){var f,p,d,m,v,g,y,_=this.step,x=this.value,w=0|.001*t*this.samplerate/_;switch(1>w&&(w=1,n=r),n){case r:this.value=e;break;case s:f=(e-x)/w;break;case a:f=0!==x?Math.pow(e/x,1/w):0;break;case o:p=Math.PI/w,m=.5*(e+x),v=2*Math.cos(p),g=.5*(e-x),y=g*Math.sin(.5*Math.PI-p),x=m-g;break;case u:p=.5*Math.PI/w,v=2*Math.cos(p),e>=x?(m=x,g=0,y=-Math.sin(p)*(e-x)):(m=e,g=x-e,y=Math.cos(p)*(x-e)),x=m+g;break;case l:d=(e-x)/(1-Math.exp(i)),m=x+d,v=d,f=Math.exp(i/w);break;case c:g=Math.sqrt(x),y=Math.sqrt(e),f=(y-g)/w;break;case h:g=Math.pow(x,.33333333),y=Math.pow(e,.33333333),f=(y-g)/w}return this.next=b[n],this._grow=f,this._a2=m,this._b1=v,this._y1=g,this._y2=y,w};var b=[];b[r]=function(){return this.value},b[s]=function(){return this.value+=this._grow,this.value},b[a]=function(){return this.value*=this._grow,this.value},b[o]=function(){var e=this._b1*this._y1-this._y2;return this.value=this._a2-e,this._y2=this._y1,this._y1=e,this.value},b[u]=function(){var e=this._b1*this._y1-this._y2;return this.value=this._a2+e,this._y2=this._y1,this._y1=e,this.value},b[l]=function(){return this._b1*=this._grow,this.value=this._a2-this._b1,this.value},b[c]=function(){return this._y1+=this._grow,this.value=this._y1*this._y1,this.value},b[h]=function(){return this._y1+=this._grow,this.value=this._y1*this._y1*this._y1,this.value},n.prototype.next=b[r],e.modules.Envelope=t,e.modules.EnvelopeValue=n}(timbre),function(e){"use strict";function t(t){t="number"==typeof t?t:512,t=1<<Math.ceil(Math.log(t)*Math.LOG2E),this.length=t,this.buffer=new e.fn.SignalArray(t),this.real=new e.fn.SignalArray(t),this.imag=new e.fn.SignalArray(t),this._real=new e.fn.SignalArray(t),this._imag=new e.fn.SignalArray(t),this.mag=new e.fn.SignalArray(t>>1),this.minDecibels=-30,this.maxDecibels=-100;var n=i.get(t);this._bitrev=n.bitrev,this._sintable=n.sintable,this._costable=n.costable}var n=t.prototype;n.setWindow=function(t){if("string"==typeof t){var n=/([A-Za-z]+)(?:\(([01]\.?\d*)\))?/.exec(t);if(null!==n){var i=n[1].toLowerCase(),s=void 0!==n[2]?+n[2]:.25,a=r[i];if(a){this._window||(this._window=new e.fn.SignalArray(this.length));var o=this._window,u=0,l=this.length;for(s=0>s?0:s>1?1:s;l>u;++u)o[u]=a(u,l,s);this.windowName=t}}}},n.forward=function(e){var t,n,i,r,s,a,o,u,l,c,h,f=this.buffer,p=this.real,d=this.imag,m=this._window,v=this._bitrev,g=this._sintable,y=this._costable,b=f.length;if(m)for(t=0;b>t;++t)f[t]=e[t]*m[t];else f.set(e);for(t=0;b>t;++t)p[t]=f[v[t]],d[t]=0;for(i=1;b>i;i=r)for(s=0,r=i+i,a=b/r,n=0;i>n;n++){for(o=y[s],u=g[s],t=n;b>t;t+=r)l=t+i,c=u*d[l]+o*p[l],h=o*d[l]-u*p[l],p[l]=p[t]-c,p[t]+=c,d[l]=d[t]-h,d[t]+=h;s+=a}var _,x,w=this.mag;for(t=0;b>t;++t)_=p[t],x=d[t],w[t]=Math.sqrt(_*_+x*x);return{real:p,imag:d}},n.inverse=function(e,t){var n,i,r,s,a,o,u,l,c,h,f,p=this.buffer,d=this._real,m=this._imag,v=this._bitrev,g=this._sintable,y=this._costable,b=p.length;for(n=0;b>n;++n)i=v[n],d[n]=+e[i],m[n]=-t[i];for(r=1;b>r;r=s)for(a=0,s=r+r,o=b/s,i=0;r>i;i++){for(u=y[a],l=g[a],n=i;b>n;n+=s)c=n+r,h=l*m[c]+u*d[c],f=u*m[c]-l*d[c],d[c]=d[n]-h,d[n]+=h,m[c]=m[n]-f,m[n]+=f;a+=o}for(n=0;b>n;++n)p[n]=d[n]/b;return p},n.getFrequencyData=function(e){var t,n=this.minDecibels,i=Math.min(this.mag.length,e.length);if(i){var r,s=this.mag,a=0;for(t=0;i>t;++t)r=s[t],e[t]=r?20*Math.log(r)*Math.LOG10E:n,e[t]>a&&(a=e[t])}return e};var i={get:function(t){return i[t]||function(){var n,r,s=function(){var e,n,i,r,s;for(e=new Int16Array(t),s=t>>1,n=i=0;e[n]=i,!(++n>=t);){for(r=s;i>=r;)i-=r,r>>=1;i+=r}return e}(),a=Math.floor(Math.log(t)/Math.LN2),o=new e.fn.SignalArray((1<<a)-1),u=new e.fn.SignalArray((1<<a)-1),l=2*Math.PI;for(n=0,r=o.length;r>n;++n)o[n]=Math.sin(l*(n/t)),u[n]=Math.cos(l*(n/t));return i[t]={bitrev:s,sintable:o,costable:u},i[t]}()}},r=function(){var e=Math.PI,t=2*Math.PI,n=Math.abs,i=Math.pow,r=Math.cos,s=Math.sin,a=function(t){return s(e*t)/(e*t)},o=Math.E;return{rectangular:function(){return 1},hann:function(e,n){return.5*(1-r(t*e/(n-1)))},hamming:function(e,n){return.54-.46*r(t*e/(n-1))},tukery:function(t,n,i){return i*(n-1)/2>t?.5*(1+r(e*(2*t/(i*(n-1))-1))):t>(n-1)*(1-i/2)?.5*(1+r(e*(2*t/(i*(n-1))-2/i+1))):1},cosine:function(t,n){return s(e*t/(n-1))},lanczos:function(e,t){return a(2*e/(t-1)-1)},triangular:function(e,t){return 2/(t+1)*((t+1)/2-n(e-(t-1)/2))},bartlett:function(e,t){return 2/(t-1)*((t-1)/2-n(e-(t-1)/2))},gaussian:function(e,t,n){return i(o,-.5*i((e-(t-1)/2)/(n*(t-1)/2),2))},bartlettHann:function(e,i){return.62-.48*n(e/(i-1)-.5)-.38*r(t*e/(i-1))},blackman:function(n,i,s){var a=(1-s)/2,o=.5,u=s/2;return a-o*r(t*n/(i-1))+u*r(4*e*n/(i-1))}}}();e.modules.FFT=t}(timbre),function(e){"use strict";function t(e){this.samplerate=e||44100,this.wave=null,this.step=1,this.frequency=0,this.value=0,this.phase=0,this.feedback=!1,this._x=0,this._lastouts=0,this._coeff=s/this.samplerate,this._radtoinc=s/(2*Math.PI)}function n(e,t,n,i){var r,s,a,o,u,l=c[t];if(void 0!==l){switch("function"==typeof l&&(l=l()),n){case"@1":for(s=512;1024>s;++s)l[s]=0;break;case"@2":for(s=512;1024>s;++s)l[s]=Math.abs(l[s]);break;case"@3":for(s=256;512>s;++s)l[s]=0;for(s=512;768>s;++s)l[s]=Math.abs(l[s]);for(s=768;1024>s;++s)l[s]=0;break;case"@4":for(r=new Float32Array(1024),s=0;512>s;++s)r[s]=l[s<<1];l=r;break;case"@5":for(r=new Float32Array(1024),s=0;512>s;++s)r[s]=Math.abs(l[s<<1]);l=r}if(void 0!==i&&50!==i){for(i*=.01,i=0>i?0:i>1?1:i,r=new Float32Array(1024),a=0|1024*i,s=0;a>s;++s)r[s]=l[0|512*(s/a)];for(u=1024-a,o=0;1024>s;++s,++o)r[s]=l[0|512*(o/u)+512];l=r}if("+"===e)for(s=0;1024>s;++s)l[s]=.5*l[s]+.5;else if("-"===e)for(s=0;1024>s;++s)l[s]*=-1;return l}}function i(e){var t=new Float32Array(1024),n=e.length>>1;if(-1!==[2,4,8,16,32,64,128,256,512,1024].indexOf(n))for(var i=0,r=0;n>i;++i){var s=parseInt(e.substr(2*i,2),16);s=128&s?(s-256)/128:s/127;for(var a=0,o=1024/n;o>a;++a)t[r++]=s}return t}function r(e){var t=new Float32Array(1024);if(8===e.length){var n,i,r=parseInt(e,16),s=new Float32Array(8);for(s[0]=1,n=0;7>n;++n)s[n+1]=.0625*(15&r),r>>=4;for(n=0;8>n;++n){var a=0,o=(n+1)/1024;for(i=0;1024>i;++i)t[i]+=Math.sin(2*Math.PI*a)*s[n],a+=o}var u,l=0;for(n=0;1024>n;++n)(u=Math.abs(t[n]))>l&&(l=u);if(l>0)for(n=0;1024>n;++n)t[n]/=l}return t}var s=1024,a=s-1,o=t.prototype;o.setWave=function(t){var n,i,r=this.wave;if(this.wave||(this.wave=new Float32Array(s+1)),"function"==typeof t)for(n=0;s>n;++n)r[n]=t(n/s);else if(e.fn.isSignalArray(t))if(t.length===r.length)r.set(t);else for(i=t.length/s,n=0;s>n;++n)r[n]=t[0|n*i];else"string"==typeof t&&void 0!==(i=u(t))&&this.wave.set(i);this.wave[s]=this.wave[0]},o.clone=function(){var e=new t(this.samplerate);return e.wave=this.wave,e.step=this.step,e.frequency=this.frequency,e.value=this.value,e.phase=this.phase,e.feedback=this.feedback,e},o.reset=function(){this._x=0},o.next=function(){var e=this._x,t=0|e+this.phase*this._radtoinc;return this.value=this.wave[t&a],e+=this.frequency*this._coeff*this.step,e>s&&(e-=s),this._x=e,this.value},o.process=function(e){var t,n,i,r,o,u,l=this.wave,c=this._radtoinc,h=this._x,f=this.frequency*this._coeff,p=this.step;if(this.feedback){var d=this._lastouts;for(c*=this.phase,u=0;p>u;++u)t=h+d*c,n=0|t,i=t-n,n&=a,r=l[n],o=l[n+1],e[u]=d=r+i*(o-r),h+=f;this._lastouts=d}else{var m=this.phase*c;for(u=0;p>u;++u)t=h+m,n=0|t,i=t-n,n&=a,r=l[n],o=l[n+1],e[u]=r+i*(o-r),h+=f}h>s&&(h-=s),this._x=h,this.value=e[e.length-1]},o.processWithFreqArray=function(e,t){var n,i,r,o,u,l,c=this.wave,h=this._radtoinc,f=this._x,p=this._coeff,d=this.step;if(this.feedback){var m=this._lastouts;for(h*=this.phase,l=0;d>l;++l)n=f+m*h,i=0|n,r=n-i,i&=a,o=c[i],u=c[i+1],e[l]=m=o+r*(u-o),f+=t[l]*p;this._lastouts=m}else{var v=this.phase*this._radtoinc;for(l=0;d>l;++l)n=f+v,i=0|n,r=n-i,i&=a,o=c[i],u=c[i+1],e[l]=o+r*(u-o),f+=t[l]*p}f>s&&(f-=s),this._x=f,this.value=e[e.length-1]},o.processWithPhaseArray=function(e,t){var n,i,r,o,u,l,c=this.wave,h=this._radtoinc,f=this._x,p=this.frequency*this._coeff,d=this.step;if(this.feedback){var m=this._lastouts;for(h*=this.phase,l=0;d>l;++l)n=f+m*h,i=0|n,r=n-i,i&=a,o=c[i],u=c[i+1],e[l]=m=o+r*(u-o),f+=p;this._lastouts=m}else for(l=0;d>l;++l)n=f+t[l]*h,i=0|n,r=n-i,i&=a,o=c[i],u=c[i+1],e[l]=o+r*(u-o),f+=p;f>s&&(f-=s),this._x=f,this.value=e[e.length-1]},o.processWithFreqAndPhaseArray=function(e,t,n){var i,r,o,u,l,c,h=this.wave,f=this._radtoinc,p=this._x,d=this._coeff,m=this.step;if(this.feedback){var v=this._lastouts;for(f*=this.phase,c=0;m>c;++c)i=p+v*f,r=0|i,o=i-r,r&=a,u=h[r],l=h[r+1],e[c]=v=u+o*(l-u),p+=t[c]*d;this._lastouts=v}else for(c=0;m>c;++c)i=p+n[c]*s,r=0|i,o=i-r,r&=a,u=h[r],l=h[r+1],e[c]=u+o*(l-u),p+=t[c]*d;p>s&&(p-=s),this._x=p,this.value=e[e.length-1]};var u=function(e){var t=c[e];if(void 0!==t)return"function"==typeof t&&(t=t()),t;var s;if(s=/^([\-+]?)(\w+)(?:\((@[0-7])?:?(\d+)?\))?$/.exec(e),null!==s){var a=s[1],o=s[2],u=s[3],l=s[4];if(t=n(a,o,u,l),void 0!==t)return c[e]=t,t}return s=/^wavb\(((?:[0-9a-fA-F][0-9a-fA-F])+)\)$/.exec(e),null!==s?i(s[1]):(s=/^wavc\(([0-9a-fA-F]{8})\)$/.exec(e),null!==s?r(s[1]):void 0)};t.getWavetable=u;var l=function(t,n){var i,r,s=new Float32Array(1024);if("function"==typeof n)for(r=0;1024>r;++r)s[r]=n(r/1024);else if(e.fn.isSignalArray(n))if(n.length===s.length)s.set(n);else for(i=n.length/1024,r=0;1024>r;++r)s[r]=n[0|r*i];c[t]=s};t.setWavetable=l;var c={sin:function(){for(var e=new Float32Array(1024),t=0;1024>t;++t)e[t]=Math.sin(2*Math.PI*(t/1024));return e},cos:function(){for(var e=new Float32Array(1024),t=0;1024>t;++t)e[t]=Math.cos(2*Math.PI*(t/1024));return e},pulse:function(){for(var e=new Float32Array(1024),t=0;1024>t;++t)e[t]=512>t?1:-1;return e},tri:function(){for(var e,t=new Float32Array(1024),n=0;1024>n;++n)e=n/1024-.25,t[n]=1-4*Math.abs(Math.round(e)-e);return t},saw:function(){for(var e,t=new Float32Array(1024),n=0;1024>n;++n)e=n/1024,t[n]=2*(e-Math.round(e));return t},fami:function(){for(var e=[0,.125,.25,.375,.5,.625,.75,.875,.875,.75,.625,.5,.375,.25,.125,0,-.125,-.25,-.375,-.5,-.625,-.75,-.875,-1,-1,-.875,-.75,-.625,-.5,-.375,-.25,-.125],t=new Float32Array(1024),n=0;1024>n;++n)t[n]=e[0|n/1024*e.length];return t},konami:function(){for(var e=[-.625,-.875,-.125,.75,.5,.125,.5,.75,.25,-.125,.5,.875,.625,0,.25,.375,-.125,-.75,0,.625,.125,-.5,-.375,-.125,-.75,-1,-.625,0,-.375,-.875,-.625,-.25],t=new Float32Array(1024),n=0;1024>n;++n)t[n]=e[0|n/1024*e.length];return t}};e.modules.Oscillator=t}(timbre),function(e){"use strict";function t(t,a){this.samplerate=t;var o,u,l=t/44100;for(u=2*r.length,this.comb=Array(u),this.combout=Array(u),o=0;u>o;++o)this.comb[o]=new n(r[o%r.length]*l),this.combout[o]=new e.fn.SignalArray(a);for(u=2*s.length,this.allpass=Array(u),o=0;u>o;++o)this.allpass[o]=new i(s[o%s.length]*l);this.outputs=[new e.fn.SignalArray(a),new e.fn.SignalArray(a)],this.damp=0,this.wet=.33,this.setRoomSize(.5),this.setDamp(.5)}function n(t){this.buffer=new e.fn.SignalArray(0|t),this.buffersize=this.buffer.length,this.bufidx=0,this.feedback=0,this.filterstore=0,this.damp=0}function i(t){this.buffer=new e.fn.SignalArray(0|t),this.buffersize=this.buffer.length,this.bufidx=0}var r=[1116,1188,1277,1356,1422,1491,1557,1617],s=[225,556,441,341],a=t.prototype;a.setRoomSize=function(e){var t=this.comb,n=.28*e+.7;this.roomsize=e,t[0].feedback=t[1].feedback=t[2].feedback=t[3].feedback=t[4].feedback=t[5].feedback=t[6].feedback=t[7].feedback=t[8].feedback=t[9].feedback=t[10].feedback=t[11].feedback=t[12].feedback=t[13].feedback=t[14].feedback=t[15].feedback=n},a.setDamp=function(e){var t=this.comb,n=.4*e;this.damp=e,t[0].damp=t[1].damp=t[2].damp=t[3].damp=t[4].damp=t[5].damp=t[6].damp=t[7].damp=t[8].damp=t[9].damp=t[10].damp=t[11].damp=t[12].damp=t[13].damp=t[14].damp=t[15].damp=n},a.process=function(e,t){var n,i=this.comb,r=this.combout,s=this.allpass,a=this.outputs[0],o=this.outputs[1],u=this.wet,l=1-u,c=e.length;for(i[0].process(e,r[0]),i[1].process(e,r[1]),i[2].process(e,r[2]),i[3].process(e,r[3]),i[4].process(e,r[4]),i[5].process(e,r[5]),i[6].process(e,r[6]),i[7].process(e,r[7]),i[8].process(t,r[8]),i[9].process(t,r[9]),i[10].process(t,r[10]),i[11].process(t,r[11]),i[12].process(t,r[12]),i[13].process(t,r[13]),i[14].process(t,r[14]),i[15].process(t,r[15]),n=0;c>n;++n)a[n]=r[0][n]+r[1][n]+r[2][n]+r[3][n]+r[4][n]+r[5][n]+r[6][n]+r[7][n],o[n]=r[8][n]+r[9][n]+r[10][n]+r[11][n]+r[12][n]+r[13][n]+r[14][n]+r[15][n];for(s[0].process(a,a),s[1].process(a,a),s[2].process(a,a),s[3].process(a,a),s[4].process(o,o),s[5].process(o,o),s[6].process(o,o),s[7].process(o,o),n=0;c>n;++n)e[n]=a[n]*u+e[n]*l,t[n]=o[n]*u+t[n]*l},n.prototype.process=function(e,t){var n,i,r,s=this.buffer,a=this.buffersize,o=this.bufidx,u=this.filterstore,l=this.feedback,c=this.damp,h=1-c,f=e.length;for(r=0;f>r;++r)n=.015*e[r],i=s[o],u=i*h+u*c,s[o]=n+u*l,++o>=a&&(o=0),t[r]=i;this.bufidx=o,this.filterstore=u},i.prototype.process=function(e,t){var n,i,r,s,a=this.buffer,o=this.buffersize,u=this.bufidx,l=e.length;for(s=0;l>s;++s)n=e[s],r=a[u],i=-n+r,a[u]=n+.5*r,++u>=o&&(u=0),t[s]=i;this.bufidx=u},e.modules.Reverb=t}(timbre),function(e){"use strict";function t(e){return new n(e)}function n(e){if(this.fragments=[],e){var t=e.samplerate||44100,n=e.buffer[0].length/t;this.fragments.push(new i(e,0,n))}}function i(e,t,n,i,r,s,o){e||(e=a),this.buffer=e.buffer[0],this.samplerate=e.samplerate||44100,this.start=t,this._duration=n,this.reverse=i||!1,this.pitch=r||100,this.stretch=s||!1,this.pan=o||50}function r(e,t){this.tape=e,this.fragments=e.fragments,this.samplerate=t||44100,this.isEnded=!1,this.buffer=null,this.bufferIndex=0,this.bufferIndexIncr=0,this.bufferBeginIndex=0,this.bufferEndIndex=0,this.fragment=null,this.fragmentIndex=0,this.panL=.5,this.panR=.5}var s=new Float32Array(60),a={buffer:s,samplerate:1};t.silence=function(e){return new t(a).slice(0,1).fill(e)},t.join=function(e){for(var t=new n,i=0;e.length>i;i++)e[i]instanceof n&&t.add_fragments(e[i].fragments);return t},t.Tape=n,n.prototype.add_fragment=function(e){return this.fragments.push(e),this},n.prototype.add_fragments=function(e){for(var t=0;e.length>t;t++)this.fragments.push(e[t]);return this},n.prototype.duration=function(){for(var e=0,t=0;this.fragments.length>t;t++)e+=this.fragments[t].duration();return e},n.prototype.slice=function(e,t){var i=this.duration();e+t>i&&(t=i-e);for(var r=new n,s=e,a=t,o=0;this.fragments.length>o;o++){var u=this.fragments[o],l=u.create(s,a),c=l[0];if(s=l[1],a=l[2],c&&r.add_fragment(c),0===a)break}return r},n.prototype.cut=n.prototype.slice,n.prototype.concat=function(e){var t=new n;return t.add_fragments(this.fragments),t.add_fragments(e.fragments),t},n.prototype.loop=function(e){var t,i=[];for(t=0;this.fragments.length>t;t++)i.push(this.fragments[t].clone());var r=new n;for(t=0;e>t;t++)r.add_fragments(i);return r},n.prototype.times=n.prototype.loop,n.prototype.split=function(e){for(var t=this.duration()/e,n=[],i=0;e>i;i++)n.push(this.slice(i*t,t));return n},n.prototype.fill=function(e){var t=this.duration();if(0===t)throw"EmptyFragment";var n=0|e/t,i=e%t;return this.loop(n).plus(this.slice(0,i))},n.prototype.replace=function(e,i,r){var s=new n,a=e+i;s=s.plus(this.slice(0,e));var o=s.duration();e>o&&(s=s.plus(t.silence(e-o))),s=s.plus(r);var u=this.duration();return u>a&&(s=s.plus(this.slice(a,u-a))),s},n.prototype.reverse=function(){for(var e=new n,t=this.fragments.length;t--;){var i=this.fragments[t].clone();i.reverse=!i.isReversed(),e.add_fragment(i)}return e},n.prototype.pitch=function(e,t){var i=new n;t=t||!1;for(var r=0;this.fragments.length>r;r++){var s=this.fragments[r].clone();s.pitch*=.01*e,s.stretch=t,i.add_fragment(s)}return i},n.prototype.stretch=function(e){var t=100*(1/(.01*e));return this.pitch(t,!0)},n.prototype.pan=function(e){var t=new n;e>100?e=100:0>e&&(e=0);for(var i=0;this.fragments.length>i;i++){var r=this.fragments[i].clone();r.pan=e,t.add_fragment(r)}return t},n.prototype.silence=function(){return t.silence(this.duration())},n.prototype.join=function(e){for(var t=new n,i=0;e.length>i;i++)e[i]instanceof n&&t.add_fragments(e[i].fragments);return t},n.prototype.getBuffer=function(){var e=44100;this.fragments.length>0&&(e=this.fragments[0].samplerate);var t=new r(this,e),n=0|this.duration()*e;return{samplerate:e,buffer:t.fetch(n)}},i.prototype.duration=function(){return this._duration*(100/this.pitch)},i.prototype.original_duration=function(){return this._duration},i.prototype.isReversed=function(){return this.reverse},i.prototype.isStretched=function(){return this.stretched},i.prototype.create=function(e,t){var n=this.duration();if(e>=n)return[null,e-n,t];var i,r=e+t>=n;r?(i=n-e,t-=i):(i=t,t=0);var s=this.clone();return s.start=this.start+.01*e*this.pitch,s._duration=.01*i*this.pitch,s.reverse=!1,[s,0,t]},i.prototype.clone=function(){var e=new i;return e.buffer=this.buffer,e.samplerate=this.samplerate,e.start=this.start,e._duration=this._duration,e.reverse=this.reverse,e.pitch=this.pitch,e.stretch=this.stretch,e.pan=this.pan,e},t.Fragment=i,t.TapeStream=r,r.prototype.reset=function(){return this.isEnded=!1,this.buffer=null,this.bufferIndex=0,this.bufferIndexIncr=0,this.bufferBeginIndex=0,this.bufferEndIndex=0,this.fragment=null,this.fragmentIndex=0,this.panL=.5,this.panR=.5,this.isLooped=!1,this},r.prototype.fetch=function(t){var n=new e.fn.SignalArray(t),i=new e.fn.SignalArray(t),r=this.fragments;if(0===r.length)return[n,i];for(var a,o=100*this.samplerate,u=this.buffer,l=this.bufferIndex,c=this.bufferIndexIncr,h=this.bufferBeginIndex,f=this.bufferEndIndex,p=this.fragment,d=this.fragmentIndex,m=this.panL,v=this.panR,g=0;t>g;g++){for(;!u||h>l||l>=f;)if(!p||r.length>d)p=r[d++],u=p.buffer,c=p.samplerate/o*p.pitch,h=p.start*p.samplerate,f=h+p.original_duration()*p.samplerate,a=.01*p.pan,m=1-a,v=a,p.reverse?(c*=-1,l=f+c):l=h;else{if(!this.isLooped){this.isEnded=!0,u=s,c=0,l=0;break}u=null,l=0,c=0,h=0,f=0,p=null,d=0}n[g]=u[0|l]*m,i[g]=u[0|l]*v,l+=c}return this.buffer=u,this.bufferIndex=l,this.bufferIndexIncr=c,this.bufferBeginIndex=h,this.bufferEndIndex=f,this.fragment=p,this.fragmentIndex=d,this.panL=m,this.panR=v,[n,i]},e.modules.Scissor=t}(timbre),function(e){"use strict";function t(t){this.samplerate=t;var n=Math.ceil(Math.log(1.5*t)*Math.LOG2E);this.buffersize=1<<n,this.buffermask=this.buffersize-1,this.writeBufferL=new e.fn.SignalArray(this.buffersize),this.writeBufferR=new e.fn.SignalArray(this.buffersize),this.readBufferL=this.writeBufferL,this.readBufferR=this.writeBufferR,this.delaytime=null,this.feedback=null,this.cross=null,this.mix=null,this.prevL=0,this.prevR=0,this.readIndex=0,this.writeIndex=0,this.setParams(125,.25,!1,.45)}var n=t.prototype;n.setParams=function(e,t,n,i){if(this.delaytime!==e){this.delaytime=e;var r=0|.001*e*this.samplerate;r>this.buffermask&&(r=this.buffermask),this.writeIndex=this.readIndex+r&this.buffermask}this.feedback!==t&&(this.feedback=t),this.cross!==n&&(this.cross=n,n?(this.readBufferL=this.writeBufferR,this.readBufferR=this.writeBufferL):(this.readBufferL=this.writeBufferL,this.readBufferR=this.writeBufferR)),this.mix!==i&&(this.mix=i)},n.process=function(e,t){var n,i,r=this.readBufferL,s=this.readBufferR,a=this.writeBufferL,o=this.writeBufferR,u=this.readIndex,l=this.writeIndex,c=this.buffermask,h=this.feedback,f=this.mix,p=1-f,d=this.prevL,m=this.prevR,v=e.length;for(i=0;v>i;++i)n=r[u],a[l]=e[i]-n*h,e[i]=d=.5*(e[i]*p+n*f+d),n=s[u],o[l]=t[i]-n*h,t[i]=m=.5*(t[i]*p+n*f+m),u+=1,l=l+1&c;this.readIndex=u&this.buffermask,this.writeIndex=l,this.prevL=d,this.prevR=m},e.modules.StereoDelay=t}(timbre),function(e){"use strict";var t=e.fn,n=e.modules;t.register("audio",function(e){var n=t.getClass("buffer"),s=new n(e);return s.playbackState=t.FINISHED_STATE,s._.isLoaded=!1,Object.defineProperties(s,{isLoaded:{get:function(){return this._.isLoaded}}}),s.load=i,s.loadthis=r,s});var i=function(i){var r=this,s=this._,a=new n.Deferred(this),o=arguments,u=1;a.done(function(){r._.emit("done")}),"function"==typeof o[u]&&(a.done(o[u++]),"function"==typeof o[u]&&a.fail(o[u++])),s.loadedTime=0;var l=function(n,i){var s=r._;n?(r.playbackState=t.PLAYING_STATE,s.samplerate=n.samplerate,s.channels=n.channels,s.bufferMix=null,s.buffer=n.buffer,s.phase=0,s.phaseIncr=n.samplerate/e.samplerate,s.duration=1e3*n.duration,s.currentTime=0,s.isReversed&&(s.phaseIncr*=-1,s.phase=n.buffer[0].length+s.phaseIncr),r._.emit("loadedmetadata")):a.reject(i)},c=function(){r._.isLoaded=!0,r._.plotFlush=!0,r._.emit("loadeddata"),a.resolveWith(r)};return(new n.Decoder).decode(i,l,c),a.promise()},r=function(){return i.apply(this,arguments),this}}(timbre),function(e){"use strict";function t(t){e.Object.call(this,2,t),n.fixAR(this);var i=this._;i.biquad=new r(i.samplerate),i.freq=e(340),i.band=e(1),i.gain=e(0),i.plotBefore=a,i.plotRange=[-18,18],i.plotFlush=!0}var n=e.fn,i=e.modules.FFT,r=e.modules.Biquad,s=20;n.extend(t);var a=function(e,t,n,i,r){e.lineWidth=1,e.strokeStyle="rgb(192, 192, 192)";for(var a=.5*this._.samplerate,o=1;10>=o;++o)for(var u=1;4>=u;u++){var l=o*Math.pow(10,u);if(!(s>=l||l>=a)){e.beginPath();var c=Math.log(l/s)/Math.log(a/s);c=(0|c*i+t)+.5,e.moveTo(c,n),e.lineTo(c,n+r),e.stroke()}}var h=r/6;for(o=1;6>o;o++){e.beginPath();var f=(0|n+o*h)+.5;e.moveTo(t,f),e.lineTo(t+i,f),e.stroke()}},o=t.prototype;Object.defineProperties(o,{type:{set:function(e){var t=this._;e!==t.biquad.type&&(t.biquad.setType(e),t.plotFlush=!0)},get:function(){return this._.biquad.type}},freq:{set:function(t){this._.freq=e(t)},get:function(){return this._.freq}},cutoff:{set:function(t){this._.freq=e(t)},get:function(){return this._.freq}},res:{set:function(t){this._.band=e(t)},get:function(){return this._.band}},Q:{set:function(t){this._.band=e(t)},get:function(){return this._.band}},band:{set:function(t){this._.band=e(t)},get:function(){return this._.band}},gain:{set:function(t){this._.gain=e(t)},get:function(){return this._.gain}}}),o.process=function(e){var t=this._;if(this.tickID!==e){this.tickID=e,n.inputSignalAR(this);var i=t.freq.process(e).cells[0][0],r=t.band.process(e).cells[0][0],s=t.gain.process(e).cells[0][0];(t.prevFreq!==i||t.prevband!==r||t.prevGain!==s)&&(t.prevFreq=i,t.prevband=r,t.prevGain=s,t.biquad.setParams(i,r,s),t.plotFlush=!0),t.bypassed||t.biquad.process(this.cells[1],this.cells[2]),n.outputSignalAR(this)}return this};var u=new i(2048),l=e.Object.prototype.plot;o.plot=function(e){if(this._.plotFlush){var t=new r(this._.samplerate);t.setType(this.type),t.setParams(this.freq.valueOf(),this.band.valueOf(),this.gain.valueOf());var n=new Float32Array(u.length);n[0]=1,t.process(n,n),u.forward(n);var i,a,o,c,h,f,p,d,m=512,v=new Float32Array(m),g=.5*this._.samplerate,y=new Float32Array(m);for(u.getFrequencyData(y),i=0;m>i;++i)o=Math.pow(g/s,i/m)*s,a=o/(g/y.length),c=0|a,h=a-c,0===c?p=f=d=y[c]:(f=y[c-1],p=y[c],d=(1-h)*f+h*p),v[i]=d;this._.plotData=v,this._.plotFlush=null}return l.call(this,e)},n.register("biquad",t),n.register("lowpass",function(e){return new t(e).set("type","lowpass")}),n.register("highpass",function(e){return new t(e).set("type","highpass")}),n.register("bandpass",function(e){return new t(e).set("type","bandpass")}),n.register("lowshelf",function(e){return new t(e).set("type","lowshelf")}),n.register("highshelf",function(e){return new t(e).set("type","highshelf")}),n.register("peaking",function(e){return new t(e).set("type","peaking")}),n.register("notch",function(e){return new t(e).set("type","notch")}),n.register("allpass",function(e){return new t(e).set("type","allpass")}),n.alias("lpf","lowpass"),n.alias("hpf","highpass"),n.alias("bpf","bandpass"),n.alias("bef","notch"),n.alias("brf","notch"),n.alias("apf","allpass")}(timbre),function(e){"use strict";function t(t){e.Object.call(this,1,t),n.fixAR(this);var i=this._;i.pitch=e(1),i.samplerate=44100,i.channels=0,i.bufferMix=null,i.buffer=[],i.isLooped=!1,i.isReversed=!1,i.duration=0,i.currentTime=0,i.currentTimeObj=null,i.phase=0,i.phaseIncr=0,i.onended=n.make_onended(this,0),i.onlooped=s(this)}var n=e.fn,i=e.modules.Scissor.Tape,r=function(e){return n.isSignalArray(e)||e instanceof Float32Array};n.extend(t);var s=function(e){return function(){var t=e._;t.phase>=t.buffer[0].length?t.phase=0:0>t.phase&&(t.phase=t.buffer[0].length+t.phaseIncr),e._.emit("looped")}},a=t.prototype,o=function(t){var n=this._;if("object"==typeof t){var s,a,o=[];r(t)?(o[0]=t,a=1):"object"==typeof t&&(t instanceof e.Object?t=t.buffer:t instanceof i&&(t=t.getBuffer()),Array.isArray(t.buffer)?r(t.buffer[0])&&(r(t.buffer[1])&&r(t.buffer[2])?(a=2,o=t.buffer):(a=1,o=[t.buffer[0]])):r(t.buffer)&&(a=1,o=[t.buffer]),"number"==typeof t.samplerate&&(s=t.samplerate)),o.length&&(s>0&&(n.samplerate=t.samplerate),n.bufferMix=null,n.buffer=o,n.phase=0,n.phaseIncr=n.samplerate/e.samplerate,n.duration=1e3*n.buffer[0].length/n.samplerate,n.currentTime=0,n.plotFlush=!0,this.reverse(n.isReversed))}};Object.defineProperties(a,{buffer:{set:o,get:function(){var e=this._;return{samplerate:e.samplerate,channels:e.channels,buffer:e.buffer}}},pitch:{set:function(t){this._.pitch=e(t)},get:function(){return this._.pitch}},isLooped:{get:function(){return this._.isLooped}},isReversed:{get:function(){return this._.isReversed}},samplerate:{get:function(){return this._.samplerate}},duration:{get:function(){return this._.duration}},currentTime:{set:function(t){if("number"==typeof t){var n=this._;t>=0&&n.duration>=t&&(n.phase=t/1e3*n.samplerate,n.currentTime=t)}else t instanceof e.Object?this._.currentTimeObj=t:null===t&&(this._.currentTimeObj=null)},get:function(){return this._.currentTimeObj?this._.currentTimeObj:this._.currentTime}}}),a.clone=function(){var e=this._,t=n.clone(this);return e.buffer.length&&o.call(t,{buffer:e.buffer,samplerate:e.samplerate,channels:e.channels}),t.loop(e.isLooped),t.reverse(e.isReversed),t},a.slice=function(t,i){var r=this._,s=e(r.originkey),a=r.isReversed;if(r.buffer.length){if(t="number"==typeof t?0|.001*t*r.samplerate:0,i="number"==typeof i?0|.001*i*r.samplerate:r.buffer[0].length,t>i){var u=t;
t=i,i=u,a=!a}2===r.channels?o.call(s,{buffer:[n.pointer(r.buffer[0],t,i-t),n.pointer(r.buffer[1],t,i-t),n.pointer(r.buffer[2],t,i-t)],samplerate:r.samplerate}):o.call(s,{buffer:n.pointer(r.buffer[0],t,i-t),samplerate:r.samplerate}),s.playbackState=n.PLAYING_STATE}return s.loop(r.isLooped),s.reverse(r.isReversed),s},a.reverse=function(e){var t=this._;return t.isReversed=!!e,t.isReversed?(t.phaseIncr>0&&(t.phaseIncr*=-1),0===t.phase&&t.buffer.length&&(t.phase=t.buffer[0].length+t.phaseIncr)):0>t.phaseIncr&&(t.phaseIncr*=-1),this},a.loop=function(e){return this._.isLooped=!!e,this},a.bang=function(e){return this.playbackState=e===!1?n.FINISHED_STATE:n.PLAYING_STATE,this._.phase=0,this._.emit("bang"),this},a.process=function(e){var t=this._;if(!t.buffer.length)return this;if(this.tickID!==e){this.tickID=e;var i,r,s,a=this.cells[1],o=this.cells[2],u=t.phase,l=t.cellsize;if(2===t.channels?(r=t.buffer[1],s=t.buffer[2]):r=s=t.buffer[0],t.currentTimeObj){var c,h=t.currentTimeObj.process(e).cells[0],f=.001*t.samplerate;for(i=0;l>i;++i)c=h[i],u=c*f,a[i]=r[0|u]||0,o[i]=s[0|u]||0;t.phase=u,t.currentTime=c}else{var p=t.pitch.process(e).cells[0][0],d=t.phaseIncr*p;for(i=0;l>i;++i)a[i]=r[0|u]||0,o[i]=s[0|u]||0,u+=d;u>=r.length?n.nextTick(t.isLooped?t.onlooped:t.onended):0>u&&n.nextTick(t.isLooped?t.onlooped:t.onended),t.phase=u,t.currentTime+=n.currentTimeIncr}n.outputSignalAR(this)}return this};var u=e.Object.prototype.plot;a.plot=function(e){var t,n,i=this._;if(i.plotFlush){2===i.channels?(t=i.buffer[1],n=i.buffer[2]):t=n=i.buffer[0];for(var r=new Float32Array(2048),s=0,a=t.length/2048,o=0;2048>o;o++)r[o]=.5*(t[0|s]+n[0|s]),s+=a;i.plotData=r,i.plotFlush=null}return u.call(this,e)},n.register("buffer",t)}(timbre),function(e){"use strict";function t(t){e.Object.call(this,2,t),n.fixAR(this);var r=new i(this._.samplerate);r.setDelayTime(20),r.setRate(4),r.depth=20,r.feedback=.2,r.mix=.33,this._.chorus=r}var n=e.fn,i=e.modules.Chorus;n.extend(t);var r=t.prototype;Object.defineProperties(r,{type:{set:function(e){this._.chorus.setDelayTime(e)},get:function(){return this._.chorus.wave}},delay:{set:function(e){e>=.5&&80>=e&&this._.chorus.setDelayTime(e)},get:function(){return this._.chorus.delayTime}},rate:{set:function(e){"number"==typeof e&&e>0&&this._.chorus.setRate(e)},get:function(){return this._.chorus.rate}},depth:{set:function(e){"number"==typeof e&&e>=0&&100>=e&&(e*=this._.samplerate/44100,this._.chorus.depth=e)},get:function(){return this._.chorus.depth}},fb:{set:function(e){"number"==typeof e&&e>=-1&&1>=e&&(this._.chorus.feedback=.99996*e)},get:function(){return this._.chorus.feedback}},mix:{set:function(t){this._.mix=e(t)},get:function(){return this._.mix}}}),r.process=function(e){var t=this._;return this.tickID!==e&&(this.tickID=e,n.inputSignalAR(this),t.bypassed||t.chorus.process(this.cells[1],this.cells[2]),n.outputSignalAR(this)),this},n.register("chorus",t)}(timbre),function(e){"use strict";function t(t){e.Object.call(this,2,t);var n=this._;n.min=-.8,n.max=.8}var n=e.fn;n.extend(t);var i=t.prototype;Object.defineProperties(i,{minmax:{set:function(e){var t=this._;"number"==typeof e&&(t.min=-Math.abs(e),t.max=-t.min)},get:function(){return this._.max}},min:{set:function(e){var t=this._;"number"==typeof e&&(e>t.max?t.max=e:t.min=e)},get:function(){return this._.min}},max:{set:function(e){var t=this._;"number"==typeof e&&(t.min>e?t.min=e:t.max=e)},get:function(){return this._.max}}}),i.process=function(e){var t=this._;if(this.tickID!==e){this.tickID=e;var i,r,s=this.cells[1],a=this.cells[2],o=s.length,u=t.min,l=t.max;if(t.ar){for(n.inputSignalAR(this),i=0;o>i;++i)r=s[i],u>r?r=u:r>l&&(r=l),s[i]=r,r=a[i],u>r?r=u:r>l&&(r=l),a[i]=r;n.outputSignalAR(this)}else r=n.inputSignalKR(this),u>r?r=u:r>l&&(r=l),this.cells[0][0]=r,n.outputSignalKR(this)}return this},n.register("clip",t)}(timbre),function(e){"use strict";function t(t){e.Object.call(this,2,t),n.fixAR(this);var i=this._;i.prevThresh=-24,i.prevKnee=30,i.prevRatio=12,i.thresh=e(i.prevThresh),i.knee=e(i.prevKnee),i.ratio=e(i.prevRatio),i.postGain=6,i.reduction=0,i.attack=3,i.release=25,i.comp=new r(i.samplerate),i.comp.dbPostGain=i.postGain,i.comp.setAttackTime(.001*i.attack),i.comp.setReleaseTime(.001*i.release),i.comp.setPreDelayTime(6),i.comp.setParams(i.prevThresh,i.prevKnee,i.prevRatio)}var n=e.fn,i=e.timevalue,r=e.modules.Compressor;n.extend(t);var s=t.prototype;Object.defineProperties(s,{thresh:{set:function(t){this._.thresh=e(t)},get:function(){return this._.thresh}},thre:{set:function(t){this._.thresh=e(t)},get:function(){return this._.thre}},knee:{set:function(t){this._.kne=e(t)},get:function(){return this._.knee}},ratio:{set:function(t){this._.ratio=e(t)},get:function(){return this._.ratio}},gain:{set:function(e){"number"==typeof e&&(this._.comp.dbPostGain=e)},get:function(){return this._.comp.dbPostGain}},attack:{set:function(e){"string"==typeof e&&(e=i(e)),"number"==typeof e&&(e=0>e?0:e>1e3?1e3:e,this._.attack=e,this._.comp.setAttackTime(.001*e))},get:function(){return this._.attack}},release:{set:function(e){"string"==typeof e&&(e=i(e)),"number"==typeof e&&(e=0>e?0:e>1e3?1e3:e,this._.release=e,this._.comp.setReleaseTime(.001*e))},get:function(){return this._.release}},reduction:{get:function(){return this._.reduction}}}),s.process=function(e){var t=this._;if(this.tickID!==e){this.tickID=e,n.inputSignalAR(this);var i=t.thresh.process(e).cells[0][0],r=t.knee.process(e).cells[0][0],s=t.ratio.process(e).cells[0][0];(t.prevThresh!==i||t.prevKnee!==r||t.prevRatio!==s)&&(t.prevThresh=i,t.prevKnee=r,t.prevRatio=s,t.comp.setParams(i,r,s)),t.bypassed||(t.comp.process(this.cells[1],this.cells[2]),t.reduction=t.comp.meteringGain),n.outputSignalAR(this)}return this},n.register("comp",t)}(timbre),function(e){"use strict";function t(t){e.Object.call(this,2,t),n.fixAR(this);var i=this._;i.time=e(100),i.fb=e(.2),i.cross=e(!1),i.mix=.33,i.delay=new r(i.samplerate)}var n=e.fn,i=e.timevalue,r=e.modules.StereoDelay;n.extend(t);var s=t.prototype;Object.defineProperties(s,{time:{set:function(t){"string"==typeof t&&(t=i(t)),this._.time=e(t)},get:function(){return this._.time}},fb:{set:function(t){this._.fb=e(t)},get:function(){return this._.fb}},cross:{set:function(t){this._.cross=e(t)},get:function(){return this._.cross}},mix:{set:function(e){"number"==typeof e&&(e=e>1?1:0>e?0:e,this._.mix=e)},get:function(){return this._.mix}}}),s.process=function(e){var t=this._;if(this.tickID!==e){this.tickID=e;var i=t.time.process(e).cells[0][0],r=t.fb.process(e).cells[0][0],s=0!==t.cross.process(e).cells[0][0],a=t.mix;(t.prevTime!==i||t.prevFb!==r||t.prevCross!==s||t.prevMix!==a)&&(t.prevTime=i,t.prevFb=r,t.prevCross=s,t.prevMix=a,t.delay.setParams(i,r,s,a)),n.inputSignalAR(this),t.bypassed||t.delay.process(this.cells[1],this.cells[2]),n.outputSignalAR(this)}return this},n.register("delay",t)}(timbre),function(e){"use strict";function t(t){e.Object.call(this,2,t),n.fixAR(this);var i=this._;i.pre=e(60),i.post=e(-18),i.x1L=i.x2L=i.y1L=i.y2L=0,i.x1R=i.x2R=i.y1R=i.y2R=0,i.b0=i.b1=i.b2=i.a1=i.a2=0,i.cutoff=0,i.Q=1,i.preScale=0,i.postScale=0}var n=e.fn;n.extend(t);var i=t.prototype;Object.defineProperties(i,{cutoff:{set:function(e){"number"==typeof e&&e>0&&(this._.cutoff=e)},get:function(){return this._.cutoff}},pre:{set:function(t){this._.pre=e(t)},get:function(){return this._.pre}},post:{set:function(t){this._.post=e(t)},get:function(){return this._.post}}}),i.process=function(e){var t=this._;if(this.tickID!==e){this.tickID=e,n.inputSignalAR(this);var i=-t.pre.process(e).cells[0][0],s=-t.post.process(e).cells[0][0];if((t.prevPreGain!==i||t.prevPostGain!==s)&&(t.prevPreGain=i,t.prevPostGain=s,t.preScale=Math.pow(10,.05*-i),t.postScale=Math.pow(10,.05*-s)),!t.bypassed){var a,o,u,l,c,h=this.cells[1],f=this.cells[2],p=t.preScale,d=t.postScale;if(t.cutoff){t.prevCutoff!==t.cutoff&&(t.prevCutoff=t.cutoff,r(t));var m=t.x1L,v=t.x2L,g=t.y1L,y=t.y2L,b=t.x1R,_=t.x2R,x=t.y1R,w=t.y2R,k=t.b0,T=t.b1,S=t.b2,A=t.a1,I=t.a2;for(a=0,o=h.length;o>a;++a)l=h[a]*p,c=k*l+T*m+S*v-A*g-I*y,u=c*d,-1>u?u=-1:u>1&&(u=1),h[a]=u,v=m,m=l,y=g,g=c,l=f[a]*p,c=k*l+T*b+S*_-A*x-I*w,u=c*d,-1>u?u=-1:u>1&&(u=1),f[a]=u,_=b,b=l,w=x,x=c;t.x1L=m,t.x2L=v,t.y1L=g,t.y2L=y,t.x1R=b,t.x2R=_,t.y1R=x,t.y2R=w}else for(a=0,o=h.length;o>a;++a)u=h[a]*p*d,-1>u?u=-1:u>1&&(u=1),h[a]=u,u=f[a]*p*d,-1>u?u=-1:u>1&&(u=1),f[a]=u}n.outputSignalAR(this)}return this};var r=function(e){var t=2*Math.PI*e.cutoff/e.samplerate,n=Math.cos(t),i=Math.sin(t),r=i/(2*e.Q),s=1/(1+r);e.b0=.5*(1-n)*s,e.b1=1-n*s,e.b2=.5*(1-n)*s,e.a1=-2*n*s,e.a2=1-r*s};n.register("dist",t)}(timbre),function(e){"use strict";function t(t){e.Object.call(this,2,t),this._.ar=!1}var n=e.fn;n.extend(t);var i=t.prototype;i.process=function(e){var t=this._;if(this.tickID!==e){this.tickID=e;var i,r,s,a,o,u,l=this.nodes,c=this.cells[0],h=this.cells[1],f=this.cells[2],p=l.length,d=c.length;if(t.ar){if(l.length>0)for(l[0].process(e),a=l[0].cells[1],o=l[0].cells[2],h.set(a),f.set(o),i=1;p>i;++i)for(l[i].process(e),a=l[i].cells[1],o=l[i].cells[2],r=0;d>r;++r)u=a[r],h[r]=0===u?0:h[r]/u,u=o[r],f[r]=0===u?0:f[r]/u;else for(r=0;d>r;++r)h[r]=f[i]=0;n.outputSignalAR(this)}else{if(l.length>0)for(s=l[0].process(e).cells[0][0],i=1;p>i;++i)u=l[i].process(e).cells[0][0],s=0===u?0:s/u;else s=0;c[0]=s,n.outputSignalKR(this)}}return this},n.register("/",t)}(timbre),function(e){"use strict";function t(t){e.Object.call(this,2,t);var n=this._;n.env=new s(n.samplerate),n.env.setStep(n.cellsize),n.tmp=new i.SignalArray(n.cellsize),n.ar=!1,n.plotFlush=!0,n.onended=u(this),this.on("ar",o)}function n(e,t,n,i,r,s){var a=n;return"number"==typeof e[i]?a=e[i]:"number"==typeof e[r]?a=e[r]:s&&("string"==typeof e[i]?a=s(e[i]):"string"==typeof e[r]&&(a=s(e[r]))),t>a&&(a=t),a}var i=e.fn,r=e.timevalue,s=e.modules.Envelope,a=i.isDictionary;i.extend(t);var o=function(e){this._.env.setStep(e?1:this._.cellsize)},u=function(e){return function(){e._.emit("ended")}},l=t.prototype;Object.defineProperties(l,{table:{set:function(e){Array.isArray(e)&&(c.call(this,e),this._.plotFlush=!0)},get:function(){return this._.env.table}},curve:{set:function(e){this._.env.setCurve(e)},get:function(){return this._.env.curve}},releaseNode:{set:function(e){this._.env.setReleaseNode(e),this._.plotFlush=!0},get:function(){return this._.env.releaseNode+1}},loopNode:{set:function(e){this._.env.setLoopNode(e),this._.plotFlush=!0},get:function(){return this._.env.loopNode+1}}}),l.clone=function(){var e=i.clone(this);return e._.env=this._.env.clone(),e},l.reset=function(){return this._.env.reset(),this},l.release=function(){var e=this._;return e.env.release(),e.emit("released"),this},l.bang=function(){var e=this._;return e.env.reset(),e.env.status=s.StatusGate,e.emit("bang"),this},l.process=function(e){var t=this._;if(this.tickID!==e){this.tickID=e;var n,r=this.cells[1],s=this.cells[2],a=t.cellsize;if(this.nodes.length)i.inputSignalAR(this);else for(n=0;a>n;++n)r[n]=s[n]=1;var o,u=null;if(t.ar){var l=t.tmp;for(t.env.process(l),n=0;a>n;++n)r[n]*=l[n],s[n]*=l[n];u=t.env.emit}else{for(o=t.env.next(),n=0;a>n;++n)r[n]*=o,s[n]*=o;u=t.env.emit}i.outputSignalAR(this),u&&("ended"===u?i.nextTick(t.onended):this._.emit(u,t.value))}return this};var c=function(e){for(var t,n,i,a,o=this._.env,u=[e[0]||f],l=1,c=e.length;c>l;++l)t=e[l][0]||f,n=e[l][1],i=e[l][2],"number"!=typeof n&&(n="string"==typeof n?r(n):10),10>n&&(n=10),"number"==typeof i?(a=i,i=s.CurveTypeCurve):(i=s.CurveTypeDict[i]||null,a=0),u.push([t,n,i,a]);o.setTable(u)},h=e.Object.prototype.plot;l.plot=function(e){if(this._.plotFlush){var t,n,i=this._.env.clone(),r=i.getInfo(1e3),a=r.totalDuration,o=r.loopBeginTime,u=r.releaseBeginTime,l=new Float32Array(256),c=0,f=a/l.length,p=!1,d=0|.001*a*this._.samplerate;for(d/=l.length,i.setStep(d),i.status=s.StatusGate,t=0,n=l.length;n>t;++t)l[t]=i.next(),c+=f,!p&&c>=u&&(i.release(),p=!0);this._.plotData=l,this._.plotBefore=function(e,t,n,i,r){var s,l;1/0!==o&&1/0!==u&&(s=t+i*(o/a),l=t+i*(u/a),l-=s,e.fillStyle="rgba(224, 224, 224, 0.8)",e.fillRect(s,0,l,r)),1/0!==u&&(s=t+i*(u/a),l=i-s,e.fillStyle="rgba(212, 212, 212, 0.8)",e.fillRect(s,0,l,r))};var m=1/0,v=-1/0;for(t=0;n>t;++t)m>l[t]?m=l[t]:l[t]>v&&(v=l[t]);1>v&&(v=1),this._.plotRange=[m,v],this._.plotData=l,this._.plotFlush=null}return h.call(this,e)},i.register("env",t);var f=s.ZERO;i.register("perc",function(e){a(e[0])||e.unshift({});var i=e[0],s=n(i,10,10,"a","attackTime",r),o=n(i,10,1e3,"r","releaseTime",r),u=n(i,f,1,"lv","level");return i.table=[f,[u,s],[f,o]],new t(e)}),i.register("adsr",function(e){a(e[0])||e.unshift({});var i=e[0],s=n(i,10,10,"a","attackTime",r),o=n(i,10,300,"d","decayTime",r),u=n(i,f,.5,"s","sustainLevel"),l=n(i,10,1e3,"r","decayTime",r),c=n(i,f,1,"lv","level");return i.table=[f,[c,s],[u,o],[f,l]],i.releaseNode=3,new t(e)}),i.register("adshr",function(e){a(e[0])||e.unshift({});var i=e[0],s=n(i,10,10,"a","attackTime",r),o=n(i,10,300,"d","decayTime",r),u=n(i,f,.5,"s","sustainLevel"),l=n(i,10,500,"h","holdTime",r),c=n(i,10,1e3,"r","decayTime",r),h=n(i,f,1,"lv","level");return i.table=[f,[h,s],[u,o],[u,l],[f,c]],new t(e)}),i.register("asr",function(e){a(e[0])||e.unshift({});var i=e[0],s=n(i,10,10,"a","attackTime",r),o=n(i,f,.5,"s","sustainLevel"),u=n(i,10,1e3,"r","releaseTime",r);return i.table=[f,[o,s],[f,u]],i.releaseNode=2,new t(e)}),i.register("dadsr",function(e){a(e[0])||e.unshift({});var i=e[0],s=n(i,10,100,"dl","delayTime",r),o=n(i,10,10,"a","attackTime",r),u=n(i,10,300,"d","decayTime",r),l=n(i,f,.5,"s","sustainLevel"),c=n(i,10,1e3,"r","relaseTime",r),h=n(i,f,1,"lv","level");return i.table=[f,[f,s],[h,o],[l,u],[f,c]],i.releaseNode=4,new t(e)}),i.register("ahdsfr",function(e){a(e[0])||e.unshift({});var i=e[0],s=n(i,10,10,"a","attackTime",r),o=n(i,10,10,"h","holdTime",r),u=n(i,10,300,"d","decayTime",r),l=n(i,f,.5,"s","sustainLevel"),c=n(i,10,5e3,"f","fadeTime",r),h=n(i,10,1e3,"r","relaseTime",r),p=n(i,f,1,"lv","level");return i.table=[f,[p,s],[p,o],[l,u],[f,c],[f,h]],i.releaseNode=5,new t(e)}),i.register("linen",function(e){a(e[0])||e.unshift({});var i=e[0],s=n(i,10,10,"a","attackTime",r),o=n(i,10,1e3,"s","sustainTime",r),u=n(i,10,1e3,"r","releaseTime",r),l=n(i,f,1,"lv","level");return i.table=[f,[l,s],[l,o],[f,u]],new t(e)}),i.register("env.tri",function(e){a(e[0])||e.unshift({});var i=e[0],s=n(i,20,1e3,"dur","duration",r),o=n(i,f,1,"lv","level");return s*=.5,i.table=[f,[o,s],[f,s]],new t(e)}),i.register("env.cutoff",function(e){a(e[0])||e.unshift({});var i=e[0],s=n(i,10,100,"r","relaseTime",r),o=n(i,f,1,"lv","level");return i.table=[o,[f,s]],new t(e)})}(timbre),function(e){"use strict";function t(t){e.Object.call(this,2,t),n.fixAR(this);var i=this._;i.biquads=Array(7),i.plotBefore=o,i.plotRange=[-18,18],i.plotFlush=!0}var n=e.fn,i=e.modules.FFT,r=e.modules.Biquad,s=20,a={hpf:0,lf:1,lmf:2,mf:3,hmf:4,hf:5,lpf:6};n.extend(t);var o=function(e,t,n,i,r){e.lineWidth=1,e.strokeStyle="rgb(192, 192, 192)";for(var a=.5*this._.samplerate,o=1;10>=o;++o)for(var u=1;4>=u;u++){var l=o*Math.pow(10,u);if(!(s>=l||l>=a)){e.beginPath();var c=Math.log(l/s)/Math.log(a/s);c=(0|c*i+t)+.5,e.moveTo(c,n),e.lineTo(c,n+r),e.stroke()}}var h=r/6;for(o=1;6>o;o++){e.beginPath();var f=(0|n+o*h)+.5;e.moveTo(t,f),e.lineTo(t+i,f),e.stroke()}},u=t.prototype;Object.defineProperties(u,{params:{set:function(e){if("object"==typeof e)for(var t=Object.keys(e),n=0,i=t.length;i>n;++n){var r=e[t[n]];Array.isArray(r)?this.setParams(t[n],r[0],r[1],r[2]):this.setParams(t[n])}}}}),u.setParams=function(e,t,n,i){var s=this._;if("string"==typeof e&&(e=a[e]),e>=0&&s.biquads.length>e){if(e|=0,"number"==typeof t&&"number"==typeof n){"number"!=typeof i&&(i=0);var o=s.biquads[e];if(!o)switch(o=s.biquads[e]=new r(s.samplerate),e){case 0:o.setType("highpass");break;case s.biquads.length-1:o.setType("lowpass");break;default:o.setType("peaking")}o.setParams(t,n,i)}else s.biquads[e]=void 0;s.plotFlush=!0}return this},u.getParams=function(e){var t=this._,n=t.biquads[0|e];return n?{freq:n.frequency,Q:n.Q,gain:n.gain}:void 0},u.process=function(e){var t=this._;if(this.tickID!==e){if(this.tickID=e,n.inputSignalAR(this),!t.bypassed)for(var i=this.cells[1],r=this.cells[2],s=t.biquads,a=0,o=s.length;o>a;++a)s[a]&&s[a].process(i,r);n.outputSignalAR(this)}return this};var l=new i(2048),c=e.Object.prototype.plot;u.plot=function(e){if(this._.plotFlush){var t=this._,n=new Float32Array(l.length);n[0]=1;for(var i=0,a=t.biquads.length;a>i;++i){var o=this.getParams(i);if(o){var u=new r(t.samplerate);u.setType(0===i?"highpass":i===a-1?"lowpass":"peaking"),u.setParams(o.freq,o.Q,o.gain),u.process(n,n)}}l.forward(n);var h,f,p,d,m,v,g,y=512,b=new Float32Array(y),_=.5*t.samplerate,x=new Float32Array(y);for(l.getFrequencyData(x),i=0;y>i;++i)f=Math.pow(_/s,i/y)*s,h=f/(_/x.length),p=0|h,d=h-p,0===p?v=m=g=x[p]:(m=x[p-1],v=x[p],g=(1-d)*m+d*v),b[i]=g;this._.plotData=b,this._.plotFlush=null}return c.call(this,e)},n.register("eq",t)}(timbre),function(e){"use strict";function t(t){e.Object.call(this,2,t),n.listener(this),n.fixAR(this),this.real=new e.ChannelObject(this),this.imag=new e.ChannelObject(this),this.cells[3]=this.real.cell,this.cells[4]=this.imag.cell;var r=this._;r.fft=new i(2*r.cellsize),r.fftCell=new n.SignalArray(r.fft.length),r.prevCell=new n.SignalArray(r.cellsize),r.freqs=new n.SignalArray(r.fft.length>>1),r.plotFlush=!0,r.plotRange=[0,32],r.plotBarStyle=!0}var n=e.fn,i=e.modules.FFT;n.extend(t);var r=t.prototype;Object.defineProperties(r,{window:{set:function(e){this._.fft.setWindow(e)},get:function(){return this._.fft.windowName}},spectrum:{get:function(){return this._.fft.getFrequencyData(this._.freqs)}}}),r.process=function(e){var t=this._;if(this.tickID!==e){this.tickID=e,n.inputSignalAR(this),n.outputSignalAR(this);var i=this.cells[0],r=t.cellsize;t.fftCell.set(t.prevCell),t.fftCell.set(i,r),t.fft.forward(t.fftCell),t.prevCell.set(i),t.plotFlush=!0,this.cells[3].set(t.fft.real.subarray(0,r)),this.cells[4].set(t.fft.imag.subarray(0,r))}return this};var s=e.Object.prototype.plot;r.plot=function(e){return this._.plotFlush&&(this._.plotData=this.spectrum,this._.plotFlush=null),s.call(this,e)},n.register("fft",t)}(timbre),function(e){"use strict";function t(t){e.Object.call(this,1,t),n.fixAR(this);var i=this._;i.freq=e(440),i.reg=32768,i.shortFlag=!1,i.phase=0,i.lastValue=0}var n=e.fn;n.extend(t);var i=t.prototype;Object.defineProperties(i,{shortFlag:{set:function(e){this._.shortFlag=!!e},get:function(){return this._.shortFlag}},freq:{set:function(t){this._.freq=e(t)},get:function(){return this._.freq}}}),i.process=function(e){var t=this._,n=this.cells[0];if(this.tickID!==e){this.tickID=e;var i,r,s=t.lastValue,a=t.phase,o=t.freq.process(e).cells[0][0]/t.samplerate,u=t.reg,l=t.mul,c=t.add;if(t.shortFlag)for(i=0,r=n.length;r>i;++i)a>=1&&(u>>=1,u|=(1&(u^u>>6))<<15,s=(1&u)-.5,a-=1),n[i]=s*l+c,a+=o;else for(i=0,r=n.length;r>i;++i)a>=1&&(u>>=1,u|=(1&(u^u>>1))<<15,s=(1&u)-.5,a-=1),n[i]=s*l+c,a+=o;t.reg=u,t.phase=a,t.lastValue=s}return this},n.register("fnoise",t)}(timbre),function(e){"use strict";function t(t){e.Object.call(this,2,t),n.fixAR(this),this._.selected=0,this._.outputs=[]}var n=e.fn,i=function(){function t(t){e.Object.call(this,2,[]),n.fixAR(this),this._.parent=t}return n.extend(t),t.prototype.process=function(e){return this.tickID!==e&&(this.tickID=e,this._.parent.process(e)),this},t}();n.extend(t);var r=t.prototype;Object.defineProperties(r,{selected:{set:function(e){var t=this._;if("number"==typeof e){t.selected=e;for(var i=t.outputs,r=0,s=i.length;s>r;++r)i[r]&&(i[r].cells[0].set(n.emptycell),i[r].cells[1].set(n.emptycell),i[r].cells[2].set(n.emptycell))}},get:function(){return this._.selected}}}),r.at=function(e){var t=this._,n=t.outputs[e];return n||(t.outputs[e]=n=new i(this)),n},r.process=function(e){var t=this._;if(this.tickID!==e){this.tickID=e,n.inputSignalAR(this),n.outputSignalAR(this);var i=t.outputs[t.selected];i&&(i.cells[0].set(this.cells[0]),i.cells[1].set(this.cells[1]),i.cells[2].set(this.cells[2]))}return this},n.register("gate",t)}(timbre),function(e){"use strict";function t(t){e.Object.call(this,1,t),n.fixAR(this);var r=this._;r.fft=new i(2*r.cellsize),r.fftCell=new n.SignalArray(this._.fft.length),r.realBuffer=new n.SignalArray(this._.fft.length),r.imagBuffer=new n.SignalArray(this._.fft.length)}var n=e.fn,i=e.modules.FFT;n.extend(t);var r=t.prototype;Object.defineProperties(r,{real:{set:function(t){this._.real=e(t)},get:function(){return this._.real}},imag:{set:function(t){this._.imag=e(t)},get:function(){return this._.imag}}}),r.process=function(e){var t=this._;if(this.tickID!==e&&(this.tickID=e,t.real&&t.imag)){var i=this.cells[0],r=t.realBuffer,s=t.imagBuffer,a=t.real.process(e).cells[0],o=t.imag.process(e).cells[0];r.set(a),s.set(o),i.set(t.fft.inverse(r,s).subarray(0,t.cellsize)),n.outputSignalAR(this)}return this},n.register("ifft",t)}(timbre),function(e){"use strict";function t(t){e.Object.call(this,1,t),n.timer(this),n.fixKR(this);var i=this._;i.interval=e(1e3),i.count=0,i.delay=0,i.timeout=1/0,i.currentTime=0,i.delaySamples=0,i.countSamples=0,i.onended=n.make_onended(this),this.on("start",r)}var n=e.fn,i=e.timevalue;n.extend(t);var r=function(){var e=this._;this.playbackState=n.PLAYING_STATE,e.delaySamples=0|.001*e.samplerate*e.delay,e.countSamples=e.count=e.currentTime=0};Object.defineProperty(r,"unremovable",{value:!0,writable:!1});var s=t.prototype;Object.defineProperties(s,{interval:{set:function(t){"string"==typeof t&&(t=i(t),0>=t&&(t=0)),this._.interval=e(t)},get:function(){return this._.interval}},delay:{set:function(e){"string"==typeof e&&(e=i(e)),"number"==typeof e&&e>=0&&(this._.delay=e,this._.delaySamples=0|.001*this._.samplerate*e)},get:function(){return this._.delay}},count:{set:function(e){"number"==typeof e&&(this._.count=e)},get:function(){return this._.count}},timeout:{set:function(e){"string"==typeof e&&(e=i(e)),"number"==typeof e&&e>=0&&(this._.timeout=e)},get:function(){return this._.timeout}},currentTime:{get:function(){return this._.currentTime}}}),s.bang=function(){var e=this._;return this.playbackState=n.PLAYING_STATE,e.delaySamples=0|.001*e.samplerate*e.delay,e.countSamples=e.count=e.currentTime=0,e.emit("bang"),this},s.process=function(e){var t=this.cells[0],i=this._;if(this.tickID!==e){this.tickID=e,i.delaySamples>0&&(i.delaySamples-=t.length);var r=i.interval.process(e).cells[0][0];if(0>=i.delaySamples&&(i.countSamples-=t.length,0>=i.countSamples)){i.countSamples+=0|.001*i.samplerate*r;for(var s=this.nodes,a=i.count,o=a*i.mul+i.add,u=0,l=t.length;l>u;++u)t[u]=o;for(var c=0,h=s.length;h>c;++c)s[c].bang(a);i.count+=1}i.currentTime+=n.currentTimeIncr,i.currentTime>=i.timeout&&n.nextTick(i.onended)}return this},n.register("interval",t)}(timbre),function(e){"use strict";function t(t){e.Object.call(this,1,t),n.fixAR(this);var i=this._,r=Math.ceil(Math.log(i.samplerate)*Math.LOG2E);i.buffersize=1<<r,i.buffermask=i.buffersize-1,i.buffer=new n.SignalArray(i.buffersize),i.time=0,i.readIndex=0,i.writeIndex=0}var n=e.fn,i=e.timevalue;n.extend(t);var r=t.prototype;Object.defineProperties(r,{time:{set:function(e){if("string"==typeof e&&(e=i(e)),"number"==typeof e&&e>0){var t=this._;t.time=e;var n=0|.001*e*t.samplerate;n>t.buffermask&&(n=t.buffermask),t.writeIndex=t.readIndex+n&t.buffermask}},get:function(){return this._.time}}}),r.process=function(e){var t=this._;if(this.tickID!==e){this.tickID=e,n.inputSignalAR(this);var i,r=this.cells[0],s=t.buffer,a=t.buffermask,o=t.readIndex,u=t.writeIndex,l=r.length;for(i=0;l>i;++i)s[u]=r[i],r[i]=s[o],o+=1,u=u+1&a;t.readIndex=o&a,t.writeIndex=u,n.outputSignalAR(this)}return this},n.register("lag",t)}(timbre),function(e){"use strict";function t(t){e.Object.call(this,1,t);var n=this._;n.input=0,n.value=0,n.prev=null,n.ar=!1,n.map=i}var n=e.fn;n.extend(t);var i=function(e){return e},r=t.prototype;Object.defineProperties(r,{input:{set:function(e){"number"==typeof e&&(this._.input=e)},get:function(){return this._.input}},map:{set:function(e){"function"==typeof e&&(this._.map=e)},get:function(){return this._.map}}}),r.bang=function(){return this._.prev=null,this._.emit("bang"),this},r.at=function(e){return this._.map?this._.map(e):0},r.process=function(e){var t=this.cells[0],i=this._;if(this.tickID!==e){this.tickID=e;var r,s=this.nodes.length,a=t.length;if(i.ar&&s){n.inputSignalAR(this);var o=i.map;if(o)for(r=0;a>r;++r)t[r]=o(t[r]);i.value=t[a-1],n.outputSignalAR(this)}else{var u=s?n.inputSignalKR(this):i.input;i.map&&i.prev!==u&&(i.prev=u,i.value=i.map(u));var l=i.value*i.mul+i.add;for(r=0;a>r;++r)t[r]=l}}return this},n.register("map",t)}(timbre),function(e){"use strict";function t(t){e.Object.call(this,1,t)}var n=e.fn;n.extend(t);var i=t.prototype;i.process=function(e){var t=this.cells[0],i=this._;if(this.tickID!==e){this.tickID=e;var r,s,a,o,u=this.nodes,l=u.length,c=t.length;if(i.ar){if(u.length>0)for(a=u[0].process(e).cells[0],t.set(a),r=1;l>r;++r)for(a=u[r].process(e).cells[0],s=0;c>s;++s)o=a[s],o>t[s]&&(t[s]=o);else for(s=0;c>s;++s)t[s]=0;n.outputSignalAR(this)}else{if(u.length>0)for(a=u[0].process(e).cells[0][0],r=1;l>r;++r)o=u[r].process(e).cells[0][0],o>a&&(a=o);else a=0;t[0]=a,n.outputSignalKR(this)}}return this},n.register("max",t)}(timbre),function(e){"use strict";function t(t){e.Object.call(this,2,t),n.fixAR(this);var r=this._;r.src=r.func=null,r.bufferL=new n.SignalArray(i),r.bufferR=new n.SignalArray(i),r.readIndex=0,r.writeIndex=0,r.totalRead=0,r.totalWrite=0}if("browser"===e.envtype){var n=e.fn,i=4096,r=i-1;n.extend(t);var s=t.prototype;s.listen=function(t){var n=a[e.env];n&&(n.set.call(this,t),n.listen.call(this))},s.unlisten=function(){var t=a[e.env];t&&t.unlisten.call(this),this.cells[0].set(n.emptycell),this.cells[1].set(n.emptycell),this.cells[2].set(n.emptycell);for(var i=this._,r=i.bufferL,s=i.bufferR,o=0,u=r.length;u>o;++o)r[o]=s[o]=0},s.process=function(e){var t=this._;if(null===t.src)return this;if(this.tickID!==e){this.tickID=e;var i=t.cellsize;if(t.totalWrite>t.totalRead+i){var s=t.readIndex,a=s+i;this.cells[1].set(t.bufferL.subarray(s,a)),this.cells[2].set(t.bufferR.subarray(s,a)),t.readIndex=a&r,t.totalRead+=i}n.outputSignalAR(this)}return this};var a={};a.webkit={set:function(e){var t=this._;if(e instanceof HTMLMediaElement){var i=n._audioContext;t.src=i.createMediaElementSource(e)}},listen:function(){var e=this._,t=n._audioContext;e.gain=t.createGainNode(),e.gain.gain.value=0,e.node=t.createJavaScriptNode(1024,2,2),e.node.onaudioprocess=o(this),e.src.connect(e.node),e.node.connect(e.gain),e.gain.connect(t.destination)},unlisten:function(){var e=this._;e.src&&e.src.disconnect(),e.gain&&e.gain.disconnect(),e.node&&e.node.disconnect()}};var o=function(e){return function(t){var n=e._,i=t.inputBuffer,s=i.length,a=n.writeIndex;n.bufferL.set(i.getChannelData(0),a),n.bufferR.set(i.getChannelData(1),a),n.writeIndex=a+s&r,n.totalWrite+=s}};a.moz={set:function(e){var t=this._;e instanceof HTMLAudioElement&&(t.src=e,t.istep=t.samplerate/e.mozSampleRate)},listen:function(){var e=this._,t=e.bufferL,n=e.bufferR,i=0,s=0;2===e.src.mozChannels?(e.x=0,e.func=function(a){var o,u,l=e.writeIndex,c=e.totalWrite,h=a.frameBuffer,f=e.istep,p=h.length;for(o=e.x,u=0;p>u;u+=2){for(o+=f;o>0;)t[l]=.5*(h[u]+i),n[l]=.5*(h[u+1]+s),l=l+1&r,++c,o-=1;i=h[u],s=h[u+1]}e.x=o,e.writeIndex=l,e.totalWrite=c}):(e.x=0,e.func=function(s){var a,o,u=e.writeIndex,l=e.totalWrite,c=s.frameBuffer,h=e.istep,f=c.length;for(a=e.x,o=0;f>o;++o){for(a+=h;a>=0;)t[u]=n[u]=.5*(c[o]+i),u=u+1&r,++l,a-=1;i=c[o]}e.x=a,e.writeIndex=u,e.totalWrite=l}),e.src.addEventListener("MozAudioAvailable",e.func)},unlisten:function(){var e=this._;e.func&&(e.src.removeEventListener("MozAudioAvailable",e.func),e.func=null)}},n.register("mediastream",t)}}(timbre),function(e){"use strict";function t(t){e.Object.call(this,1,t);var n=this._;n.midi=0,n.value=0,n.prev=null,n.a4=440,n.ar=!1}var n=e.fn;n.extend(t);var i=t.prototype;Object.defineProperties(i,{midi:{set:function(e){"number"==typeof e&&(this._.midi=e)},get:function(){return this._.midi}},a4:{set:function(e){"number"==typeof e&&(this._.a4=e,this._.prev=null)},get:function(){return this._.a4}}}),i.bang=function(){return this._.prev=null,this._.emit("bang"),this},i.at=function(e){var t=this._;return t.a4*Math.pow(2,(e-69)/12)},i.process=function(e){var t=this._;if(this.tickID!==e){this.tickID=e;var i,r=this.cells[0],s=this.nodes.length,a=r.length;if(t.ar&&s){n.inputSignalAR(this);var o=t.a4;for(i=0;a>i;++i)r[i]=o*Math.pow(2,(r[i]-69)/12);t.value=r[a-1],n.outputSignalAR(this)}else{var u=s?n.inputSignalKR(this):t.midi;t.prev!==u&&(t.prev=u,t.value=t.a4*Math.pow(2,(u-69)/12)),r[0]=t.value,n.outputSignalKR(this)}}return this},n.register("midicps",t)}(timbre),function(e){"use strict";function t(t){e.Object.call(this,1,t);var n=this._;n.midi=0,n.value=0,n.prev=null,n.range=12,n.ar=!1}var n=e.fn;n.extend(t);var i=t.prototype;Object.defineProperties(i,{midi:{set:function(e){"number"==typeof e&&(this._.midi=e)},get:function(){return this._.midi}},range:{set:function(e){"number"==typeof e&&e>0&&(this._.range=e)},get:function(){return this._.range}}}),i.bang=function(){return this._.prev=null,this._.emit("bang"),this},i.at=function(e){var t=this._;return Math.pow(2,e/t.range)},i.process=function(e){var t=this.cells[0],i=this._;if(this.tickID!==e){this.tickID=e;var r,s=this.nodes.length,a=t.length;if(i.ar&&s){n.inputSignalAR(this);var o=i.range;for(r=0;a>r;++r)t[r]=Math.pow(2,t[r]/o);i.value=t[a-1],n.outputSignalAR(this)}else{var u=this.nodes.length?n.inputSignalKR(this):i.midi;i.prev!==u&&(i.prev=u,i.value=Math.pow(2,u/i.range));var l=i.value*i.mul+i.add;for(r=0;a>r;++r)t[r]=l}}return this},n.register("midiratio",t)}(timbre),function(e){"use strict";function t(t){e.Object.call(this,1,t)}var n=e.fn;n.extend(t);var i=t.prototype;i.process=function(e){var t=this.cells[0],i=this._;if(this.tickID!==e){this.tickID=e;var r,s,a,o,u=this.nodes,l=u.length,c=t.length;if(i.ar){if(u.length>0)for(a=u[0].process(e).cells[0],t.set(a),r=1;l>r;++r)for(a=u[r].process(e).cells[0],s=0;c>s;++s)o=a[s],t[s]>o&&(t[s]=o);else for(s=0;c>s;++s)t[s]=0;n.outputSignalAR(this)}else{if(u.length>0)for(a=u[0].process(e).cells[0][0],r=1;l>r;++r)o=u[r].process(e).cells[0][0],a>o&&(a=o);else a=0;t[0]=a,n.outputSignalKR(this)}}return this},n.register("min",t)}(timbre),function(e){"use strict";function t(t){e.Object.call(this,0,t),n.timer(this),n.fixKR(this);var r=this._;r.tracks=[],r.onended=n.make_onended(this),r.currentTime=0,this.on("start",i)}var n=e.fn;n.extend(t);var i=function(){var e=this,t=this._,i=t.mml;"string"==typeof i&&(i=[i]),t.tracks=i.map(function(t,n){return new s(e,n,t)}),t.currentTime=0,this.playbackState=n.PLAYING_STATE};Object.defineProperty(i,"unremoved",{value:!0,writable:!1});var r=t.prototype;Object.defineProperties(r,{mml:{set:function(e){var t=this._;("string"==typeof e||Array.isArray(e))&&(t.mml=e)},get:function(){return this._.mml}},currentTime:{get:function(){return this._.currentTime}}}),r.on=r.addListener=function(e,t){return"mml"===e&&void(e="data"),this._.events.on(e,t),this},r.once=function(e,t){return"mml"===e&&void(e="data"),this._.events.once(e,t),this},r.off=r.removeListener=function(e,t){return"mml"===e&&void(e="data"),this._.events.off(e,t),this},r.removeAllListeners=function(e){return"mml"===e&&(e="data"),this._.events.removeAllListeners(e),this},r.listeners=function(e){return"mml"===e&&(e="data"),this._.events.listeners(e)},r.process=function(e){var t=this._;if(this.tickID!==e){this.tickID=e;var i,r,s=t.tracks;for(i=0,r=s.length;r>i;++i)s[i].process();for(;i--;)s[i].ended&&s.splice(i,1);0===s.length&&n.nextTick(t.onended),t.currentTime+=n.currentTimeIncr}return this},n.register("mml",t);var s=function(){function e(e,t,n){var i=this._={};i.sequencer=e,i.trackNum=t,i.commands=c(n),i.status={t:120,l:4,o:4,v:12,q:6,dot:0,tie:!1},i.index=0,i.queue=[],i.currentTime=0,i.queueTime=0,i.segnoIndex=-1,i.loopStack=[],i.prevNote=0,i.remain=1/0,this.ended=!1,l(this)}var t=0,i=1,r=2,s=3;e.prototype.process=function(){var e=this._,c=e.sequencer,h=e.trackNum,f=e.queue,p=!1;if(f.length)for(;f[0][0]<=e.currentTime;){var d=e.queue.shift();
switch(d[1]){case i:a(c,h,d[2],d[3]),e.remain=d[4],l(this);break;case r:o(c,h,d[2],d[3]);break;case s:u(c,d[2]);break;case t:p=!0}if(0===f.length)break}e.remain-=n.currentTimeIncr,p&&(this.ended=!0),e.currentTime+=n.currentTimeIncr};var a=function(e,t,n,i){var r,s,a,o=e.nodes;for(s=0,a=o.length;a>s;++s)r=o[s],r.noteOn?r.noteOn(n,i):r.bang();e._.emit("data","noteOn",{trackNum:t,noteNum:n,velocity:i})},o=function(e,t,n,i){var r,s,a,o=e.nodes;for(s=0,a=o.length;a>s;++s)r=o[s],r.noteOff?r.noteOff(n,i):r.release&&r.release();e._.emit("data","noteOff",{trackNum:t,noteNum:n,velocity:i})},u=function(e,t){e._.emit("data","command",{command:t})},l=function(e){var n=e._;n.sequencer;var a,o,u,l,c,h,f,p,d,m,v,g,y,b=n.commands,_=n.queue,x=n.index,w=n.status,k=n.queueTime,T=n.loopStack;d=[];e:for(;;){if(x>=b.length){if(!(n.segnoIndex>=0))break;x=n.segnoIndex}switch(a=b[x++],a.name){case"@":_.push([k,s,a.val]);break;case"n":if(o=w.t||120,null!==a.len?(l=a.len,c=a.dot||0):(l=w.l,c=a.dot||w.dot),f=6e4/o*(4/l),f*=[1,1.5,1.75,1.875][c]||1,h=w.v<<3,w.tie){for(g=_.length;g--;)if(_[g][2]){_.splice(g,1);break}u=n.prevNote}else u=n.prevNote=a.val+12*(w.o+1),_.push([k,i,u,h,f]);if(l>0){if(p=w.q/8,1>p)for(m=k+f*p,_.push([m,r,u,h]),g=0,y=d.length;y>g;++g)_.push([m,r,d[g],h]);if(d=[],k+=f,!w.tie)break e}else d.push(u);w.tie=!1;break;case"r":o=w.t||120,null!==a.len?(l=a.len,c=a.dot||0):(l=w.l,c=a.dot||w.dot),l>0&&(f=6e4/o*(4/l),f*=[1,1.5,1.75,1.875][c]||1,k+=f);break;case"l":w.l=a.val,w.dot=a.dot;break;case"o":w.o=a.val;break;case"<":9>w.o&&(w.o+=1);break;case">":w.o>0&&(w.o-=1);break;case"v":w.v=a.val;break;case"(":15>w.v&&(w.v+=1);break;case")":w.v>0&&(w.v-=1);break;case"q":w.q=a.val;break;case"&":w.tie=!0;break;case"$":n.segnoIndex=x;break;case"[":T.push([x,null,null]);break;case"|":v=T[T.length-1],v&&1===v[1]&&(T.pop(),x=v[2]);break;case"]":v=T[T.length-1],v&&(null===v[1]&&(v[1]=a.count,v[2]=x),v[1]-=1,0===v[1]?T.pop():x=v[0]);break;case"t":w.t=null===a.val?120:a.val;break;case"EOF":_.push([k,t])}}n.index=x,n.queueTime=k},c=function(e){var t,n,i,r,s,a,o,u,l=Array(e.length),c=[];for(s=0,a=h.length;a>s;++s)for(t=h[s],n=t.re;i=n.exec(e);){if(!l[i.index]){for(o=0,u=i[0].length;u>o;++o)l[i.index+o]=!0;r=t.func?t.func(i):{name:i[0]},r&&(r.index=i.index,r.origin=i[0],c.push(r))}for(;n.lastIndex<e.length&&l[n.lastIndex];)++n.lastIndex}return c.sort(function(e,t){return e.index-t.index}),c.push({name:"EOF"}),c},h=[{re:/@(\d*)/g,func:function(e){return{name:"@",val:e[1]||null}}},{re:/([cdefgab])([\-+]?)(\d*)(\.*)/g,func:function(e){return{name:"n",val:{c:0,d:2,e:4,f:5,g:7,a:9,b:11}[e[1]]+({"-":-1,"+":1}[e[2]]||0),len:""===e[3]?null:Math.min(0|e[3],64),dot:e[4].length}}},{re:/r(\d*)(\.*)/g,func:function(e){return{name:"r",len:""===e[1]?null:Math.max(1,Math.min(0|e[1],64)),dot:e[2].length}}},{re:/&/g},{re:/l(\d*)(\.*)/g,func:function(e){return{name:"l",val:""===e[1]?4:Math.min(0|e[1],64),dot:e[2].length}}},{re:/o([0-9])/g,func:function(e){return{name:"o",val:""===e[1]?4:0|e[1]}}},{re:/[<>]/g},{re:/v(\d*)/g,func:function(e){return{name:"v",val:""===e[1]?12:Math.min(0|e[1],15)}}},{re:/[()]/g},{re:/q([0-8])/g,func:function(e){return{name:"q",val:""===e[1]?6:Math.min(0|e[1],8)}}},{re:/\[/g},{re:/\|/g},{re:/\](\d*)/g,func:function(e){return{name:"]",count:0|e[1]||2}}},{re:/t(\d*)/g,func:function(e){return{name:"t",val:""===e[1]?null:Math.max(5,Math.min(0|e[1],300))}}},{re:/\$/g}];return e}()}(timbre),function(e){"use strict";function t(t){e.Object.call(this,1,t)}var n=e.fn;n.extend(t),t.prototype.process=function(e){var t=this._;return this.tickID!==e&&(this.tickID=e,t.ar?(n.inputSignalAR(this),n.outputSignalAR(this)):(this.cells[0][0]=n.inputSignalKR(this),n.outputSignalKR(this))),this},n.register("mono",t)}(timbre),function(e){"use strict";function t(t){e.Object.call(this,2,t)}var n=e.fn;n.extend(t);var i=t.prototype;i.process=function(e){var t=this._;if(this.tickID!==e){this.tickID=e;var i,r,s,a,o,u=this.nodes,l=this.cells[0],c=this.cells[1],h=this.cells[2],f=u.length,p=l.length;if(t.ar){if(u.length>0)for(u[0].process(e),a=u[0].cells[1],o=u[0].cells[2],c.set(a),h.set(o),i=1;f>i;++i)for(u[i].process(e),a=u[i].cells[1],o=u[i].cells[2],r=0;p>r;++r)c[r]*=a[r],h[r]*=o[r];else for(r=0;p>r;++r)c[r]=h[r]=0;n.outputSignalAR(this)}else{if(u.length>0)for(s=u[0].process(e).cells[0][0],i=1;f>i;++i)s*=u[i].process(e).cells[0][0];else s=0;l[0]=s,n.outputSignalKR(this)}}return this},n.register("*",t)}(timbre),function(e){"use strict";function t(t){e.Object.call(this,1,t);var n=this._;n.defaultValue=0,n.index=0,n.dict={},n.ar=!1}var n=e.fn;n.extend(t);var i=t.prototype;Object.defineProperties(i,{dict:{set:function(e){if("object"==typeof e)this._.dict=e;else if("function"==typeof e){for(var t={},n=0;128>n;++n)t[n]=e(n);this._.dict=t}},get:function(){return this._.dict}},defaultValue:{set:function(e){"number"==typeof e&&(this._.defaultValue=e)},get:function(){return this._.defaultValue}},index:{set:function(e){"number"==typeof e&&(this._.index=e)},get:function(){return this._.index}}}),i.at=function(e){var t=this._;return(t.dict[0|e]||t.defaultValue)*t.mul+t.add},i.clear=function(){return this._.dict={},this},i.process=function(e){var t=this.cells[0],i=this._;if(this.tickID!==e){this.tickID=e;var r,s,a,o=this.nodes.length,u=i.dict,l=i.defaultValue,c=i.mul,h=i.add,f=t.length;if(i.ar&&o){for(n.inputSignalAR(this),a=0;f>a;++a)r=t[a],r=0>r?0|r-.5:0|r+.5,t[a]=(u[r]||l)*c+h;n.outputSignalAR(this)}else for(r=this.nodes.length?n.inputSignalKR(this):i.index,r=0>r?0|r-.5:0|r+.5,s=(u[r]||l)*c+h,a=0;f>a;++a)t[a]=s}return this},n.register("ndict",t)}(timbre),function(e){"use strict";function t(t){e.Object.call(this,1,t)}var n=e.fn;n.extend(t);var i=t.prototype;i.process=function(e){var t=this.cells[0],n=this._;if(this.tickID!==e){this.tickID=e;var i,r,s,a=n.mul,o=n.add;if(n.ar)for(i=0,r=t.length;r>i;++i)t[i]=(2*Math.random()-1)*a+o;else for(s=(2*Math.random()+1)*a+o,i=0,r=t.length;r>i;++i)t[i]=s}return this},n.register("noise",t)}(timbre),function(e){"use strict";function t(t){e.Object.call(this,2,t);var i=this._;i.freq=e(440),i.phase=e(0),i.osc=new r(i.samplerate),i.tmp=new n.SignalArray(i.cellsize),i.osc.step=i.cellsize,this.once("init",s)}var n=e.fn,i=e.timevalue,r=e.modules.Oscillator;n.extend(t);var s=function(){var e=this._;this.wave||(this.wave="sin"),e.plotData=e.osc.wave,e.plotLineWidth=2,e.plotCyclic=!0,e.plotBefore=o},a=t.prototype;Object.defineProperties(a,{wave:{set:function(e){this._.osc.setWave(e)},get:function(){return this._.osc.wave}},freq:{set:function(t){"string"==typeof t&&(t=i(t),t=0>=t?0:1e3/t),this._.freq=e(t)},get:function(){return this._.freq}},phase:{set:function(t){this._.phase=e(t),this._.osc.feedback=!1},get:function(){return this._.phase}},fb:{set:function(t){this._.phase=e(t),this._.osc.feedback=!0},get:function(){return this._.phase}}}),a.clone=function(){var e=n.clone(this);return e._.osc=this._.osc.clone(),e._.freq=this._.freq,e._.phase=this._.phase,e},a.bang=function(){return this._.osc.reset(),this._.emit("bang"),this},a.process=function(e){var t=this._;if(this.tickID!==e){this.tickID=e;var i,r=this.cells[1],s=this.cells[2],a=t.cellsize;if(this.nodes.length)n.inputSignalAR(this);else for(i=0;a>i;++i)r[i]=s[i]=1;var o=t.osc,u=t.freq.process(e).cells[0],l=t.phase.process(e).cells[0];if(o.frequency=u[0],o.phase=l[0],t.ar){var c=t.tmp;for(t.freq.isAr?t.phase.isAr?o.processWithFreqAndPhaseArray(c,u,l):o.processWithFreqArray(c,u):t.phase.isAr?o.processWithPhaseArray(c,l):o.process(c),i=0;a>i;++i)r[i]*=c[i],s[i]*=c[i]}else{var h=o.next();for(i=0;a>i;++i)r[i]*=h,s[i]*=h}n.outputSignalAR(this)}return this};var o;"browser"===e.envtype&&(o=function(e,t,n,i,r){var s=(r>>1)+.5;e.strokeStyle="#ccc",e.lineWidth=1,e.beginPath(),e.moveTo(t,s+n),e.lineTo(t+i,s+n),e.stroke()}),n.register("osc",t),n.register("sin",function(e){return new t(e).set("wave","sin")}),n.register("cos",function(e){return new t(e).set("wave","cos")}),n.register("pulse",function(e){return new t(e).set("wave","pulse")}),n.register("tri",function(e){return new t(e).set("wave","tri")}),n.register("saw",function(e){return new t(e).set("wave","saw")}),n.register("fami",function(e){return new t(e).set("wave","fami")}),n.register("konami",function(e){return new t(e).set("wave","konami")}),n.register("+sin",function(e){return new t(e).set("wave","+sin").kr()}),n.register("+pulse",function(e){return new t(e).set("wave","+pulse").kr()}),n.register("+tri",function(e){return new t(e).set("wave","+tri").kr()}),n.register("+saw",function(e){return new t(e).set("wave","+saw").kr()}),n.alias("square","pulse")}(timbre),function(e){"use strict";function t(t){e.Object.call(this,2,t),n.fixAR(this);var i=this._;i.pos=e(0),i.panL=.5,i.panR=.5}var n=e.fn;n.extend(t);var i=t.prototype;Object.defineProperties(i,{pos:{set:function(t){this._.pos=e(t)},get:function(){return this._.pos}}}),i.process=function(e){var t=this._;if(this.tickID!==e){this.tickID=e;var i=t.pos.process(e).cells[0][0];t.prevPos!==i&&(t.panL=1-i,t.panR=t.prevPos=i);var r,s,a,o=this.nodes,u=this.cells[1],l=this.cells[2],c=o.length,h=u.length;if(c){for(a=o[0].process(e).cells[0],s=0;h>s;++s)u[s]=l[s]=a[s];for(r=1;c>r;++r)for(a=o[r].process(e).cells[0],s=0;h>s;++s)u[s]=l[s]+=a[s];var f=t.panL,p=t.panR;for(s=0;h>s;++s)u[s]=u[s]*f,l[s]=l[s]*p}else u.set(n.emptycell),l.set(n.emptycell);n.outputSignalAR(this)}return this},n.register("pan",t)}(timbre),function(e){"use strict";function t(t){e.Object.call(this,2,t);var n=this._;n.value=0,n.env=new s(n.samplerate),n.env.step=n.cellsize,n.curve="lin",n.counter=0,n.ar=!1,n.onended=a(this),this.on("ar",o)}var n=e.fn,i=e.timevalue,r=e.modules.Envelope,s=e.modules.EnvelopeValue;n.extend(t);var a=function(e,t){return function(){if("number"==typeof t)for(var n=e.cells[0],i=e.cells[1],r=e.cells[2],s=e._.env.value,a=0,o=i.length;o>a;++a)n[0]=i[a]=r[a]=s;e._.emit("ended")}},o=function(e){this._.env.step=e?1:this._.cellsize},u=t.prototype;Object.defineProperties(u,{value:{set:function(e){"number"==typeof e&&(this._.env.value=e)},get:function(){return this._.env.value}}}),u.to=function(e,t,n){var s=this._,a=s.env;if("string"==typeof t?t=i(t):void 0===t&&(t=0),void 0===n)s.counter=a.setNext(e,t,r.CurveTypeLin),s.curve="lin";else{var o=r.CurveTypeDict[n];s.counter=void 0===o?a.setNext(e,t,r.CurveTypeCurve,n):a.setNext(e,t,o),s.curve=n}return s.plotFlush=!0,this},u.setAt=function(e,t){var n=this._;return this.to(n.env.value,t,"set"),n.atValue=e,this},u.linTo=function(e,t){return this.to(e,t,"lin")},u.expTo=function(e,t){return this.to(e,t,"exp")},u.sinTo=function(e,t){return this.to(e,t,"sin")},u.welTo=function(e,t){return this.to(e,t,"wel")},u.sqrTo=function(e,t){return this.to(e,t,"sqr")},u.cubTo=function(e,t){return this.to(e,t,"cub")},u.cancel=function(){var e=this._;return e.counter=e.env.setNext(e.env.value,0,r.CurveTypeSet),this},u.process=function(e){var t=this._;if(this.tickID!==e){this.tickID=e;var i,s,a=this.cells[1],o=this.cells[2],u=t.cellsize,l=t.env,c=t.counter;if(this.nodes.length)n.inputSignalAR(this);else for(i=0;u>i;++i)a[i]=o[i]=1;if(0>=c&&("set"===t.curve?l.setNext(t.atValue,0,r.CurveTypeSet):l.setNext(l.value,0,r.CurveTypeSet),n.nextTick(t.onended),t.counter=1/0),t.ar){for(i=0;u>i;++i)s=l.next(),a[i]*=s,o[i]*=s;t.counter-=t.cellsize}else{for(s=l.next(),i=0;u>i;++i)a[i]*=s,o[i]*=s;t.counter-=1}n.outputSignalAR(this),t.value=s}return this};var l=e.Object.prototype.plot;u.plot=function(e){var t=this._;if(t.plotFlush){var n,i,a,o=new s(128),u=new Float32Array(128);if("set"===t.curve)for(i=100,a=u.length;a>i;++i)u[i]=1;else for(n=r.CurveTypeDict[t.curve],void 0===n?o.setNext(1,1e3,r.CurveTypeCurve,t.curve):o.setNext(1,1e3,n),i=0,a=u.length;a>i;++i)u[i]=o.next();t.plotData=u,t.plotRange=[0,1],t.plotFlush=null}return l.call(this,e)},n.register("param",t)}(timbre),function(e){"use strict";function t(t){e.Object.call(this,2,t),n.fixAR(this);var i=this._;i.freq=e("sin",{freq:1,add:1e3,mul:250}).kr(),i.Q=e(1),i.allpass=[],this.steps=2}var n=e.fn,i=e.modules.Biquad;n.extend(t);var r=t.prototype;Object.defineProperties(r,{freq:{set:function(e){this._.freq=e},get:function(){return this._.freq}},Q:{set:function(t){this._.Q=e(t)},get:function(){return this._.Q}},steps:{set:function(e){if("number"==typeof e){if(e|=0,2===e||4===e||8===e||12===e){var t=this._.allpass;if(e>t.length)for(var n=t.length;e>n;++n)t[n]=new i(this._.samplerate),t[n].setType("allpass")}this._.steps=e}},get:function(){return this._.steps}}}),r.process=function(e){var t=this._;if(this.tickID!==e){if(this.tickID=e,n.inputSignalAR(this),!t.bypassed){var i,r=this.cells[1],s=this.cells[2],a=t.freq.process(e).cells[0][0],o=t.Q.process(e).cells[0][0],u=t.steps;for(i=0;u>i;i+=2)t.allpass[i].setParams(a,o,0),t.allpass[i].process(r,s),t.allpass[i+1].setParams(a,o,0),t.allpass[i+1].process(r,s)}n.outputSignalAR(this)}return this},n.register("phaser",t)}(timbre),function(e){"use strict";function t(t){e.Object.call(this,1,t),i.fixAR(this);for(var n=new Uint8Array(5),r=0;5>r;++r)n[r]=(0|Math.random()*(1<<30))%25;this._.whites=n,this._.key=0}var n=31,i=e.fn;i.extend(t);var r=t.prototype;r.process=function(e){var t=this.cells[0],i=this._;if(this.tickID!==e){this.tickID=e;var r,s,a,o,u,l,c=i.key,h=i.whites,f=i.mul,p=i.add;for(r=0,s=t.length;s>r;++r){for(o=c++,c>n&&(c=0),l=o^c,a=u=0;5>a;++a)l&1<<a&&(h[a]=(0|Math.random()*(1<<30))%25),u+=h[a];t[r]=(.01666666*u-1)*f+p}i.key=c}return this},i.register("pink",t)}(timbre),function(e){"use strict";function t(t){e.Object.call(this,1,t),this._.freq=440,this._.buffer=null,this._.index=0}var n=e.fn;n.extend(t);var i=t.prototype;Object.defineProperties(i,{freq:{set:function(e){"number"==typeof e&&(0>e&&(e=0),this._.freq=e)},get:function(){return this._.freq}}}),i.bang=function(){for(var e=this._,t=e.freq,i=0|e.samplerate/t+.5,r=e.buffer=new n.SignalArray(i),s=0;i>s;++s)r[s]=2*Math.random()-1;return e.index=0,e.emit("bang"),this},i.process=function(e){var t=this.cells[0],n=this._;if(this.tickID!==e){this.tickID=e;var i=n.buffer;if(i){var r,s,a,o=i.length,u=n.index,l=n.mul,c=n.add,h=t.length;for(a=0;h>a;++a)r=u,s=i[u++],u>=o&&(u=0),s=.5*(s+i[u]),i[r]=s,t[a]=s*l+c;n.index=u}}return this},n.register("pluck",t)}(timbre),function(e){"use strict";function t(t){e.Object.call(this,1,t),n.listener(this),n.fixAR(this);var i=this._;i.timeout=5e3,i.status=r,i.writeIndex=0,i.writeIndexIncr=1,i.currentTime=0,i.currentTimeIncr=1e3/i.samplerate,i.onended=a(this)}var n=e.fn,i=e.timevalue,r=0,s=1;n.extend(t);var a=function(e){return function(){var t=e._,i=new n.SignalArray(t.buffer.subarray(0,0|t.writeIndex));t.status=r,t.writeIndex=0,t.currentTime=0,t.emit("ended",{buffer:i,samplerate:t.samplerate})}},o=t.prototype;Object.defineProperties(o,{timeout:{set:function(e){"string"==typeof e&&(e=i(e)),"number"==typeof e&&e>0&&(this._.timeout=e)},get:function(){return this._.timeout}},samplerate:{set:function(e){"number"==typeof e&&e>0&&this._.samplerate>=e&&(this._.samplerate=e)},get:function(){return this._.samplerate}},currentTime:{get:function(){return this._.currentTime}}}),o.start=function(){var t,i=this._;return i.status===r&&(t=0|.01*i.timeout*i.samplerate,(!i.buffer||t>i.buffer.length)&&(i.buffer=new n.SignalArray(t)),i.writeIndex=0,i.writeIndexIncr=i.samplerate/e.samplerate,i.currentTime=0,i.status=s,i.emit("start"),this.listen()),this},o.stop=function(){var e=this._;return e.status===s&&(e.status=r,e.emit("stop"),n.nextTick(e.onended),this.unlisten()),this},o.bang=function(){return this._.status===r?this.srart():this._.status===s&&this.stop(),this._.emit("bang"),this},o.process=function(e){var t=this._,i=this.cells[0];if(this.tickID!==e){if(this.tickID=e,n.inputSignalAR(this),t.status===s){var r,a=i.length,o=t.buffer,u=t.timeout,l=t.writeIndex,c=t.writeIndexIncr,h=t.currentTime,f=t.currentTimeIncr;for(r=0;a>r;++r)o[0|l]=i[r],l+=c,h+=f,h>=u&&n.nextTick(t.onended);t.writeIndex=l,t.currentTime=h}n.outputSignalAR(this)}return this},n.register("record",t),n.alias("rec","record")}(timbre),function(e){"use strict";function t(t){e.Object.call(this,2,t),n.fixAR(this),this._.reverb=new i(this._.samplerate,this._.cellsize)}var n=e.fn,i=e.modules.Reverb;n.extend(t);var r=t.prototype;Object.defineProperties(r,{room:{set:function(e){"number"==typeof e&&(e=e>1?1:0>e?0:e,this._.reverb.setRoomSize(e))},get:function(){return this._.reverb.roomsize}},damp:{set:function(e){"number"==typeof e&&(e=e>1?1:0>e?0:e,this._.reverb.setDamp(e))},get:function(){return this._.reverb.damp}},mix:{set:function(e){"number"==typeof e&&(e=e>1?1:0>e?0:e,this._.reverb.wet=e)},get:function(){return this._.reverb.wet}}}),r.process=function(e){var t=this._;return this.tickID!==e&&(this.tickID=e,n.inputSignalAR(this),t.bypassed||t.reverb.process(this.cells[1],this.cells[2]),n.outputSignalAR(this)),this},n.register("reverb",t)}(timbre),function(e){"use strict";function t(t){e.Object.call(this,0,t),n.timer(this),n.fixKR(this);var i=this._;i.queue=[],i.currentTime=0,i.maxRemain=1e3}var n=e.fn,i=e.timevalue;n.extend(t);var r=t.prototype;Object.defineProperties(r,{queue:{get:function(){return this._.queue}},remain:{get:function(){return this._.queue.length}},maxRemain:{set:function(e){"number"==typeof e&&e>0&&(this._.maxRemain=e)},get:function(){return this._.maxRemain}},isEmpty:{get:function(){return 0===this._.queue.length}},currentTime:{get:function(){return this._.currentTime}}}),r.sched=function(e,t,n){return"string"==typeof e&&(e=i(e)),"number"==typeof e&&this.schedAbs(this._.currentTime+e,t,n),this},r.schedAbs=function(t,n,r){if("string"==typeof t&&(t=i(t)),"number"==typeof t){var s=this._,a=s.queue;if(a.length>=s.maxRemain)return this;for(var o=a.length;o--&&!(t>a[o][0]););a.splice(o+1,0,[t,e(n),r])}return this},r.advance=function(e){return"string"==typeof e&&(e=i(e)),"number"==typeof e&&(this._.currentTime+=e),this},r.clear=function(){return this._.queue.splice(0),this},r.process=function(e){var t=this._;if(this.tickID!==e){this.tickID=e;var i=null,r=t.queue;if(r.length)for(;r[0][0]<t.currentTime;){var s=t.queue.shift();if(s[1].bang(s[2]),i="sched",0===r.length){i="empty";break}}t.currentTime+=n.currentTimeIncr,i&&t.emit(i)}return this},n.register("schedule",t),n.alias("sched","schedule")}(timbre),function(e){"use strict";function t(t){e.Object.call(this,2,t),n.listener(this),n.fixAR(this);var i=this._;i.samples=0,i.writeIndex=0,i.plotFlush=!0,this.once("init",r)}var n=e.fn,i=e.timevalue;n.extend(t);var r=function(){this._.buffer||(this.size=1024),this._.interval||(this.interval=1e3)},s=t.prototype;Object.defineProperties(s,{size:{set:function(e){var t=this._;if(!t.buffer&&"number"==typeof e){var i=64>e?64:e>2048?2048:e;t.buffer=new n.SignalArray(i),t.reservedinterval&&(this.interval=t.reservedinterval,t.reservedinterval=null)}},get:function(){return this._.buffer.length}},interval:{set:function(e){var t=this._;"string"==typeof e&&(e=i(e)),"number"==typeof e&&e>0&&(t.buffer?(t.interval=e,t.samplesIncr=.001*e*t.samplerate/t.buffer.length,1>t.samplesIncr&&(t.samplesIncr=1)):t.reservedinterval=e)},get:function(){return this._.interval}},buffer:{get:function(){return this._.buffer}}}),s.bang=function(){for(var e=this._,t=e.buffer,n=0,i=t.length;i>n;++n)t[n]=0;return e.samples=0,e.writeIndex=0,this._.emit("bang"),this},s.process=function(e){var t=this._;if(this.tickID!==e){this.tickID=e,n.inputSignalAR(this),n.outputSignalAR(this);var i,r=this.cells[0],s=t.cellsize,a=t.samples,o=t.samplesIncr,u=t.buffer,l=t.writeIndex,c=!1,h=u.length;for(i=0;s>i;++i)0>=a&&(u[l++]=r[i],l>=h&&(l=0),c=t.plotFlush=!0,a+=o),--a;t.samples=a,t.writeIndex=l,c&&this._.emit("data")}return this};var a=e.Object.prototype.plot;s.plot=function(e){var t=this._;if(t.plotFlush){for(var n=t.buffer,i=n.length-1,r=new Float32Array(n.length),s=t.writeIndex,o=0,u=n.length;u>o;o++)r[o]=n[++s&i];t.plotData=r,t.plotFlush=null}return a.call(this,e)},n.register("scope",t)}(timbre),function(e){"use strict";function t(t){e.Object.call(this,2,t),r.fixAR(this);var n=this._;n.numberOfInputs=0,n.numberOfOutputs=0,n.bufferSize=0,n.bufferMask=0,n.duration=0,n.inputBufferL=null,n.inputBufferR=null,n.outputBufferL=null,n.outputBufferR=null,n.onaudioprocess=null,n.index=0,this.once("init",s)}function n(e,t){this.samplerate=e._.samplerate,this.length=e._.bufferSize,this.duration=e._.duration,this.numberOfChannels=t.length,this.getChannelData=function(e){return t[e]}}function i(t){var i=t._;this.node=t,this.playbackTime=e.currentTime,this.inputBuffer=2===i.numberOfInputs?new n(t,[i.inputBufferL,i.inputBufferR]):new n(t,[i.inputBufferL]),this.outputBuffer=2===i.numberOfOutputs?new n(t,[i.outputBufferL,i.outputBufferR]):new n(t,[i.outputBufferL])}var r=e.fn;r.extend(t);var s=function(){var e=this._;0===e.numberOfInputs&&(this.numberOfInputs=1),0===e.numberOfOutputs&&(this.numberOfOutputs=1),0===e.bufferSize&&(this.bufferSize=1024)},a=t.prototype;Object.defineProperties(a,{numberOfInputs:{set:function(e){var t=this._;0===t.numberOfInputs&&(t.numberOfInputs=2===e?2:1)},get:function(){return this._.numberOfInputs}},numberOfOutputs:{set:function(e){var t=this._;0===t.numberOfOutputs&&(t.numberOfOutputs=2===e?2:1)},get:function(){return this._.numberOfOutputs}},bufferSize:{set:function(e){var t=this._;0===t.bufferSize&&-1!==[256,512,1024,2048,4096,8192,16384].indexOf(e)&&(t.bufferSize=e,t.bufferMask=e-1,t.duration=e/t.samplerate,t.inputBufferL=new r.SignalArray(e),t.inputBufferR=new r.SignalArray(e),t.outputBufferL=new r.SignalArray(e),t.outputBufferR=new r.SignalArray(e))},get:function(){return this._.bufferSize}},onaudioprocess:{set:function(e){"function"==typeof e&&(this._.onaudioprocess=e)},get:function(){return this._.onaudioprocess}}}),a.process=function(e){var t=this._;if(this.tickID!==e){this.tickID=e;var n,s=t.cellsize,a=t.bufferMask,o=t.index,u=o+s,l=this.cells[1],c=this.cells[2];if(r.inputSignalAR(this),2===t.numberOfInputs)t.inputBufferL.set(l,o),t.inputBufferR.set(c,o);else{n=t.inputBufferL;for(var h=0;s>h;h++)n[o+h]=.5*(l[h]+c[h])}l.set(t.outputBufferL.subarray(o,u)),c.set(t.outputBufferR.subarray(o,u)),t.index=u&a,0===t.index&&t.onaudioprocess&&(t.onaudioprocess(new i(this)),1===t.numberOfOutputs&&t.outputBufferR.set(t.outputBufferL)),r.outputSignalAR(this)}return this},r.register("script",t)}(timbre),function(e){"use strict";function t(t){e.Object.call(this,2,t),this._.selected=0,this._.background=!1}var n=e.fn;n.extend(t);var i=t.prototype;Object.defineProperties(i,{selected:{set:function(e){"number"==typeof e&&(this._.selected=e,this.cells[1].set(n.emptycell),this.cells[2].set(n.emptycell))},get:function(){return this._.selected}},background:{set:function(e){this._.background=!!e},get:function(){return this._.background}}}),i.process=function(e){var t=this._;if(this.tickID!==e){this.tickID=e;var i,r=this.nodes,s=r.length;if(t.background)for(i=0;s>i;++i)r[i].process(e);var a=r[t.selected];a&&(t.background||a.process(e),this.cells[1].set(a.cells[1]),this.cells[2].set(a.cells[2])),n.outputSignalAR(this)}return this},n.register("selector",t)}(timbre),function(e){"use strict";function t(t){e.Object.call(this,2,t),n.listener(this),n.fixAR(this);var i=this._;i.status=s,i.samples=0,i.samplesIncr=0,i.writeIndex=0,i.plotFlush=!0,i.plotRange=[0,32],i.plotBarStyle=!0,this.once("init",o)}var n=e.fn,i=e.timevalue,r=e.modules.FFT,s=0,a=1;n.extend(t);var o=function(){var e=this._;e.fft||(this.size=512),e.interval||(this.interval=500)},u=t.prototype;Object.defineProperties(u,{size:{set:function(e){var t=this._;if(!t.fft&&"number"==typeof e){var i=256>e?256:e>2048?2048:e;t.fft=new r(i),t.buffer=new n.SignalArray(t.fft.length),t.freqs=new n.SignalArray(t.fft.length>>1),t.reservedwindow&&(t.fft.setWindow(t.reservedwindow),t.reservedwindow=null),t.reservedinterval&&(this.interval=t.reservedinterval,t.reservedinterval=null)}},get:function(){return this._.buffer.length}},window:{set:function(e){this._.fft.setWindow(e)},get:function(){return this._.fft.windowName}},interval:{set:function(e){var t=this._;"string"==typeof e&&(e=i(e)),"number"==typeof e&&e>0&&(t.buffer?(t.interval=e,t.samplesIncr=.001*e*t.samplerate,t.samplesIncr<t.buffer.length&&(t.samplesIncr=t.buffer.length,t.interval=1e3*t.samplesIncr/t.samplerate)):t.reservedinterval=e)},get:function(){return this._.interval}},spectrum:{get:function(){return this._.fft.getFrequencyData(this._.freqs)}},real:{get:function(){return this._.fft.real}},imag:{get:function(){return this._.fft.imag}}}),u.bang=function(){return this._.samples=0,this._.writeIndex=0,this._.emit("bang"),this},u.process=function(e){var t=this._;if(this.tickID!==e){this.tickID=e,n.inputSignalAR(this),n.outputSignalAR(this);var i,r,o=this.cells[0],u=o.length,l=t.status,c=t.samples,h=t.samplesIncr,f=t.writeIndex,p=t.buffer,d=p.length;for(i=0;u>i;++i)0>=c&&l===s&&(l=a,f=0,c+=h),l===a&&(p[f++]=o[i],f>=d&&(t.fft.forward(p),r=t.plotFlush=!0,l=s)),--c;t.samples=c,t.status=l,t.writeIndex=f,r&&this._.emit("data")}return this};var l=e.Object.prototype.plot;u.plot=function(e){return this._.plotFlush&&(this._.plotData=this.spectrum,this._.plotFlush=null),l.call(this,e)},n.register("spectrum",t)}(timbre),function(e){"use strict";function t(t){e.Object.call(this,2,t),this._.ar=!1}var n=e.fn;n.extend(t);var i=t.prototype;i.process=function(e){var t=this._;if(this.tickID!==e){this.tickID=e;var i,r,s,a,o,u=this.nodes,l=this.cells[0],c=this.cells[1],h=this.cells[2],f=u.length,p=l.length;if(t.ar){if(u.length>0)for(u[0].process(e),a=u[0].cells[1],o=u[0].cells[2],c.set(a),h.set(o),i=1;f>i;++i)for(u[i].process(e),a=u[i].cells[1],o=u[i].cells[2],r=0;p>r;++r)c[r]-=a[r],h[r]-=o[r];else for(r=0;p>r;++r)c[r]=h[i]=0;n.outputSignalAR(this)}else{if(u.length>0)for(s=u[0].process(e).cells[0][0],i=1;f>i;++i)s-=u[i].process(e).cells[0][0];else s=0;l[0]=s,n.outputSignalKR(this)}}return this},n.register("-",t)}(timbre),function(e){"use strict";function t(t){e.Object.call(this,2,t),n.fixAR(this);var i=this._;this.playbackState=n.FINISHED_STATE,i.poly=4,i.genList=[],i.genDict={},i.synthdef=null,i.remGen=s(this),i.onended=n.make_onended(this)}var n=e.fn;n.extend(t);var i=t.prototype;Object.defineProperties(i,{def:{set:function(e){"function"==typeof e&&(this._.synthdef=e)},get:function(){return this._.synthdef}},poly:{set:function(e){"number"==typeof e&&e>0&&64>=e&&(this._.poly=e)},get:function(){return this._.poly}}});var r=function(e,t){return function(){e._.remGen(t.gen)}},s=function(e){return function(t){var n=e._,i=n.genList.indexOf(t);-1!==i&&n.genList.splice(i,1),void 0!==t.noteNum&&(n.genDict[t.noteNum]=null)}},a=function(t,i,s,a){s|=0,0>=s?this.noteOff(this,t):s>127&&(s=127);var o=this._,u=o.genList,l=o.genDict,c=l[t];c&&o.remGen(c);var h={freq:i,noteNum:t,velocity:s,mul:.0078125*s};if(a)for(var f in a)h[f]=a[f];h.doneAction=r(this,h),c=o.synthdef.call(this,h),c instanceof e.Object&&(c.noteNum=t,u.push(c),l[t]=h.gen=c,this.playbackState=n.PLAYING_STATE,u.length>o.poly&&o.remGen(u[0]))},o=function(){for(var e=new Float32Array(128),t=0;128>t;++t)e[t]=440*Math.pow(2,1*(t-69)/12);return e}(),u=function(e){return e>0?12*Math.log(1*e/440)*Math.LOG2E+69:0};i.noteOn=function(e,t,n){var i=o[e]||440*Math.pow(2,(e-69)/12);return a.call(this,0|e+.5,i,t,n),this},i.noteOff=function(e){var t=this._.genDict[e];return t&&t.release&&t.release(),this},i.noteOnWithFreq=function(e,t,n){var i=u(e);return a.call(this,0|i+.5,e,t,n),this},i.noteOffWithFreq=function(e){var t=u(e);return this.noteOff(0|t+.5)},i.allNoteOff=function(){for(var e=this._.genList,t=0,n=e.length;n>t;++t)e[t].release&&e[t].release()},i.allSoundOff=function(){for(var e=this._,t=e.genList,n=e.genDict;t.length;)delete n[t.shift().noteNum]},i.synth=function(t){var i,s=this._,a=s.genList,o={};if(t)for(var u in t)o[u]=t[u];return o.doneAction=r(this,o),i=s.synthdef.call(this,o),i instanceof e.Object&&(a.push(i),o.gen=i,this.playbackState=n.PLAYING_STATE,a.length>s.poly&&s.remGen(a[0])),this},i.process=function(e){var t=this.cells[0],i=this._;if(this.tickID!==e){if(this.tickID=e,this.playbackState===n.PLAYING_STATE){var r,s,a,o,u,l,c=i.genList,h=this.cells[1],f=this.cells[2],p=t.length;if(c.length)for(r=c[0],r.process(e),h.set(r.cells[1]),f.set(r.cells[2]),s=1,a=c.length;a>s;++s)for(r=c[s],r.process(e),u=r.cells[1],l=r.cells[2],o=0;p>o;++o)h[o]+=u[o],f[o]+=l[o];else n.nextTick(i.onended)}n.outputSignalAR(this)}return this},n.register("SynthDef",t);var l={set:function(t){n.isDictionary(t)?"string"==typeof t.type&&(this._.env=t):t instanceof e.Object&&(this._.env=t)},get:function(){return this._.env}};n.register("OscGen",function(){var n={set:function(t){t instanceof e.Object&&(this._.osc=t)},get:function(){return this._.osc}},i={set:function(e){"string"==typeof e&&(this._.wave=e)},get:function(){return this._.wave}},r=function(t){var n,i,r,s,a=this._;return i=a.osc||null,r=a.env||{},s=r.type||"perc",i instanceof e.Object&&"function"==typeof i.clone&&(i=i.clone()),i||(i=e("osc",{wave:a.wave})),i.freq=t.freq,i.mul=i.mul*t.velocity/128,n=i,r instanceof e.Object?"function"==typeof r.clone&&(n=r.clone().append(n)):n=e(s,r,n),n.on("ended",t.doneAction).bang(),n};return function(e){var s=new t(e);return s._.wave="sin",Object.defineProperties(s,{env:l,osc:n,wave:i}),s.def=r,s}}()),n.register("PluckGen",function(){var n=function(t){var n,i,r,s=this._;return i=s.env||{},r=i.type||"perc",n=e("pluck",{freq:t.freq,mul:t.velocity/128}).bang(),i instanceof e.Object?"function"==typeof i.clone&&(n=i.clone().append(n)):n=e(r,i,n),n.on("ended",t.doneAction).bang(),n};return function(e){var i=new t(e);return Object.defineProperties(i,{env:l}),i.def=n,i}}())}(timbre),function(e){"use strict";function t(t){e.Object.call(this,2,t),n.fixAR(this);var i=this._;i.isLooped=!1,i.onended=n.make_onended(this,0)}var n=e.fn,i=e.modules.Scissor,r=i.Tape,s=i.TapeStream,a=n.isSignalArray;n.extend(t);var o=t.prototype;Object.defineProperties(o,{tape:{set:function(t){t instanceof r?(this.playbackState=n.PLAYING_STATE,this._.tape=t,this._.tapeStream=new s(t,this._.samplerate),this._.tapeStream.isLooped=this._.isLooped):(t instanceof e.Object&&t.buffer&&(t=t.buffer),"object"==typeof t&&Array.isArray(t.buffer)&&a(t.buffer[0])&&(this.playbackState=n.PLAYING_STATE,this._.tape=new i(t),this._.tapeStream=new s(this._.tape,this._.samplerate),this._.tapeStream.isLooped=this._.isLooped))},get:function(){return this._.tape}},isLooped:{get:function(){return this._.isLooped}},buffer:{get:function(){return this._.tape?this._.tape.getBuffer():void 0}}}),o.loop=function(e){return this._.isLooped=!!e,this._.tapeStream&&(this._.tapeStream.isLooped=this._.isLooped),this},o.bang=function(){return this.playbackState=n.PLAYING_STATE,this._.tapeStream&&this._.tapeStream.reset(),this._.emit("bang"),this},o.getBuffer=function(){return this._.tape?this._.tape.getBuffer():void 0},o.process=function(e){var t=this._;if(this.tickID!==e){this.tickID=e;var i=t.tapeStream;if(i){var r=this.cells[1],s=this.cells[2],a=i.fetch(r.length);r.set(a[0]),s.set(a[1]),this.playbackState===n.PLAYING_STATE&&i.isEnded&&n.nextTick(t.onended)}n.outputSignalAR(this)}return this},n.register("tape",t)}(timbre),function(e){"use strict";function t(t){e.Object.call(this,1,t),n.timer(this);var i=this._;this.playbackState=n.FINISHED_STATE,i.task=[],i.i=0,i.j=0,i.imax=0,i.jmax=0,i.wait=0,i.count=0,i.args={},i.doNum=1,i.initFunc=n.nop,i.onended=a(this),this.on("start",s)}var n=e.fn,i=e.timevalue,r=e(function(){}).constructor;n.extend(t);var s=function(){var e,t=this._;this.playbackState=n.PLAYING_STATE,t.task=this.nodes.map(function(e){return e instanceof r?e.func:!1}).filter(function(e){return!!e}),t.i=t.j=0,t.imax=t.doNum,t.jmax=t.task.length,e=t.initFunc(),n.isDictionary(e)||(e={param:e}),t.args=e},a=function(e){return function(){e.playbackState=n.FINISHED_STATE;var t=e._,i=e.cells[0],r=e.cells[1],s=e.cells[2],a=t.args;if("number"==typeof a)for(var o=0,u=r.length;u>o;++o)i[0]=r[o]=s[o]=a;t.emit("ended",t.args)}},o=t.prototype;Object.defineProperties(o,{"do":{set:function(e){"number"==typeof e&&e>0&&(this._.doNum=1/0===e?1/0:0|e)},get:function(){return this._.doNum}},init:{set:function(e){"function"==typeof e&&(this._.initFunc=e)
},get:function(){return this._.initFunc}}}),o.bang=function(){var e=this._;return e.count=0,e.emit("bang"),this},o.wait=function(e){return"string"==typeof e&&(e=i(e)),"number"==typeof e&&e>0&&(this._.count+=0|.001*this._.samplerate*e),this},o.process=function(e){var t,i=this.cells[0],r=this._;if(this.tickID!==e&&(this.tickID=e,r.i<r.imax)){for(;0>=r.count;){if(r.j>=r.jmax){if(++r.i,r.i>=r.imax){n.nextTick(r.onended);break}r.j=0}t=r.task[r.j++],t&&t.call(this,r.i,r.args)}r.count-=i.length}return this},n.register("task",t)}(timbre),function(e){"use strict";function t(t){e.Object.call(this,0,t),n.timer(this),n.fixKR(this);var i=this._;this.playbackState=n.FINISHED_STATE,i.currentTime=0,i.samplesMax=0,i.samples=0,i.onended=n.make_onended(this),this.once("init",r),this.on("start",s)}var n=e.fn,i=e.timevalue;n.extend(t);var r=function(){this._.timeout||(this.timeout=1e3)},s=function(){this.playbackState=n.PLAYING_STATE};Object.defineProperty(s,"unremovable",{value:!0,writable:!1});var a=t.prototype;Object.defineProperties(a,{timeout:{set:function(e){var t=this._;"string"==typeof e&&(e=i(e)),"number"==typeof e&&e>=0&&(this.playbackState=n.PLAYING_STATE,t.timeout=e,t.samplesMax=0|.001*t.samplerate*e,t.samples=t.samplesMax)},get:function(){return this._.timeout}},currentTime:{get:function(){return this._.currentTime}}}),a.bang=function(){var e=this._;return this.playbackState=n.PLAYING_STATE,e.samples=e.samplesMax,e.currentTime=0,e.emit("bang"),this},a.process=function(e){var t=this.cells[0],i=this._;if(this.tickID!==e){if(this.tickID=e,i.samples>0&&(i.samples-=t.length),0>=i.samples){for(var r=this.nodes,s=0,a=r.length;a>s;++s)r[s].bang();n.nextTick(i.onended)}i.currentTime+=n.currentTimeIncr}return this},n.register("timeout",t)}(timbre),function(e){"use strict";function t(t){e.Object.call(this,1,t),n.fixAR(this),this._.curve=null}var n=e.fn;n.extend(t);var i=t.prototype;Object.defineProperties(i,{curve:{set:function(e){n.isSignalArray(e)&&(this._.curve=e)},get:function(){return this._.curve}}}),i.process=function(e){var t=this._;if(this.tickID!==e){if(this.tickID=e,n.inputSignalAR(this),t.curve){var i,r,s=this.cells[0],a=t.curve,o=a.length,u=t.cellsize;for(r=0;u>r;++r)i=0|.5*(s[r]+1)*o+.5,0>i?i=0:i>=o-1&&(i=o-1),s[r]=a[i]}n.outputSignalAR(this)}return this},n.register("waveshaper",t)}(timbre),function(e){"use strict";function t(t){e.Object.call(this,1,t);var n=this._;n.inMin=0,n.inMax=1,n.outMin=0,n.outMax=1,n.ar=!1,this.once("init",i)}var n=e.fn;n.extend(t);var i=function(){this._.warp||(this.warp="linlin")},r=t.prototype;Object.defineProperties(r,{inMin:{set:function(e){"number"==typeof e&&(this._.inMin=e)},get:function(){return this._.inMin}},inMax:{set:function(e){"number"==typeof e&&(this._.inMax=e)},get:function(){return this._.inMax}},outMin:{set:function(e){"number"==typeof e&&(this._.outMin=e)},get:function(){return this._.outMin}},outMax:{set:function(e){"number"==typeof e&&(this._.outMax=e)},get:function(){return this._.outMax}},warp:{set:function(e){if("string"==typeof e){var t=s[e];t&&(this._.warp=t,this._.warpName=e)}},get:function(){return this._.warpName}}}),r.process=function(e){var t=this._,i=this.cells[0];if(this.tickID!==e){this.tickID=e;var r,s=t.inMin,a=t.inMax,o=t.outMin,u=t.outMax,l=t.warp,c=this.nodes.length,h=t.mul,f=t.add,p=i.length;if(t.ar&&c){for(n.inputSignalAR(this),r=0;p>r;++r)i[r]=l(i[r],s,a,o,u)*h+f;n.outputSignalAR(this)}else{var d=this.nodes.length?n.inputSignalKR(this):0,m=l(d,s,a,o,u)*h+f;for(r=0;p>r;++r)i[r]=m}}return this};var s={linlin:function(e,t,n,i,r){return t>e?i:e>n?r:n===t?i:(e-t)/(n-t)*(r-i)+i},linexp:function(e,t,n,i,r){return t>e?i:e>n?r:0===i?0:n===t?r:Math.pow(r/i,(e-t)/(n-t))*i},explin:function(e,t,n,i,r){return t>e?i:e>n?r:0===t?r:Math.log(e/t)/Math.log(n/t)*(r-i)+i},expexp:function(e,t,n,i,r){return t>e?i:e>n?r:0===t||0===i?0:Math.pow(r/i,Math.log(e/t)/Math.log(n/t))*i}};n.register("zmap",t)}(timbre),$(function(){var e=function(){var t,n=[0,0],i=["vic","alicante","jump"],r={jump:[[64,66,68],[70,74,77],[64,66,68]],vic:[[64,66,68],[67,70,74],[64,66,68]],alicante:[[70,74,77],[72,74,76],[72,76,79]]},s=[],a={},o=[64,65,66,67,68,70,71,72,74,76,77,79,81],u=function(){for(var e=[],t=0,n=T("OscGen",{env:T("perc",{ar:!0,r:216e3})}).play(),i=0;20>i;i++)e.push(T("OscGen",{env:T("perc",{ar:!0})}).play());return function(i,r){if("undefined"!=typeof r){if(r)return n.noteOn(i,13);n.allSoundOff()}return t++&&t>=e.length&&(t=0),e[t].noteOn(i,10)}}(),l=function(){$("svg","#level, #final").each(function(){var e=$(this),t=e.attr("width"),n=e.attr("height"),i=e.parents("#level, #final").width();e.css({width:i,height:Math.floor(n/(t/i))})})},c=function(){var e=["music to my ears!","sweet!","very nice!","amazing!","fantastic!"];$(".notice").remove(),$('<div class="notice"/>').text(e[Math.floor(Math.random()*e.length)]).insertBefore("#level")},h=function(){$("#level path").each(function(){var e=$(this),t=e.parent().children().index(e),n=parseInt((e.attr("fill")||"").slice(1),16)||!1;e.data("synaesthetic",{index:t,color:n}),n&&(a[n]=0)});var e=0,t=Math.ceil(Object.keys(a).length/(o.length-1));$.each(a,function(n){a[n]=o[Math.floor(e++/t)]})},f=function(){var e=$(this).data("synaesthetic");u(a[e.color])},p=function(){$(this).data("synaesthetic")},d=function(){var o=$(this).data("synaesthetic"),l=r[i[n[0]-1]][n[1]-1];s.push(a[o.color]),s.toString()!==l.slice(0,s.length).toString()?(u(void 0,!1),s[0]&&u(s[0]),s[1]&&u(s[1]),s[2]&&u(s[2]),s=[],$("[data-highlight]").removeAttr("data-highlight")):(clearTimeout(t),$(this).attr("data-highlight","true").appendTo($(this).parent()),u(a[o.color],!0)),s.length===l.length&&e.advance()};return{state:function(t,i){return n=[t||0,i||0],e},advance:function(){s=[],e.pastFirstLevel=!0,u(void 0,!1);var t=r[i[n[0]-1]][n[1]-1];if(u(t[0]),u(t[1]),u(t[2]),n[1]++<3)return e.level(c);var a="assets/svg/"+i[n[0]-1]+"/final.jpg";return n[0]++,n[1]=1,$.cookie("level",n[0]),$.cookie("point",n[1]),$.wait(500).then(function(){$("#level").fadeOut(function(){$(this).html($("<img/>").attr("src",a).one("click",function(){e.level()}))}).fadeIn(c)}),e},level:function(t){if($("body").addClass("level-open"),$("body").toggleClass("played",n[0]>1||n[1]>1),"undefined"==typeof i[n[0]-1])return e.end();$.cookie("level",n[0]),$.cookie("point",n[1]),$("body").addClass("whitenoise-fix");var s=$.ajax("assets/svg/"+i[n[0]-1]+"/"+n[1]+".svg"),a=$("#level").is(":empty");$.wait(a?0:1e3).then(function(){$.when(s,$("#level").fadeOut(a?0:void 0)).done(function(s){$("#level").html(document.importNode(s[0].documentElement,!0)).fadeIn(function(){$("body").removeClass("whitenoise-fix"),t&&t(),e.pastFirstLevel&&$.wait(400).then(function(){var e=r[i[n[0]-1]][n[1]-1];u(e[0]),u(e[1]),u(e[2])})}),h(),l(),e.help()})})},setup:function(){var t=!1;return function(){return t?e:($(window).resize(l),$("#level").on("mouseenter","path",f).on("mouseleave","path",p).on("click","path",d),$(window).keydown(function(e){if(32===e.which&&$("#level").is(":visible")){var t=r[i[n[0]-1]][n[1]-1];return u(t[0]),u(t[1]),u(t[2]),!1}}),$("#help button").click(function(){$("body").addClass("whitenoise-fix"),$("#help").fadeOut(function(){$("#level path").filter(function(){return r[i[n[0]-1]][n[1]-1][0]===a[$(this).data("synaesthetic").color]}).attr("data-highlight","true").first().click(),$("body").removeClass("whitenoise-fix")})}),t=!0,e)}}(),end:function(t){return $(".notice").remove(),$("#level, #level-footer").fadeOut(function(){$("#level").empty()}),$("#final").addClass("open"),$("#final-header").show(),$.ajax("assets/svg/endgame.svg").done(function(e){$("#final").prepend(document.importNode(e.documentElement,!0)),l(),t&&t()}),$.cookie("level",1),$.cookie("point",1),e},help:function(){clearTimeout(t),t=setTimeout(function(){return!$("#level").is(":visible")||$("#explanation").is(":visible")||$("#level img").is(":visible")?e.help():void $("#help").fadeIn()},15e3)},playFirstChord:function(){var e=r[i[n[0]-1]][n[1]-1];u(e[0]),u(e[1]),u(e[2])},pastFirstLevel:$.cookie("level")>1||$.cookie("point")>1}}();$("body").toggleClass("unsupported","undefined"!=typeof InstallTrigger),$(".js-start").click(function(){var t=this;$(this).attr("data-continue")?($("body").addClass("level-open whitenoise-fix"),$("#level").removeAttr("style").hide().delay(500).fadeIn(function(){$("body").removeClass("whitenoise-fix")})):(e.setup().state($.cookie("level")||1,$.cookie("point")||1).level(function(){$(t).attr("data-continue","true").text("CONTINUE")}),e.pastFirstLevel||$("#explanation").fadeIn(function(){$.wait(3600).then(function(){$("#explanation button").removeClass("disabled").prop("disabled",!1).html("let&rsquo;s play")})}))}),$(".js-reset").click(function(){e.pastFirstLevel=!1,e.setup().state(1,1).level(function(){$(".js-start").attr("data-continue","true").text("CONTINUE")}),$("#explanation").fadeIn(function(){$.wait(3600).then(function(){$("#explanation button").removeClass("disabled").prop("disabled",!1).html("let&rsquo;s play")})})}),$("#explanation button").click(function(){var t=$(this).text("turn up your volume").prop("disabled",!0),n=setInterval(function(){t.text(function(){return t.text()+"."})},500);setTimeout(function(){clearInterval(n),$("#explanation").fadeOut(function(){$(this).remove(),e.playFirstChord()}),e.pastFirstLevel||e.help()},1999)}),e.pastFirstLevel&&($(".js-start").text("CONTINUE"),$("body").addClass("played")),$("#level-footer h1").click(function(){$(window).scrollTop(0),$("#level").hide(),$("body").removeClass("level-open")}),$("#final-header h1").click(function(){$(window).scrollTop(0),$("#final").removeClass("open"),$("#final-header").hide(),$("body").removeClass("level-open")});var t;$(window).scroll(function(){$("body").addClass("whitenoise-fix"),clearTimeout(t),t=setTimeout(function(){$("body").removeClass("whitenoise-fix")},300)}),$(".js-about-toggle").click(function(){$("#about").hasClass("open")?$("#about").removeClass("open").one("transitionend",function(){$(this).hide().off("transitionend","*"),this.offsetWidth=this.offsetWidth}).on("transitionend","*",function(e){e.stopPropagation()}):($("#about").show(),$("#about")[0].offsetWidth=$("#about")[0].offsetWidth,$("#about").addClass("open"))})}),"syna.es"===document.location.hostname&&history.replaceState&&history.replaceState({},document.title,"/thetic"),$.wait=function(e){return $.Deferred(function(t){setTimeout(t.resolve,e)}).promise()},function(e){"function"==typeof define&&define.amd?define(["jquery"],e):e(jQuery)}(function(e){function t(e){return o.raw?e:encodeURIComponent(e)}function n(e){return o.raw?e:decodeURIComponent(e)}function i(e){return t(o.json?JSON.stringify(e):String(e))}function r(e){0===e.indexOf('"')&&(e=e.slice(1,-1).replace(/\\"/g,'"').replace(/\\\\/g,"\\"));try{return e=decodeURIComponent(e.replace(a," ")),o.json?JSON.parse(e):e}catch(t){}}function s(t,n){var i=o.raw?t:r(t);return e.isFunction(n)?n(i):i}var a=/\+/g,o=e.cookie=function(r,a,u){if(void 0!==a&&!e.isFunction(a)){if(u=e.extend({},o.defaults,u),"number"==typeof u.expires){var l=u.expires,c=u.expires=new Date;c.setTime(+c+864e5*l)}return document.cookie=[t(r),"=",i(a),u.expires?"; expires="+u.expires.toUTCString():"",u.path?"; path="+u.path:"",u.domain?"; domain="+u.domain:"",u.secure?"; secure":""].join("")}for(var h=r?void 0:{},f=document.cookie?document.cookie.split("; "):[],p=0,d=f.length;d>p;p++){var m=f[p].split("="),v=n(m.shift()),g=m.join("=");if(r&&r===v){h=s(g,a);break}r||void 0===(g=s(g))||(h[v]=g)}return h};o.defaults={},e.removeCookie=function(t,n){return void 0===e.cookie(t)?!1:(e.cookie(t,"",e.extend({},n,{expires:-1})),!e.cookie(t))}});